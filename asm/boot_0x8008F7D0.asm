.set noat # allow use of $at
.set noreorder # don't insert nops after branches
.set gp=64 # allow use of 64bit registers
.macro glabel label
    .global \label
    \label:
.endm


glabel func_8008F7D0
/* 015836 0x8008F7D0 27BDFF98 */ addiu	$sp, $sp, -0X68
/* 015837 0x8008F7D4 AFBF003C */ sw	$ra, 0X3C($sp)
/* 015838 0x8008F7D8 AFB60030 */ sw	$s6, 0X30($sp)
/* 015839 0x8008F7DC AFB5002C */ sw	$s5, 0X2C($sp)
/* 015840 0x8008F7E0 AFB1001C */ sw	$s1, 0X1C($sp)
/* 015841 0x8008F7E4 00A08825 */ move	$s1, $a1
/* 015842 0x8008F7E8 0080B025 */ move	$s6, $a0
/* 015843 0x8008F7EC AFBE0038 */ sw	$fp, 0X38($sp)
/* 015844 0x8008F7F0 AFB70034 */ sw	$s7, 0X34($sp)
/* 015845 0x8008F7F4 AFB40028 */ sw	$s4, 0X28($sp)
/* 015846 0x8008F7F8 AFB30024 */ sw	$s3, 0X24($sp)
/* 015847 0x8008F7FC AFB20020 */ sw	$s2, 0X20($sp)
/* 015848 0x8008F800 AFB00018 */ sw	$s0, 0X18($sp)
/* 015849 0x8008F804 AFA60070 */ sw	$a2, 0X70($sp)
/* 015850 0x8008F808 AFA70074 */ sw	$a3, 0X74($sp)
/* 015851 0x8008F80C 0C0226BC */ jal	__osSiGetAccess
/* 015852 0x8008F810 24150002 */ li	$s5, 0X2
/* 015853 0x8008F814 97A50072 */ lhu	$a1, 0X72($sp)
/* 015854 0x8008F818 3C1E8009 */ lui	$fp, %hi(D_80097FB0)
/* 015855 0x8008F81C 3C17800A */ lui	$s7, %hi(__osContLastCmd)
/* 015856 0x8008F820 3C14800A */ lui	$s4, %hi(__osPfsPifRam)
/* 015857 0x8008F824 000570C3 */ sra	$t6, $a1, 3
/* 015858 0x8008F828 00057940 */ sll	$t7, $a1, 5
/* 015859 0x8008F82C AFAF0044 */ sw	$t7, 0X44($sp)
/* 015860 0x8008F830 AFAE0048 */ sw	$t6, 0X48($sp)
/* 015861 0x8008F834 2694E5D0 */ addiu	$s4, $s4, %lo(__osPfsPifRam)
/* 015862 0x8008F838 26F7CF10 */ addiu	$s7, $s7, %lo(__osContLastCmd)
/* 015863 0x8008F83C 27DE7FB0 */ addiu	$fp, $fp, %lo(D_80097FB0)
.L8008F840:
/* 015864 0x8008F840 92F80000 */ lbu	$t8, 0X0($s7)
/* 015865 0x8008F844 24010009 */ li	$at, 0X9
/* 015866 0x8008F848 97A50072 */ lhu	$a1, 0X72($sp)
/* 015867 0x8008F84C 17010003 */ bne	$t8, $at, .L8008F85C
/* 015868 0x8008F850 02808025 */ move	$s0, $s4
/* 015869 0x8008F854 8FD90000 */ lw	$t9, 0X0($fp)
/* 015870 0x8008F858 12390023 */ beq	$s1, $t9, .L8008F8E8
.L8008F85C:
/* 015871 0x8008F85C 24080009 */ li	$t0, 0X9
/* 015872 0x8008F860 A2E80000 */ sb	$t0, 0X0($s7)
/* 015873 0x8008F864 AFD10000 */ sw	$s1, 0X0($fp)
/* 015874 0x8008F868 1A200010 */ blez	$s1, .L8008F8AC
/* 015875 0x8008F86C 00001025 */ move	$v0, $zero
/* 015876 0x8008F870 32240003 */ andi	$a0, $s1, 0X3
/* 015877 0x8008F874 10800006 */ beqz	$a0, .L8008F890
/* 015878 0x8008F878 00801825 */ move	$v1, $a0
.L8008F87C:
/* 015879 0x8008F87C 24420001 */ addiu	$v0, $v0, 0X1
/* 015880 0x8008F880 A2000000 */ sb	$zero, 0X0($s0)
/* 015881 0x8008F884 1462FFFD */ bne	$v1, $v0, .L8008F87C
/* 015882 0x8008F888 26100001 */ addiu	$s0, $s0, 0X1
/* 015883 0x8008F88C 10510007 */ beq	$v0, $s1, .L8008F8AC
.L8008F890:
/* 015884 0x8008F890 24420004 */ addiu	$v0, $v0, 0X4
/* 015885 0x8008F894 A2000000 */ sb	$zero, 0X0($s0)
/* 015886 0x8008F898 A2000001 */ sb	$zero, 0X1($s0)
/* 015887 0x8008F89C A2000002 */ sb	$zero, 0X2($s0)
/* 015888 0x8008F8A0 A2000003 */ sb	$zero, 0X3($s0)
/* 015889 0x8008F8A4 1451FFFA */ bne	$v0, $s1, .L8008F890
/* 015890 0x8008F8A8 26100004 */ addiu	$s0, $s0, 0X4
.L8008F8AC:
/* 015891 0x8008F8AC 24090001 */ li	$t1, 0X1
/* 015892 0x8008F8B0 AE89003C */ sw	$t1, 0X3C($s4)
/* 015893 0x8008F8B4 240A00FF */ li	$t2, 0XFF
/* 015894 0x8008F8B8 240B0003 */ li	$t3, 0X3
/* 015895 0x8008F8BC 240C0025 */ li	$t4, 0X25
/* 015896 0x8008F8C0 240D0009 */ li	$t5, 0X9
/* 015897 0x8008F8C4 240E00FF */ li	$t6, 0XFF
/* 015898 0x8008F8C8 240F00FE */ li	$t7, 0XFE
/* 015899 0x8008F8CC A20A0000 */ sb	$t2, 0X0($s0)
/* 015900 0x8008F8D0 A20B0001 */ sb	$t3, 0X1($s0)
/* 015901 0x8008F8D4 A20C0002 */ sb	$t4, 0X2($s0)
/* 015902 0x8008F8D8 A20D0003 */ sb	$t5, 0X3($s0)
/* 015903 0x8008F8DC A20E002A */ sb	$t6, 0X2A($s0)
/* 015904 0x8008F8E0 10000002 */ b	.L8008F8EC
/* 015905 0x8008F8E4 A20F002B */ sb	$t7, 0X2B($s0)
.L8008F8E8:
/* 015906 0x8008F8E8 02918021 */ addu	$s0, $s4, $s1
.L8008F8EC:
/* 015907 0x8008F8EC 8FB80048 */ lw	$t8, 0X48($sp)
/* 015908 0x8008F8F0 30A4FFFF */ andi	$a0, $a1, 0XFFFF
/* 015909 0x8008F8F4 0C024428 */ jal	__osContAddressCrc
/* 015910 0x8008F8F8 A2180004 */ sb	$t8, 0X4($s0)
/* 015911 0x8008F8FC 8FB90044 */ lw	$t9, 0X44($sp)
/* 015912 0x8008F900 24040001 */ li	$a0, 0X1
/* 015913 0x8008F904 02802825 */ move	$a1, $s4
/* 015914 0x8008F908 00594025 */ or	$t0, $v0, $t9
/* 015915 0x8008F90C 0C022B5C */ jal	__osSiRawStartDma
/* 015916 0x8008F910 A2080005 */ sb	$t0, 0X5($s0)
/* 015917 0x8008F914 02C02025 */ move	$a0, $s6
/* 015918 0x8008F918 00002825 */ move	$a1, $zero
/* 015919 0x8008F91C 0C021FB4 */ jal	osRecvMesg
/* 015920 0x8008F920 24060001 */ li	$a2, 0X1
/* 015921 0x8008F924 00002025 */ move	$a0, $zero
/* 015922 0x8008F928 0C022B5C */ jal	__osSiRawStartDma
/* 015923 0x8008F92C 02802825 */ move	$a1, $s4
/* 015924 0x8008F930 02C02025 */ move	$a0, $s6
/* 015925 0x8008F934 00002825 */ move	$a1, $zero
/* 015926 0x8008F938 0C021FB4 */ jal	osRecvMesg
/* 015927 0x8008F93C 24060001 */ li	$a2, 0X1
/* 015928 0x8008F940 92130002 */ lbu	$s3, 0X2($s0)
/* 015929 0x8008F944 26120006 */ addiu	$s2, $s0, 0X6
/* 015930 0x8008F948 02402025 */ move	$a0, $s2
/* 015931 0x8008F94C 326900C0 */ andi	$t1, $s3, 0XC0
/* 015932 0x8008F950 00099903 */ sra	$s3, $t1, 4
/* 015933 0x8008F954 56600014 */ bnezl	$s3, .L8008F9A8
/* 015934 0x8008F958 24130001 */ li	$s3, 0X1
/* 015935 0x8008F95C 0C023C40 */ jal	func_8008F100
/* 015936 0x8008F960 24050024 */ li	$a1, 0X24
/* 015937 0x8008F964 920B002A */ lbu	$t3, 0X2A($s0)
/* 015938 0x8008F968 27A60063 */ addiu	$a2, $sp, 0X63
/* 015939 0x8008F96C 02402025 */ move	$a0, $s2
/* 015940 0x8008F970 11620008 */ beq	$t3, $v0, .L8008F994
/* 015941 0x8008F974 8FA50074 */ lw	$a1, 0X74($sp)
/* 015942 0x8008F978 02C02025 */ move	$a0, $s6
/* 015943 0x8008F97C 0C0249CC */ jal	func_80092730
/* 015944 0x8008F980 02202825 */ move	$a1, $s1
/* 015945 0x8008F984 1440000D */ bnez	$v0, .L8008F9BC
/* 015946 0x8008F988 00409825 */ move	$s3, $v0
/* 015947 0x8008F98C 10000006 */ b	.L8008F9A8
/* 015948 0x8008F990 24130004 */ li	$s3, 0X4
.L8008F994:
/* 015949 0x8008F994 0C0244B0 */ jal	_bcopy
/* 015950 0x8008F998 24060024 */ li	$a2, 0X24
/* 015951 0x8008F99C 10000003 */ b	.L8008F9AC
/* 015952 0x8008F9A0 24010004 */ li	$at, 0X4
/* 015953 0x8008F9A4 24130001 */ li	$s3, 0X1
.L8008F9A8:
/* 015954 0x8008F9A8 24010004 */ li	$at, 0X4
.L8008F9AC:
/* 015955 0x8008F9AC 16610003 */ bne	$s3, $at, .L8008F9BC
/* 015956 0x8008F9B0 2AA20000 */ slti	$v0, $s5, 0X0
/* 015957 0x8008F9B4 1040FFA2 */ beqz	$v0, .L8008F840
/* 015958 0x8008F9B8 26B5FFFF */ addiu	$s5, $s5, -0X1
.L8008F9BC:
/* 015959 0x8008F9BC 0C0226CD */ jal	__osSiRelAccess
/* 015960 0x8008F9C0 00000000 */ nop
/* 015961 0x8008F9C4 8FBF003C */ lw	$ra, 0X3C($sp)
/* 015962 0x8008F9C8 02601025 */ move	$v0, $s3
/* 015963 0x8008F9CC 8FB30024 */ lw	$s3, 0X24($sp)
/* 015964 0x8008F9D0 8FB00018 */ lw	$s0, 0X18($sp)
/* 015965 0x8008F9D4 8FB1001C */ lw	$s1, 0X1C($sp)
/* 015966 0x8008F9D8 8FB20020 */ lw	$s2, 0X20($sp)
/* 015967 0x8008F9DC 8FB40028 */ lw	$s4, 0X28($sp)
/* 015968 0x8008F9E0 8FB5002C */ lw	$s5, 0X2C($sp)
/* 015969 0x8008F9E4 8FB60030 */ lw	$s6, 0X30($sp)
/* 015970 0x8008F9E8 8FB70034 */ lw	$s7, 0X34($sp)
/* 015971 0x8008F9EC 8FBE0038 */ lw	$fp, 0X38($sp)
/* 015972 0x8008F9F0 03E00008 */ jr	$ra
/* 015973 0x8008F9F4 27BD0068 */ addiu	$sp, $sp, 0X68
/* 015974 0x8008F9F8 00000000 */ nop
/* 015975 0x8008F9FC 00000000 */ nop
