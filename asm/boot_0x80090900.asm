.set noat # allow use of $at
.set noreorder # don't insert nops after branches
.set gp=64 # allow use of 64bit registers
.macro glabel label
    .global \label
    \label:
.endm


glabel func_80090900
/* 016936 0x80090900 27BDFF98 */ addiu	$sp, $sp, -0X68
/* 016937 0x80090904 AFBF003C */ sw	$ra, 0X3C($sp)
/* 016938 0x80090908 AFB40028 */ sw	$s4, 0X28($sp)
/* 016939 0x8009090C AFB30024 */ sw	$s3, 0X24($sp)
/* 016940 0x80090910 AFB1001C */ sw	$s1, 0X1C($sp)
/* 016941 0x80090914 00A08825 */ move	$s1, $a1
/* 016942 0x80090918 0080A025 */ move	$s4, $a0
/* 016943 0x8009091C AFBE0038 */ sw	$fp, 0X38($sp)
/* 016944 0x80090920 AFB70034 */ sw	$s7, 0X34($sp)
/* 016945 0x80090924 AFB60030 */ sw	$s6, 0X30($sp)
/* 016946 0x80090928 AFB5002C */ sw	$s5, 0X2C($sp)
/* 016947 0x8009092C AFB20020 */ sw	$s2, 0X20($sp)
/* 016948 0x80090930 AFB00018 */ sw	$s0, 0X18($sp)
/* 016949 0x80090934 AFA60070 */ sw	$a2, 0X70($sp)
/* 016950 0x80090938 0C0226BC */ jal	__osSiGetAccess
/* 016951 0x8009093C 24130002 */ li	$s3, 0X2
/* 016952 0x80090940 93A50073 */ lbu	$a1, 0X73($sp)
/* 016953 0x80090944 3C168009 */ lui	$s6, %hi(D_80097FB0)
/* 016954 0x80090948 3C15800A */ lui	$s5, %hi(__osContLastCmd)
/* 016955 0x8009094C 000570C0 */ sll	$t6, $a1, 3
/* 016956 0x80090950 31CFFFFF */ andi	$t7, $t6, 0XFFFF
/* 016957 0x80090954 3C12800A */ lui	$s2, %hi(__osPfsPifRam)
/* 016958 0x80090958 2652E5D0 */ addiu	$s2, $s2, %lo(__osPfsPifRam)
/* 016959 0x8009095C AFAF0048 */ sw	$t7, 0X48($sp)
/* 016960 0x80090960 26B5CF10 */ addiu	$s5, $s5, %lo(__osContLastCmd)
/* 016961 0x80090964 26D67FB0 */ addiu	$s6, $s6, %lo(D_80097FB0)
/* 016962 0x80090968 241E0001 */ li	$fp, 0X1
/* 016963 0x8009096C 2417000D */ li	$s7, 0XD
.L80090970:
/* 016964 0x80090970 92B80000 */ lbu	$t8, 0X0($s5)
/* 016965 0x80090974 2401000D */ li	$at, 0XD
/* 016966 0x80090978 93A50073 */ lbu	$a1, 0X73($sp)
/* 016967 0x8009097C 17010004 */ bne	$t8, $at, .L80090990
/* 016968 0x80090980 02408025 */ move	$s0, $s2
/* 016969 0x80090984 8ED90000 */ lw	$t9, 0X0($s6)
/* 016970 0x80090988 5239001E */ beql	$s1, $t9, .L80090A04
/* 016971 0x8009098C 02518021 */ addu	$s0, $s2, $s1
.L80090990:
/* 016972 0x80090990 A2B70000 */ sb	$s7, 0X0($s5)
/* 016973 0x80090994 AED10000 */ sw	$s1, 0X0($s6)
/* 016974 0x80090998 1A200010 */ blez	$s1, .L800909DC
/* 016975 0x8009099C 00001025 */ move	$v0, $zero
/* 016976 0x800909A0 32240003 */ andi	$a0, $s1, 0X3
/* 016977 0x800909A4 10800006 */ beqz	$a0, .L800909C0
/* 016978 0x800909A8 00801825 */ move	$v1, $a0
.L800909AC:
/* 016979 0x800909AC 24420001 */ addiu	$v0, $v0, 0X1
/* 016980 0x800909B0 A2000000 */ sb	$zero, 0X0($s0)
/* 016981 0x800909B4 1462FFFD */ bne	$v1, $v0, .L800909AC
/* 016982 0x800909B8 26100001 */ addiu	$s0, $s0, 0X1
/* 016983 0x800909BC 10510007 */ beq	$v0, $s1, .L800909DC
.L800909C0:
/* 016984 0x800909C0 24420004 */ addiu	$v0, $v0, 0X4
/* 016985 0x800909C4 A2000000 */ sb	$zero, 0X0($s0)
/* 016986 0x800909C8 A2000001 */ sb	$zero, 0X1($s0)
/* 016987 0x800909CC A2000002 */ sb	$zero, 0X2($s0)
/* 016988 0x800909D0 A2000003 */ sb	$zero, 0X3($s0)
/* 016989 0x800909D4 1451FFFA */ bne	$v0, $s1, .L800909C0
/* 016990 0x800909D8 26100004 */ addiu	$s0, $s0, 0X4
.L800909DC:
/* 016991 0x800909DC AE5E003C */ sw	$fp, 0X3C($s2)
/* 016992 0x800909E0 24080003 */ li	$t0, 0X3
/* 016993 0x800909E4 240900FE */ li	$t1, 0XFE
/* 016994 0x800909E8 A2080000 */ sb	$t0, 0X0($s0)
/* 016995 0x800909EC A21E0001 */ sb	$fp, 0X1($s0)
/* 016996 0x800909F0 A2170002 */ sb	$s7, 0X2($s0)
/* 016997 0x800909F4 A2000005 */ sb	$zero, 0X5($s0)
/* 016998 0x800909F8 10000002 */ b	.L80090A04
/* 016999 0x800909FC A2090006 */ sb	$t1, 0X6($s0)
/* 017000 0x80090A00 02518021 */ addu	$s0, $s2, $s1
.L80090A04:
/* 017001 0x80090A04 A2050003 */ sb	$a1, 0X3($s0)
/* 017002 0x80090A08 0C024428 */ jal	__osContAddressCrc
/* 017003 0x80090A0C 97A4004A */ lhu	$a0, 0X4A($sp)
/* 017004 0x80090A10 A2020004 */ sb	$v0, 0X4($s0)
/* 017005 0x80090A14 24040001 */ li	$a0, 0X1
/* 017006 0x80090A18 0C022B5C */ jal	__osSiRawStartDma
/* 017007 0x80090A1C 02402825 */ move	$a1, $s2
/* 017008 0x80090A20 02802025 */ move	$a0, $s4
/* 017009 0x80090A24 00002825 */ move	$a1, $zero
/* 017010 0x80090A28 0C021FB4 */ jal	osRecvMesg
/* 017011 0x80090A2C 24060001 */ li	$a2, 0X1
/* 017012 0x80090A30 00002025 */ move	$a0, $zero
/* 017013 0x80090A34 0C022B5C */ jal	__osSiRawStartDma
/* 017014 0x80090A38 02402825 */ move	$a1, $s2
/* 017015 0x80090A3C 02802025 */ move	$a0, $s4
/* 017016 0x80090A40 00002825 */ move	$a1, $zero
/* 017017 0x80090A44 0C021FB4 */ jal	osRecvMesg
/* 017018 0x80090A48 24060001 */ li	$a2, 0X1
/* 017019 0x80090A4C 92030001 */ lbu	$v1, 0X1($s0)
/* 017020 0x80090A50 306A00C0 */ andi	$t2, $v1, 0XC0
/* 017021 0x80090A54 000A1903 */ sra	$v1, $t2, 4
/* 017022 0x80090A58 5460000E */ bnezl	$v1, .L80090A94
/* 017023 0x80090A5C 24030001 */ li	$v1, 0X1
/* 017024 0x80090A60 920C0005 */ lbu	$t4, 0X5($s0)
/* 017025 0x80090A64 02802025 */ move	$a0, $s4
/* 017026 0x80090A68 02202825 */ move	$a1, $s1
/* 017027 0x80090A6C 318D0001 */ andi	$t5, $t4, 0X1
/* 017028 0x80090A70 51A00009 */ beqzl	$t5, .L80090A98
/* 017029 0x80090A74 24010004 */ li	$at, 0X4
/* 017030 0x80090A78 0C0249CC */ jal	func_80092730
/* 017031 0x80090A7C 27A6005B */ addiu	$a2, $sp, 0X5B
/* 017032 0x80090A80 14400009 */ bnez	$v0, .L80090AA8
/* 017033 0x80090A84 00401825 */ move	$v1, $v0
/* 017034 0x80090A88 10000002 */ b	.L80090A94
/* 017035 0x80090A8C 24030004 */ li	$v1, 0X4
/* 017036 0x80090A90 24030001 */ li	$v1, 0X1
.L80090A94:
/* 017037 0x80090A94 24010004 */ li	$at, 0X4
.L80090A98:
/* 017038 0x80090A98 14610003 */ bne	$v1, $at, .L80090AA8
/* 017039 0x80090A9C 2A620000 */ slti	$v0, $s3, 0X0
/* 017040 0x80090AA0 1040FFB3 */ beqz	$v0, .L80090970
/* 017041 0x80090AA4 2673FFFF */ addiu	$s3, $s3, -0X1
.L80090AA8:
/* 017042 0x80090AA8 0C0226CD */ jal	__osSiRelAccess
/* 017043 0x80090AAC AFA30064 */ sw	$v1, 0X64($sp)
/* 017044 0x80090AB0 8FBF003C */ lw	$ra, 0X3C($sp)
/* 017045 0x80090AB4 8FA20064 */ lw	$v0, 0X64($sp)
/* 017046 0x80090AB8 8FB00018 */ lw	$s0, 0X18($sp)
/* 017047 0x80090ABC 8FB1001C */ lw	$s1, 0X1C($sp)
/* 017048 0x80090AC0 8FB20020 */ lw	$s2, 0X20($sp)
/* 017049 0x80090AC4 8FB30024 */ lw	$s3, 0X24($sp)
/* 017050 0x80090AC8 8FB40028 */ lw	$s4, 0X28($sp)
/* 017051 0x80090ACC 8FB5002C */ lw	$s5, 0X2C($sp)
/* 017052 0x80090AD0 8FB60030 */ lw	$s6, 0X30($sp)
/* 017053 0x80090AD4 8FB70034 */ lw	$s7, 0X34($sp)
/* 017054 0x80090AD8 8FBE0038 */ lw	$fp, 0X38($sp)
/* 017055 0x80090ADC 03E00008 */ jr	$ra
/* 017056 0x80090AE0 27BD0068 */ addiu	$sp, $sp, 0X68
/* 017057 0x80090AE4 00000000 */ nop
/* 017058 0x80090AE8 00000000 */ nop
/* 017059 0x80090AEC 00000000 */ nop
