.set noat # allow use of $at
.set noreorder # don't insert nops after branches
.set gp=64 # allow use of 64bit registers
.macro glabel label
    .global \label
    \label:
.endm


glabel func_80090E70
/* 017284 0x80090E70 27BDFF90 */ addiu	$sp, $sp, -0X70
/* 017285 0x80090E74 AFBF003C */ sw	$ra, 0X3C($sp)
/* 017286 0x80090E78 AFB60030 */ sw	$s6, 0X30($sp)
/* 017287 0x80090E7C AFB5002C */ sw	$s5, 0X2C($sp)
/* 017288 0x80090E80 AFB40028 */ sw	$s4, 0X28($sp)
/* 017289 0x80090E84 AFB1001C */ sw	$s1, 0X1C($sp)
/* 017290 0x80090E88 00A08825 */ move	$s1, $a1
/* 017291 0x80090E8C 0080A825 */ move	$s5, $a0
/* 017292 0x80090E90 00E0B025 */ move	$s6, $a3
/* 017293 0x80090E94 AFBE0038 */ sw	$fp, 0X38($sp)
/* 017294 0x80090E98 AFB70034 */ sw	$s7, 0X34($sp)
/* 017295 0x80090E9C AFB30024 */ sw	$s3, 0X24($sp)
/* 017296 0x80090EA0 AFB20020 */ sw	$s2, 0X20($sp)
/* 017297 0x80090EA4 AFB00018 */ sw	$s0, 0X18($sp)
/* 017298 0x80090EA8 AFA60078 */ sw	$a2, 0X78($sp)
/* 017299 0x80090EAC 0C0226BC */ jal	__osSiGetAccess
/* 017300 0x80090EB0 24140002 */ li	$s4, 0X2
/* 017301 0x80090EB4 97A5007A */ lhu	$a1, 0X7A($sp)
/* 017302 0x80090EB8 3C1E8009 */ lui	$fp, %hi(D_80097FB0)
/* 017303 0x80090EBC 3C17800A */ lui	$s7, %hi(__osContLastCmd)
/* 017304 0x80090EC0 3C13800A */ lui	$s3, %hi(__osPfsPifRam)
/* 017305 0x80090EC4 000570C3 */ sra	$t6, $a1, 3
/* 017306 0x80090EC8 00057940 */ sll	$t7, $a1, 5
/* 017307 0x80090ECC AFAF0048 */ sw	$t7, 0X48($sp)
/* 017308 0x80090ED0 AFAE004C */ sw	$t6, 0X4C($sp)
/* 017309 0x80090ED4 2673E5D0 */ addiu	$s3, $s3, %lo(__osPfsPifRam)
/* 017310 0x80090ED8 26F7CF10 */ addiu	$s7, $s7, %lo(__osContLastCmd)
/* 017311 0x80090EDC 27DE7FB0 */ addiu	$fp, $fp, %lo(D_80097FB0)
.L80090EE0:
/* 017312 0x80090EE0 92F80000 */ lbu	$t8, 0X0($s7)
/* 017313 0x80090EE4 2401000A */ li	$at, 0XA
/* 017314 0x80090EE8 97A5007A */ lhu	$a1, 0X7A($sp)
/* 017315 0x80090EEC 17010003 */ bne	$t8, $at, .L80090EFC
/* 017316 0x80090EF0 02608025 */ move	$s0, $s3
/* 017317 0x80090EF4 8FD90000 */ lw	$t9, 0X0($fp)
/* 017318 0x80090EF8 12390023 */ beq	$s1, $t9, .L80090F88
.L80090EFC:
/* 017319 0x80090EFC 2408000A */ li	$t0, 0XA
/* 017320 0x80090F00 A2E80000 */ sb	$t0, 0X0($s7)
/* 017321 0x80090F04 AFD10000 */ sw	$s1, 0X0($fp)
/* 017322 0x80090F08 1A200010 */ blez	$s1, .L80090F4C
/* 017323 0x80090F0C 00001025 */ move	$v0, $zero
/* 017324 0x80090F10 32240003 */ andi	$a0, $s1, 0X3
/* 017325 0x80090F14 10800006 */ beqz	$a0, .L80090F30
/* 017326 0x80090F18 00801825 */ move	$v1, $a0
.L80090F1C:
/* 017327 0x80090F1C 24420001 */ addiu	$v0, $v0, 0X1
/* 017328 0x80090F20 A2000000 */ sb	$zero, 0X0($s0)
/* 017329 0x80090F24 1462FFFD */ bne	$v1, $v0, .L80090F1C
/* 017330 0x80090F28 26100001 */ addiu	$s0, $s0, 0X1
/* 017331 0x80090F2C 10510007 */ beq	$v0, $s1, .L80090F4C
.L80090F30:
/* 017332 0x80090F30 24420004 */ addiu	$v0, $v0, 0X4
/* 017333 0x80090F34 A2000000 */ sb	$zero, 0X0($s0)
/* 017334 0x80090F38 A2000001 */ sb	$zero, 0X1($s0)
/* 017335 0x80090F3C A2000002 */ sb	$zero, 0X2($s0)
/* 017336 0x80090F40 A2000003 */ sb	$zero, 0X3($s0)
/* 017337 0x80090F44 1451FFFA */ bne	$v0, $s1, .L80090F30
/* 017338 0x80090F48 26100004 */ addiu	$s0, $s0, 0X4
.L80090F4C:
/* 017339 0x80090F4C 24090001 */ li	$t1, 0X1
/* 017340 0x80090F50 AE69003C */ sw	$t1, 0X3C($s3)
/* 017341 0x80090F54 240A00FF */ li	$t2, 0XFF
/* 017342 0x80090F58 240B0017 */ li	$t3, 0X17
/* 017343 0x80090F5C 240C0001 */ li	$t4, 0X1
/* 017344 0x80090F60 240D000A */ li	$t5, 0XA
/* 017345 0x80090F64 240E00FF */ li	$t6, 0XFF
/* 017346 0x80090F68 240F00FE */ li	$t7, 0XFE
/* 017347 0x80090F6C A20A0000 */ sb	$t2, 0X0($s0)
/* 017348 0x80090F70 A20B0001 */ sb	$t3, 0X1($s0)
/* 017349 0x80090F74 A20C0002 */ sb	$t4, 0X2($s0)
/* 017350 0x80090F78 A20D0003 */ sb	$t5, 0X3($s0)
/* 017351 0x80090F7C A20E001A */ sb	$t6, 0X1A($s0)
/* 017352 0x80090F80 10000002 */ b	.L80090F8C
/* 017353 0x80090F84 A20F001B */ sb	$t7, 0X1B($s0)
.L80090F88:
/* 017354 0x80090F88 02718021 */ addu	$s0, $s3, $s1
.L80090F8C:
/* 017355 0x80090F8C 8FB8004C */ lw	$t8, 0X4C($sp)
/* 017356 0x80090F90 30A4FFFF */ andi	$a0, $a1, 0XFFFF
/* 017357 0x80090F94 0C024428 */ jal	__osContAddressCrc
/* 017358 0x80090F98 A2180004 */ sb	$t8, 0X4($s0)
/* 017359 0x80090F9C 8FB90048 */ lw	$t9, 0X48($sp)
/* 017360 0x80090FA0 02C02025 */ move	$a0, $s6
/* 017361 0x80090FA4 26050006 */ addiu	$a1, $s0, 0X6
/* 017362 0x80090FA8 00594025 */ or	$t0, $v0, $t9
/* 017363 0x80090FAC A2080005 */ sb	$t0, 0X5($s0)
/* 017364 0x80090FB0 0C0244B0 */ jal	_bcopy
/* 017365 0x80090FB4 24060014 */ li	$a2, 0X14
/* 017366 0x80090FB8 24040001 */ li	$a0, 0X1
/* 017367 0x80090FBC 0C022B5C */ jal	__osSiRawStartDma
/* 017368 0x80090FC0 02602825 */ move	$a1, $s3
/* 017369 0x80090FC4 02C02025 */ move	$a0, $s6
/* 017370 0x80090FC8 0C023C40 */ jal	func_8008F100
/* 017371 0x80090FCC 24050014 */ li	$a1, 0X14
/* 017372 0x80090FD0 305200FF */ andi	$s2, $v0, 0XFF
/* 017373 0x80090FD4 02A02025 */ move	$a0, $s5
/* 017374 0x80090FD8 00002825 */ move	$a1, $zero
/* 017375 0x80090FDC 0C021FB4 */ jal	osRecvMesg
/* 017376 0x80090FE0 24060001 */ li	$a2, 0X1
/* 017377 0x80090FE4 00002025 */ move	$a0, $zero
/* 017378 0x80090FE8 0C022B5C */ jal	__osSiRawStartDma
/* 017379 0x80090FEC 02602825 */ move	$a1, $s3
/* 017380 0x80090FF0 02A02025 */ move	$a0, $s5
/* 017381 0x80090FF4 00002825 */ move	$a1, $zero
/* 017382 0x80090FF8 0C021FB4 */ jal	osRecvMesg
/* 017383 0x80090FFC 24060001 */ li	$a2, 0X1
/* 017384 0x80091000 92030002 */ lbu	$v1, 0X2($s0)
/* 017385 0x80091004 306900C0 */ andi	$t1, $v1, 0XC0
/* 017386 0x80091008 00091903 */ sra	$v1, $t1, 4
/* 017387 0x8009100C 5460000D */ bnezl	$v1, .L80091044
/* 017388 0x80091010 24030001 */ li	$v1, 0X1
/* 017389 0x80091014 920B001A */ lbu	$t3, 0X1A($s0)
/* 017390 0x80091018 02A02025 */ move	$a0, $s5
/* 017391 0x8009101C 02202825 */ move	$a1, $s1
/* 017392 0x80091020 51720009 */ beql	$t3, $s2, .L80091048
/* 017393 0x80091024 24010004 */ li	$at, 0X4
/* 017394 0x80091028 0C0249CC */ jal	func_80092730
/* 017395 0x8009102C 27A6006B */ addiu	$a2, $sp, 0X6B
/* 017396 0x80091030 14400009 */ bnez	$v0, .L80091058
/* 017397 0x80091034 00401825 */ move	$v1, $v0
/* 017398 0x80091038 10000002 */ b	.L80091044
/* 017399 0x8009103C 24030004 */ li	$v1, 0X4
/* 017400 0x80091040 24030001 */ li	$v1, 0X1
.L80091044:
/* 017401 0x80091044 24010004 */ li	$at, 0X4
.L80091048:
/* 017402 0x80091048 14610003 */ bne	$v1, $at, .L80091058
/* 017403 0x8009104C 2A820000 */ slti	$v0, $s4, 0X0
/* 017404 0x80091050 1040FFA3 */ beqz	$v0, .L80090EE0
/* 017405 0x80091054 2694FFFF */ addiu	$s4, $s4, -0X1
.L80091058:
/* 017406 0x80091058 0C0226CD */ jal	__osSiRelAccess
/* 017407 0x8009105C AFA3006C */ sw	$v1, 0X6C($sp)
/* 017408 0x80091060 8FBF003C */ lw	$ra, 0X3C($sp)
/* 017409 0x80091064 8FA2006C */ lw	$v0, 0X6C($sp)
/* 017410 0x80091068 8FB00018 */ lw	$s0, 0X18($sp)
/* 017411 0x8009106C 8FB1001C */ lw	$s1, 0X1C($sp)
/* 017412 0x80091070 8FB20020 */ lw	$s2, 0X20($sp)
/* 017413 0x80091074 8FB30024 */ lw	$s3, 0X24($sp)
/* 017414 0x80091078 8FB40028 */ lw	$s4, 0X28($sp)
/* 017415 0x8009107C 8FB5002C */ lw	$s5, 0X2C($sp)
/* 017416 0x80091080 8FB60030 */ lw	$s6, 0X30($sp)
/* 017417 0x80091084 8FB70034 */ lw	$s7, 0X34($sp)
/* 017418 0x80091088 8FBE0038 */ lw	$fp, 0X38($sp)
/* 017419 0x8009108C 03E00008 */ jr	$ra
/* 017420 0x80091090 27BD0070 */ addiu	$sp, $sp, 0X70
/* 017421 0x80091094 00000000 */ nop
/* 017422 0x80091098 00000000 */ nop
/* 017423 0x8009109C 00000000 */ nop
