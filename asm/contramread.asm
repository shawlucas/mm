.set noat # allow use of $at
.set noreorder # don't insert nops after branches
.set gp=64 # allow use of 64bit registers
.macro glabel label
    .global \label
    \label:
.endm


glabel __osContRamRead
/* 017144 0x80090C40 27BDFFA0 */ addiu	$sp, $sp, -0X60
/* 017145 0x80090C44 AFBF003C */ sw	$ra, 0X3C($sp)
/* 017146 0x80090C48 AFB60030 */ sw	$s6, 0X30($sp)
/* 017147 0x80090C4C AFB5002C */ sw	$s5, 0X2C($sp)
/* 017148 0x80090C50 AFB1001C */ sw	$s1, 0X1C($sp)
/* 017149 0x80090C54 00A08825 */ move	$s1, $a1
/* 017150 0x80090C58 0080B025 */ move	$s6, $a0
/* 017151 0x80090C5C AFBE0038 */ sw	$fp, 0X38($sp)
/* 017152 0x80090C60 AFB70034 */ sw	$s7, 0X34($sp)
/* 017153 0x80090C64 AFB40028 */ sw	$s4, 0X28($sp)
/* 017154 0x80090C68 AFB30024 */ sw	$s3, 0X24($sp)
/* 017155 0x80090C6C AFB20020 */ sw	$s2, 0X20($sp)
/* 017156 0x80090C70 AFB00018 */ sw	$s0, 0X18($sp)
/* 017157 0x80090C74 AFA60068 */ sw	$a2, 0X68($sp)
/* 017158 0x80090C78 AFA7006C */ sw	$a3, 0X6C($sp)
/* 017159 0x80090C7C 0C0226BC */ jal	__osSiGetAccess
/* 017160 0x80090C80 24150002 */ li	$s5, 0X2
/* 017161 0x80090C84 97A5006A */ lhu	$a1, 0X6A($sp)
/* 017162 0x80090C88 3C1E8009 */ lui	$fp, %hi(D_80097FB0)
/* 017163 0x80090C8C 3C17800A */ lui	$s7, %hi(__osContLastCmd)
/* 017164 0x80090C90 3C14800A */ lui	$s4, %hi(__osPfsPifRam)
/* 017165 0x80090C94 000570C3 */ sra	$t6, $a1, 3
/* 017166 0x80090C98 00057940 */ sll	$t7, $a1, 5
/* 017167 0x80090C9C AFAF0040 */ sw	$t7, 0X40($sp)
/* 017168 0x80090CA0 AFAE0044 */ sw	$t6, 0X44($sp)
/* 017169 0x80090CA4 2694E5D0 */ addiu	$s4, $s4, %lo(__osPfsPifRam)
/* 017170 0x80090CA8 26F7CF10 */ addiu	$s7, $s7, %lo(__osContLastCmd)
/* 017171 0x80090CAC 27DE7FB0 */ addiu	$fp, $fp, %lo(D_80097FB0)
.L80090CB0:
/* 017172 0x80090CB0 92F80000 */ lbu	$t8, 0X0($s7)
/* 017173 0x80090CB4 24010002 */ li	$at, 0X2
/* 017174 0x80090CB8 97A5006A */ lhu	$a1, 0X6A($sp)
/* 017175 0x80090CBC 17010003 */ bne	$t8, $at, .L80090CCC
/* 017176 0x80090CC0 02808025 */ move	$s0, $s4
/* 017177 0x80090CC4 8FD90000 */ lw	$t9, 0X0($fp)
/* 017178 0x80090CC8 12390023 */ beq	$s1, $t9, .L80090D58
.L80090CCC:
/* 017179 0x80090CCC 24080002 */ li	$t0, 0X2
/* 017180 0x80090CD0 A2E80000 */ sb	$t0, 0X0($s7)
/* 017181 0x80090CD4 AFD10000 */ sw	$s1, 0X0($fp)
/* 017182 0x80090CD8 1A200010 */ blez	$s1, .L80090D1C
/* 017183 0x80090CDC 00001025 */ move	$v0, $zero
/* 017184 0x80090CE0 32240003 */ andi	$a0, $s1, 0X3
/* 017185 0x80090CE4 10800006 */ beqz	$a0, .L80090D00
/* 017186 0x80090CE8 00801825 */ move	$v1, $a0
.L80090CEC:
/* 017187 0x80090CEC 24420001 */ addiu	$v0, $v0, 0X1
/* 017188 0x80090CF0 A2000000 */ sb	$zero, 0X0($s0)
/* 017189 0x80090CF4 1462FFFD */ bne	$v1, $v0, .L80090CEC
/* 017190 0x80090CF8 26100001 */ addiu	$s0, $s0, 0X1
/* 017191 0x80090CFC 10510007 */ beq	$v0, $s1, .L80090D1C
.L80090D00:
/* 017192 0x80090D00 24420004 */ addiu	$v0, $v0, 0X4
/* 017193 0x80090D04 A2000000 */ sb	$zero, 0X0($s0)
/* 017194 0x80090D08 A2000001 */ sb	$zero, 0X1($s0)
/* 017195 0x80090D0C A2000002 */ sb	$zero, 0X2($s0)
/* 017196 0x80090D10 A2000003 */ sb	$zero, 0X3($s0)
/* 017197 0x80090D14 1451FFFA */ bne	$v0, $s1, .L80090D00
/* 017198 0x80090D18 26100004 */ addiu	$s0, $s0, 0X4
.L80090D1C:
/* 017199 0x80090D1C 24090001 */ li	$t1, 0X1
/* 017200 0x80090D20 AE89003C */ sw	$t1, 0X3C($s4)
/* 017201 0x80090D24 240A00FF */ li	$t2, 0XFF
/* 017202 0x80090D28 240B0003 */ li	$t3, 0X3
/* 017203 0x80090D2C 240C0021 */ li	$t4, 0X21
/* 017204 0x80090D30 240D0002 */ li	$t5, 0X2
/* 017205 0x80090D34 240E00FF */ li	$t6, 0XFF
/* 017206 0x80090D38 240F00FE */ li	$t7, 0XFE
/* 017207 0x80090D3C A20A0000 */ sb	$t2, 0X0($s0)
/* 017208 0x80090D40 A20B0001 */ sb	$t3, 0X1($s0)
/* 017209 0x80090D44 A20C0002 */ sb	$t4, 0X2($s0)
/* 017210 0x80090D48 A20D0003 */ sb	$t5, 0X3($s0)
/* 017211 0x80090D4C A20E0026 */ sb	$t6, 0X26($s0)
/* 017212 0x80090D50 10000002 */ b	.L80090D5C
/* 017213 0x80090D54 A20F0027 */ sb	$t7, 0X27($s0)
.L80090D58:
/* 017214 0x80090D58 02918021 */ addu	$s0, $s4, $s1
.L80090D5C:
/* 017215 0x80090D5C 8FB80044 */ lw	$t8, 0X44($sp)
/* 017216 0x80090D60 30A4FFFF */ andi	$a0, $a1, 0XFFFF
/* 017217 0x80090D64 0C024428 */ jal	__osContAddressCrc
/* 017218 0x80090D68 A2180004 */ sb	$t8, 0X4($s0)
/* 017219 0x80090D6C 8FB90040 */ lw	$t9, 0X40($sp)
/* 017220 0x80090D70 24040001 */ li	$a0, 0X1
/* 017221 0x80090D74 02802825 */ move	$a1, $s4
/* 017222 0x80090D78 00594025 */ or	$t0, $v0, $t9
/* 017223 0x80090D7C 0C022B5C */ jal	__osSiRawStartDma
/* 017224 0x80090D80 A2080005 */ sb	$t0, 0X5($s0)
/* 017225 0x80090D84 02C02025 */ move	$a0, $s6
/* 017226 0x80090D88 00002825 */ move	$a1, $zero
/* 017227 0x80090D8C 0C021FB4 */ jal	osRecvMesg
/* 017228 0x80090D90 24060001 */ li	$a2, 0X1
/* 017229 0x80090D94 00002025 */ move	$a0, $zero
/* 017230 0x80090D98 0C022B5C */ jal	__osSiRawStartDma
/* 017231 0x80090D9C 02802825 */ move	$a1, $s4
/* 017232 0x80090DA0 02C02025 */ move	$a0, $s6
/* 017233 0x80090DA4 00002825 */ move	$a1, $zero
/* 017234 0x80090DA8 0C021FB4 */ jal	osRecvMesg
/* 017235 0x80090DAC 24060001 */ li	$a2, 0X1
/* 017236 0x80090DB0 92130002 */ lbu	$s3, 0X2($s0)
/* 017237 0x80090DB4 26120006 */ addiu	$s2, $s0, 0X6
/* 017238 0x80090DB8 326900C0 */ andi	$t1, $s3, 0XC0
/* 017239 0x80090DBC 00099903 */ sra	$s3, $t1, 4
/* 017240 0x80090DC0 56600014 */ bnezl	$s3, .L80090E14
/* 017241 0x80090DC4 24130001 */ li	$s3, 0X1
/* 017242 0x80090DC8 0C02445C */ jal	__osContDataCrc
/* 017243 0x80090DCC 02402025 */ move	$a0, $s2
/* 017244 0x80090DD0 920B0026 */ lbu	$t3, 0X26($s0)
/* 017245 0x80090DD4 02402025 */ move	$a0, $s2
/* 017246 0x80090DD8 8FA5006C */ lw	$a1, 0X6C($sp)
/* 017247 0x80090DDC 11620008 */ beq	$t3, $v0, .L80090E00
/* 017248 0x80090DE0 00000000 */ nop
/* 017249 0x80090DE4 02C02025 */ move	$a0, $s6
/* 017250 0x80090DE8 0C022CF0 */ jal	func_8008B3C0
/* 017251 0x80090DEC 02202825 */ move	$a1, $s1
/* 017252 0x80090DF0 1440000D */ bnez	$v0, .L80090E28
/* 017253 0x80090DF4 00409825 */ move	$s3, $v0
/* 017254 0x80090DF8 10000006 */ b	.L80090E14
/* 017255 0x80090DFC 24130004 */ li	$s3, 0X4
.L80090E00:
/* 017256 0x80090E00 0C0244B0 */ jal	_bcopy
/* 017257 0x80090E04 24060020 */ li	$a2, 0X20
/* 017258 0x80090E08 10000003 */ b	.L80090E18
/* 017259 0x80090E0C 24010004 */ li	$at, 0X4
/* 017260 0x80090E10 24130001 */ li	$s3, 0X1
.L80090E14:
/* 017261 0x80090E14 24010004 */ li	$at, 0X4
.L80090E18:
/* 017262 0x80090E18 16610003 */ bne	$s3, $at, .L80090E28
/* 017263 0x80090E1C 2AA20000 */ slti	$v0, $s5, 0X0
/* 017264 0x80090E20 1040FFA3 */ beqz	$v0, .L80090CB0
/* 017265 0x80090E24 26B5FFFF */ addiu	$s5, $s5, -0X1
.L80090E28:
/* 017266 0x80090E28 0C0226CD */ jal	__osSiRelAccess
/* 017267 0x80090E2C 00000000 */ nop
/* 017268 0x80090E30 8FBF003C */ lw	$ra, 0X3C($sp)
/* 017269 0x80090E34 02601025 */ move	$v0, $s3
/* 017270 0x80090E38 8FB30024 */ lw	$s3, 0X24($sp)
/* 017271 0x80090E3C 8FB00018 */ lw	$s0, 0X18($sp)
/* 017272 0x80090E40 8FB1001C */ lw	$s1, 0X1C($sp)
/* 017273 0x80090E44 8FB20020 */ lw	$s2, 0X20($sp)
/* 017274 0x80090E48 8FB40028 */ lw	$s4, 0X28($sp)
/* 017275 0x80090E4C 8FB5002C */ lw	$s5, 0X2C($sp)
/* 017276 0x80090E50 8FB60030 */ lw	$s6, 0X30($sp)
/* 017277 0x80090E54 8FB70034 */ lw	$s7, 0X34($sp)
/* 017278 0x80090E58 8FBE0038 */ lw	$fp, 0X38($sp)
/* 017279 0x80090E5C 03E00008 */ jr	$ra
/* 017280 0x80090E60 27BD0060 */ addiu	$sp, $sp, 0X60
/* 017281 0x80090E64 00000000 */ nop
/* 017282 0x80090E68 00000000 */ nop
/* 017283 0x80090E6C 00000000 */ nop
