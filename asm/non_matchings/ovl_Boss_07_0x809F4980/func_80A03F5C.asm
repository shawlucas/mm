glabel func_80A03F5C
/* 015735 0x80A03F5C 27BDFF28 */ addiu	$sp, $sp, -0XD8
/* 015736 0x80A03F60 AFB5005C */ sw	$s5, 0X5C($sp)
/* 015737 0x80A03F64 AFB40058 */ sw	$s4, 0X58($sp)
/* 015738 0x80A03F68 0080A025 */ move	$s4, $a0
/* 015739 0x80A03F6C 00A0A825 */ move	$s5, $a1
/* 015740 0x80A03F70 AFBF0064 */ sw	$ra, 0X64($sp)
/* 015741 0x80A03F74 AFB60060 */ sw	$s6, 0X60($sp)
/* 015742 0x80A03F78 AFB30054 */ sw	$s3, 0X54($sp)
/* 015743 0x80A03F7C AFB20050 */ sw	$s2, 0X50($sp)
/* 015744 0x80A03F80 AFB1004C */ sw	$s1, 0X4C($sp)
/* 015745 0x80A03F84 AFB00048 */ sw	$s0, 0X48($sp)
/* 015746 0x80A03F88 F7B80040 */ sdc1	$f24, 0X40($sp)
/* 015747 0x80A03F8C F7B60038 */ sdc1	$f22, 0X38($sp)
/* 015748 0x80A03F90 F7B40030 */ sdc1	$f20, 0X30($sp)
/* 015749 0x80A03F94 8EA40000 */ lw	$a0, 0X0($s5)
/* 015750 0x80A03F98 0C04B0A3 */ jal	func_8012C28C
/* 015751 0x80A03F9C 00808025 */ move	$s0, $a0
/* 015752 0x80A03FA0 0C04B0B7 */ jal	func_8012C2DC
/* 015753 0x80A03FA4 8EA40000 */ lw	$a0, 0X0($s5)
/* 015754 0x80A03FA8 8682186C */ lh	$v0, 0X186C($s4)
/* 015755 0x80A03FAC 3C0180A1 */ lui	$at, %hi(D_80A08678)
/* 015756 0x80A03FB0 C4288678 */ lwc1	$f8, %lo(D_80A08678)($at)
/* 015757 0x80A03FB4 44822000 */ mtc1	$v0, $f4
/* 015758 0x80A03FB8 00022080 */ sll	$a0, $v0, 2
/* 015759 0x80A03FBC 00822023 */ subu	$a0, $a0, $v0
/* 015760 0x80A03FC0 468021A0 */ cvt.s.w	$f6, $f4
/* 015761 0x80A03FC4 00042080 */ sll	$a0, $a0, 2
/* 015762 0x80A03FC8 3C0180A1 */ lui	$at, %hi(D_80A0867C)
/* 015763 0x80A03FCC 00822021 */ addu	$a0, $a0, $v0
/* 015764 0x80A03FD0 C430867C */ lwc1	$f16, %lo(D_80A0867C)($at)
/* 015765 0x80A03FD4 00042080 */ sll	$a0, $a0, 2
/* 015766 0x80A03FD8 46083282 */ mul.s	$f10, $f6, $f8
/* 015767 0x80A03FDC 00822021 */ addu	$a0, $a0, $v0
/* 015768 0x80A03FE0 00042200 */ sll	$a0, $a0, 8
/* 015769 0x80A03FE4 00042400 */ sll	$a0, $a0, 16
/* 015770 0x80A03FE8 00042403 */ sra	$a0, $a0, 16
/* 015771 0x80A03FEC 46105502 */ mul.s	$f20, $f10, $f16
/* 015772 0x80A03FF0 0C03FB61 */ jal	Math_Sins
/* 015773 0x80A03FF4 00000000 */ nop
/* 015774 0x80A03FF8 8684186C */ lh	$a0, 0X186C($s4)
/* 015775 0x80A03FFC 3C013F00 */ lui	$at, 0x3F00
/* 015776 0x80A04000 46140482 */ mul.s	$f18, $f0, $f20
/* 015777 0x80A04004 44812000 */ mtc1	$at, $f4
/* 015778 0x80A04008 00800821 */ addu	$at, $a0, $zero
/* 015779 0x80A0400C 00042100 */ sll	$a0, $a0, 4
/* 015780 0x80A04010 00812021 */ addu	$a0, $a0, $at
/* 015781 0x80A04014 00042080 */ sll	$a0, $a0, 2
/* 015782 0x80A04018 00812021 */ addu	$a0, $a0, $at
/* 015783 0x80A0401C 00042200 */ sll	$a0, $a0, 8
/* 015784 0x80A04020 00042400 */ sll	$a0, $a0, 16
/* 015785 0x80A04024 46049582 */ mul.s	$f22, $f18, $f4
/* 015786 0x80A04028 0C03FB61 */ jal	Math_Sins
/* 015787 0x80A0402C 00042403 */ sra	$a0, $a0, 16
/* 015788 0x80A04030 46140302 */ mul.s	$f12, $f0, $f20
/* 015789 0x80A04034 0C0602D2 */ jal	SysMatrix_InsertYRotation_f
/* 015790 0x80A04038 24050001 */ li	$a1, 0X1
/* 015791 0x80A0403C 0C0601EE */ jal	SysMatrix_RotateStateAroundXAxis
/* 015792 0x80A04040 4600B306 */ mov.s	$f12, $f22
/* 015793 0x80A04044 868E015E */ lh	$t6, 0X15E($s4)
/* 015794 0x80A04048 31CF0001 */ andi	$t7, $t6, 0X1
/* 015795 0x80A0404C 51E0000E */ beqzl	$t7, .L80A04088
/* 015796 0x80A04050 8E0202B0 */ lw	$v0, 0X2B0($s0)
/* 015797 0x80A04054 8E0402B0 */ lw	$a0, 0X2B0($s0)
/* 015798 0x80A04058 241800FF */ li	$t8, 0XFF
/* 015799 0x80A0405C 24190384 */ li	$t9, 0X384
/* 015800 0x80A04060 2408044B */ li	$t0, 0X44B
/* 015801 0x80A04064 AFA80018 */ sw	$t0, 0X18($sp)
/* 015802 0x80A04068 AFB90014 */ sw	$t9, 0X14($sp)
/* 015803 0x80A0406C AFB80010 */ sw	$t8, 0X10($sp)
/* 015804 0x80A04070 240500FF */ li	$a1, 0XFF
/* 015805 0x80A04074 00003025 */ move	$a2, $zero
/* 015806 0x80A04078 0C04AF14 */ jal	Gfx_SetFog
/* 015807 0x80A0407C 00003825 */ move	$a3, $zero
/* 015808 0x80A04080 AE0202B0 */ sw	$v0, 0X2B0($s0)
/* 015809 0x80A04084 8E0202B0 */ lw	$v0, 0X2B0($s0)
.L80A04088:
/* 015810 0x80A04088 3C0ADB06 */ lui	$t2, 0xDB06
/* 015811 0x80A0408C 354A0020 */ ori	$t2, $t2, 0X20
/* 015812 0x80A04090 24490008 */ addiu	$t1, $v0, 0X8
/* 015813 0x80A04094 AE0902B0 */ sw	$t1, 0X2B0($s0)
/* 015814 0x80A04098 AC4A0000 */ sw	$t2, 0X0($v0)
/* 015815 0x80A0409C 8E8B1884 */ lw	$t3, 0X1884($s4)
/* 015816 0x80A040A0 3C0480A1 */ lui	$a0, %hi(D_80A082E0)
/* 015817 0x80A040A4 00408825 */ move	$s1, $v0
/* 015818 0x80A040A8 000B6080 */ sll	$t4, $t3, 2
/* 015819 0x80A040AC 008C2021 */ addu	$a0, $a0, $t4
/* 015820 0x80A040B0 0C040141 */ jal	Lib_PtrSegToVirt
/* 015821 0x80A040B4 8C8482E0 */ lw	$a0, %lo(D_80A082E0)($a0)
/* 015822 0x80A040B8 AE220004 */ sw	$v0, 0X4($s1)
/* 015823 0x80A040BC 3C0D80A0 */ lui	$t5, %hi(func_80A03F18)
/* 015824 0x80A040C0 25AD3F18 */ addiu	$t5, $t5, %lo(func_80A03F18)
/* 015825 0x80A040C4 8E850194 */ lw	$a1, 0X194($s4)
/* 015826 0x80A040C8 8E8601B0 */ lw	$a2, 0X1B0($s4)
/* 015827 0x80A040CC AFB40014 */ sw	$s4, 0X14($sp)
/* 015828 0x80A040D0 AFAD0010 */ sw	$t5, 0X10($sp)
/* 015829 0x80A040D4 02A02025 */ move	$a0, $s5
/* 015830 0x80A040D8 0C04CECF */ jal	SkelAnime_Draw
/* 015831 0x80A040DC 00003825 */ move	$a3, $zero
/* 015832 0x80A040E0 02A02025 */ move	$a0, $s5
/* 015833 0x80A040E4 0C05982E */ jal	func_801660B8
/* 015834 0x80A040E8 8E0502B0 */ lw	$a1, 0X2B0($s0)
/* 015835 0x80A040EC AE0202B0 */ sw	$v0, 0X2B0($s0)
/* 015836 0x80A040F0 8E0202B0 */ lw	$v0, 0X2B0($s0)
/* 015837 0x80A040F4 3C180601 */ lui	$t8, 0x0601
/* 015838 0x80A040F8 2718AFB0 */ addiu	$t8, $t8, -0X5050
/* 015839 0x80A040FC 244E0008 */ addiu	$t6, $v0, 0X8
/* 015840 0x80A04100 AE0E02B0 */ sw	$t6, 0X2B0($s0)
/* 015841 0x80A04104 3C0FDE00 */ lui	$t7, 0xDE00
/* 015842 0x80A04108 AC4F0000 */ sw	$t7, 0X0($v0)
/* 015843 0x80A0410C AC580004 */ sw	$t8, 0X4($v0)
/* 015844 0x80A04110 8E0202B0 */ lw	$v0, 0X2B0($s0)
/* 015845 0x80A04114 3C099B9B */ lui	$t1, 0x9B9B
/* 015846 0x80A04118 352950FF */ ori	$t1, $t1, 0X50FF
/* 015847 0x80A0411C 24590008 */ addiu	$t9, $v0, 0X8
/* 015848 0x80A04120 AE1902B0 */ sw	$t9, 0X2B0($s0)
/* 015849 0x80A04124 3C08FA00 */ lui	$t0, 0xFA00
/* 015850 0x80A04128 AC480000 */ sw	$t0, 0X0($v0)
/* 015851 0x80A0412C AC490004 */ sw	$t1, 0X4($v0)
/* 015852 0x80A04130 8E8B0144 */ lw	$t3, 0X144($s4)
/* 015853 0x80A04134 3C0A80A0 */ lui	$t2, %hi(func_809FFA80)
/* 015854 0x80A04138 254AFA80 */ addiu	$t2, $t2, %lo(func_809FFA80)
/* 015855 0x80A0413C 154B000F */ bne	$t2, $t3, .L80A0417C
/* 015856 0x80A04140 0000B025 */ move	$s6, $zero
/* 015857 0x80A04144 868400BE */ lh	$a0, 0XBE($s4)
/* 015858 0x80A04148 868C0032 */ lh	$t4, 0X32($s4)
/* 015859 0x80A0414C 01841023 */ subu	$v0, $t4, $a0
/* 015860 0x80A04150 00021400 */ sll	$v0, $v0, 16
/* 015861 0x80A04154 00021403 */ sra	$v0, $v0, 16
/* 015862 0x80A04158 04410003 */ bgez	$v0, .L80A04168
/* 015863 0x80A0415C 00401825 */ move	$v1, $v0
/* 015864 0x80A04160 10000001 */ b	.L80A04168
/* 015865 0x80A04164 00021823 */ negu	$v1, $v0
.L80A04168:
/* 015866 0x80A04168 28614001 */ slti	$at, $v1, 0X4001
/* 015867 0x80A0416C 54200004 */ bnezl	$at, .L80A04180
/* 015868 0x80A04170 868400BE */ lh	$a0, 0XBE($s4)
/* 015869 0x80A04174 10000002 */ b	.L80A04180
/* 015870 0x80A04178 24160001 */ li	$s6, 0X1
.L80A0417C:
/* 015871 0x80A0417C 868400BE */ lh	$a0, 0XBE($s4)
.L80A04180:
/* 015872 0x80A04180 0C06026B */ jal	SysMatrix_InsertYRotation_s
/* 015873 0x80A04184 00002825 */ move	$a1, $zero
/* 015874 0x80A04188 868400BC */ lh	$a0, 0XBC($s4)
/* 015875 0x80A0418C 0C06011E */ jal	SysMatrix_InsertXRotation_s
/* 015876 0x80A04190 24050001 */ li	$a1, 0X1
/* 015877 0x80A04194 868400C0 */ lh	$a0, 0XC0($s4)
/* 015878 0x80A04198 0C06033E */ jal	SysMatrix_InsertZRotation_s
/* 015879 0x80A0419C 24050001 */ li	$a1, 0X1
/* 015880 0x80A041A0 3C01C040 */ lui	$at, 0xC040
/* 015881 0x80A041A4 44816000 */ mtc1	$at, $f12
/* 015882 0x80A041A8 0C060704 */ jal	SysMatrix_GetStateTranslationAndScaledZ
/* 015883 0x80A041AC 27A50090 */ addiu	$a1, $sp, 0X90
/* 015884 0x80A041B0 3C0141A0 */ lui	$at, 0x41A0
/* 015885 0x80A041B4 44813000 */ mtc1	$at, $f6
/* 015886 0x80A041B8 3C01C000 */ lui	$at, 0xC000
/* 015887 0x80A041BC 4480C000 */ mtc1	$zero, $f24
/* 015888 0x80A041C0 44814000 */ mtc1	$at, $f8
/* 015889 0x80A041C4 00008825 */ move	$s1, $zero
/* 015890 0x80A041C8 02808025 */ move	$s0, $s4
/* 015891 0x80A041CC 269219FC */ addiu	$s2, $s4, 0X19FC
/* 015892 0x80A041D0 26931A74 */ addiu	$s3, $s4, 0X1A74
/* 015893 0x80A041D4 E7A600AC */ swc1	$f6, 0XAC($sp)
/* 015894 0x80A041D8 E7B800A8 */ swc1	$f24, 0XA8($sp)
/* 015895 0x80A041DC E7A800B0 */ swc1	$f8, 0XB0($sp)
.L80A041E0:
/* 015896 0x80A041E0 0C060067 */ jal	SysMatrix_StatePush
/* 015897 0x80A041E4 00000000 */ nop
/* 015898 0x80A041E8 0C060067 */ jal	SysMatrix_StatePush
/* 015899 0x80A041EC 00000000 */ nop
/* 015900 0x80A041F0 4600C306 */ mov.s	$f12, $f24
/* 015901 0x80A041F4 0C0603A4 */ jal	SysMatrix_InsertZRotation_f
/* 015902 0x80A041F8 24050001 */ li	$a1, 0X1
/* 015903 0x80A041FC 27A400A8 */ addiu	$a0, $sp, 0XA8
/* 015904 0x80A04200 0C0606A6 */ jal	SysMatrix_MultiplyVector3fByState
/* 015905 0x80A04204 27A5009C */ addiu	$a1, $sp, 0X9C
/* 015906 0x80A04208 C68A1878 */ lwc1	$f10, 0X1878($s4)
/* 015907 0x80A0420C C7B0009C */ lwc1	$f16, 0X9C($sp)
/* 015908 0x80A04210 3C013F80 */ lui	$at, 0x3F80
/* 015909 0x80A04214 46105480 */ add.s	$f18, $f10, $f16
/* 015910 0x80A04218 E61219F0 */ swc1	$f18, 0X19F0($s0)
/* 015911 0x80A0421C C7A600A0 */ lwc1	$f6, 0XA0($sp)
/* 015912 0x80A04220 C684187C */ lwc1	$f4, 0X187C($s4)
/* 015913 0x80A04224 46062200 */ add.s	$f8, $f4, $f6
/* 015914 0x80A04228 44912000 */ mtc1	$s1, $f4
/* 015915 0x80A0422C 44813000 */ mtc1	$at, $f6
/* 015916 0x80A04230 3C0180A1 */ lui	$at, %hi(D_80A08680)
/* 015917 0x80A04234 E60819F4 */ swc1	$f8, 0X19F4($s0)
/* 015918 0x80A04238 C7B000A4 */ lwc1	$f16, 0XA4($sp)
/* 015919 0x80A0423C C68A1880 */ lwc1	$f10, 0X1880($s4)
/* 015920 0x80A04240 468025A0 */ cvt.s.w	$f22, $f4
/* 015921 0x80A04244 46105480 */ add.s	$f18, $f10, $f16
/* 015922 0x80A04248 E61219F8 */ swc1	$f18, 0X19F8($s0)
/* 015923 0x80A0424C C4288680 */ lwc1	$f8, %lo(D_80A08680)($at)
/* 015924 0x80A04250 C6921870 */ lwc1	$f18, 0X1870($s4)
/* 015925 0x80A04254 4608B282 */ mul.s	$f10, $f22, $f8
/* 015926 0x80A04258 460A3401 */ sub.s	$f16, $f6, $f10
/* 015927 0x80A0425C 46128502 */ mul.s	$f20, $f16, $f18
/* 015928 0x80A04260 0C060073 */ jal	SysMatrix_StatePop
/* 015929 0x80A04264 00000000 */ nop
/* 015930 0x80A04268 928D0149 */ lbu	$t5, 0X149($s4)
/* 015931 0x80A0426C 02802025 */ move	$a0, $s4
/* 015932 0x80A04270 02A02825 */ move	$a1, $s5
/* 015933 0x80A04274 11A0000B */ beqz	$t5, .L80A042A4
/* 015934 0x80A04278 260619F0 */ addiu	$a2, $s0, 0X19F0
/* 015935 0x80A0427C 260E1AEC */ addiu	$t6, $s0, 0X1AEC
/* 015936 0x80A04280 27AF0090 */ addiu	$t7, $sp, 0X90
/* 015937 0x80A04284 AFAF0018 */ sw	$t7, 0X18($sp)
/* 015938 0x80A04288 AFAE0014 */ sw	$t6, 0X14($sp)
/* 015939 0x80A0428C 02403825 */ move	$a3, $s2
/* 015940 0x80A04290 AFB30010 */ sw	$s3, 0X10($sp)
/* 015941 0x80A04294 E7B4001C */ swc1	$f20, 0X1C($sp)
/* 015942 0x80A04298 AFB60020 */ sw	$s6, 0X20($sp)
/* 015943 0x80A0429C 0C280C8E */ jal	func_80A03238
/* 015944 0x80A042A0 E7B80024 */ swc1	$f24, 0X24($sp)
.L80A042A4:
/* 015945 0x80A042A4 3C0180A1 */ lui	$at, %hi(D_80A08684)
/* 015946 0x80A042A8 C4248684 */ lwc1	$f4, %lo(D_80A08684)($at)
/* 015947 0x80A042AC 02802025 */ move	$a0, $s4
/* 015948 0x80A042B0 02A02825 */ move	$a1, $s5
/* 015949 0x80A042B4 4604B202 */ mul.s	$f8, $f22, $f4
/* 015950 0x80A042B8 02403025 */ move	$a2, $s2
/* 015951 0x80A042BC 02603825 */ move	$a3, $s3
/* 015952 0x80A042C0 E7B40010 */ swc1	$f20, 0X10($sp)
/* 015953 0x80A042C4 0C280DB1 */ jal	func_80A036C4
/* 015954 0x80A042C8 E7A80014 */ swc1	$f8, 0X14($sp)
/* 015955 0x80A042CC 3C013F00 */ lui	$at, 0x3F00
/* 015956 0x80A042D0 44813000 */ mtc1	$at, $f6
/* 015957 0x80A042D4 3C013F80 */ lui	$at, 0x3F80
/* 015958 0x80A042D8 44818000 */ mtc1	$at, $f16
/* 015959 0x80A042DC C7AA00AC */ lwc1	$f10, 0XAC($sp)
/* 015960 0x80A042E0 4606C600 */ add.s	$f24, $f24, $f6
/* 015961 0x80A042E4 46105480 */ add.s	$f18, $f10, $f16
/* 015962 0x80A042E8 0C060073 */ jal	SysMatrix_StatePop
/* 015963 0x80A042EC E7B200AC */ swc1	$f18, 0XAC($sp)
/* 015964 0x80A042F0 26310001 */ addiu	$s1, $s1, 0X1
/* 015965 0x80A042F4 24010019 */ li	$at, 0X19
/* 015966 0x80A042F8 26100174 */ addiu	$s0, $s0, 0X174
/* 015967 0x80A042FC 26520174 */ addiu	$s2, $s2, 0X174
/* 015968 0x80A04300 1621FFB7 */ bne	$s1, $at, .L80A041E0
/* 015969 0x80A04304 26730174 */ addiu	$s3, $s3, 0X174
/* 015970 0x80A04308 02802025 */ move	$a0, $s4
/* 015971 0x80A0430C 0C280E1A */ jal	func_80A03868
/* 015972 0x80A04310 02A02825 */ move	$a1, $s5
/* 015973 0x80A04314 A2800149 */ sb	$zero, 0X149($s4)
/* 015974 0x80A04318 8FBF0064 */ lw	$ra, 0X64($sp)
/* 015975 0x80A0431C D7B40030 */ ldc1	$f20, 0X30($sp)
/* 015976 0x80A04320 D7B60038 */ ldc1	$f22, 0X38($sp)
/* 015977 0x80A04324 D7B80040 */ ldc1	$f24, 0X40($sp)
/* 015978 0x80A04328 8FB00048 */ lw	$s0, 0X48($sp)
/* 015979 0x80A0432C 8FB1004C */ lw	$s1, 0X4C($sp)
/* 015980 0x80A04330 8FB20050 */ lw	$s2, 0X50($sp)
/* 015981 0x80A04334 8FB30054 */ lw	$s3, 0X54($sp)
/* 015982 0x80A04338 8FB40058 */ lw	$s4, 0X58($sp)
/* 015983 0x80A0433C 8FB5005C */ lw	$s5, 0X5C($sp)
/* 015984 0x80A04340 8FB60060 */ lw	$s6, 0X60($sp)
/* 015985 0x80A04344 03E00008 */ jr	$ra
/* 015986 0x80A04348 27BD00D8 */ addiu	$sp, $sp, 0XD8

