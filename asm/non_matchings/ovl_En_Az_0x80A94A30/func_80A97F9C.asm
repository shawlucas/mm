glabel func_80A97F9C
/* 003419 0x80A97F9C 27BDFFD0 */ addiu	$sp, $sp, -0X30
/* 003420 0x80A97FA0 AFB00020 */ sw	$s0, 0X20($sp)
/* 003421 0x80A97FA4 3C0280AA */ lui	$v0, %hi(D_80A99E80)
/* 003422 0x80A97FA8 24429E80 */ addiu	$v0, $v0, %lo(D_80A99E80)
/* 003423 0x80A97FAC 00808025 */ move	$s0, $a0
/* 003424 0x80A97FB0 AFBF0024 */ sw	$ra, 0X24($sp)
/* 003425 0x80A97FB4 AFA50034 */ sw	$a1, 0X34($sp)
/* 003426 0x80A97FB8 8FAE0034 */ lw	$t6, 0X34($sp)
/* 003427 0x80A97FBC 8C460000 */ lw	$a2, 0X0($v0)
/* 003428 0x80A97FC0 8C470008 */ lw	$a3, 0X8($v0)
/* 003429 0x80A97FC4 8DC31CCC */ lw	$v1, 0X1CCC($t6)
/* 003430 0x80A97FC8 C46C0024 */ lwc1	$f12, 0X24($v1)
/* 003431 0x80A97FCC C46E002C */ lwc1	$f14, 0X2C($v1)
/* 003432 0x80A97FD0 0C05E98D */ jal	Math3D_XZDistanceSquared
/* 003433 0x80A97FD4 AFA3002C */ sw	$v1, 0X2C($sp)
/* 003434 0x80A97FD8 3C0180AA */ lui	$at, %hi(D_80A99E8C)
/* 003435 0x80A97FDC E4209E8C */ swc1	$f0, %lo(D_80A99E8C)($at)
/* 003436 0x80A97FE0 3C0280AA */ lui	$v0, %hi(D_80A99E80)
/* 003437 0x80A97FE4 24429E80 */ addiu	$v0, $v0, %lo(D_80A99E80)
/* 003438 0x80A97FE8 8C460000 */ lw	$a2, 0X0($v0)
/* 003439 0x80A97FEC 8C470008 */ lw	$a3, 0X8($v0)
/* 003440 0x80A97FF0 C60E002C */ lwc1	$f14, 0X2C($s0)
/* 003441 0x80A97FF4 0C05E98D */ jal	Math3D_XZDistanceSquared
/* 003442 0x80A97FF8 C60C0024 */ lwc1	$f12, 0X24($s0)
/* 003443 0x80A97FFC 3C0180AA */ lui	$at, %hi(D_80A99684)
/* 003444 0x80A98000 C4249684 */ lwc1	$f4, %lo(D_80A99684)($at)
/* 003445 0x80A98004 3C0680AA */ lui	$a2, %hi(func_80A982E0)
/* 003446 0x80A98008 3C0780A9 */ lui	$a3, %hi(func_80A95B34)
/* 003447 0x80A9800C 4600203E */ c.le.s	$f4, $f0
/* 003448 0x80A98010 24E75B34 */ addiu	$a3, $a3, %lo(func_80A95B34)
/* 003449 0x80A98014 24C682E0 */ addiu	$a2, $a2, %lo(func_80A982E0)
/* 003450 0x80A98018 26050300 */ addiu	$a1, $s0, 0X300
/* 003451 0x80A9801C 45000004 */ bc1f .L80A98030
/* 003452 0x80A98020 3C098014 */ lui	$t1, %hi(func_8013E054)
/* 003453 0x80A98024 960F0374 */ lhu	$t7, 0X374($s0)
/* 003454 0x80A98028 35F81000 */ ori	$t8, $t7, 0X1000
/* 003455 0x80A9802C A6180374 */ sh	$t8, 0X374($s0)
.L80A98030:
/* 003456 0x80A98030 9219031C */ lbu	$t9, 0X31C($s0)
/* 003457 0x80A98034 8FA40034 */ lw	$a0, 0X34($sp)
/* 003458 0x80A98038 2529E054 */ addiu	$t1, $t1, %lo(func_8013E054)
/* 003459 0x80A9803C 33280020 */ andi	$t0, $t9, 0X20
/* 003460 0x80A98040 15000005 */ bnez	$t0, .L80A98058
/* 003461 0x80A98044 3C0A8014 */ lui	$t2, %hi(func_8013E0A4)
/* 003462 0x80A98048 254AE0A4 */ addiu	$t2, $t2, %lo(func_8013E0A4)
/* 003463 0x80A9804C AFAA0014 */ sw	$t2, 0X14($sp)
/* 003464 0x80A98050 0C04F781 */ jal	func_8013DE04
/* 003465 0x80A98054 AFA90010 */ sw	$t1, 0X10($sp)
.L80A98058:
/* 003466 0x80A98058 960B0374 */ lhu	$t3, 0X374($s0)
/* 003467 0x80A9805C 8FA40034 */ lw	$a0, 0X34($sp)
/* 003468 0x80A98060 316C0010 */ andi	$t4, $t3, 0X10
/* 003469 0x80A98064 15800009 */ bnez	$t4, .L80A9808C
/* 003470 0x80A98068 24840830 */ addiu	$a0, $a0, 0X830
/* 003471 0x80A9806C 8E050080 */ lw	$a1, 0X80($s0)
/* 003472 0x80A98070 0C0326E4 */ jal	func_800C9B90
/* 003473 0x80A98074 92060085 */ lbu	$a2, 0X85($s0)
/* 003474 0x80A98078 50400005 */ beqzl	$v0, .L80A98090
/* 003475 0x80A9807C 8FA2002C */ lw	$v0, 0X2C($sp)
/* 003476 0x80A98080 960D0374 */ lhu	$t5, 0X374($s0)
/* 003477 0x80A98084 35AE0010 */ ori	$t6, $t5, 0X10
/* 003478 0x80A98088 A60E0374 */ sh	$t6, 0X374($s0)
.L80A9808C:
/* 003479 0x80A9808C 8FA2002C */ lw	$v0, 0X2C($sp)
.L80A98090:
/* 003480 0x80A98090 8FA40034 */ lw	$a0, 0X34($sp)
/* 003481 0x80A98094 8C450080 */ lw	$a1, 0X80($v0)
/* 003482 0x80A98098 90460085 */ lbu	$a2, 0X85($v0)
/* 003483 0x80A9809C 0C0326E4 */ jal	func_800C9B90
/* 003484 0x80A980A0 24840830 */ addiu	$a0, $a0, 0X830
/* 003485 0x80A980A4 1040002D */ beqz	$v0, .L80A9815C
/* 003486 0x80A980A8 3C03801F */ lui	$v1, %hi(gSaveContext)
/* 003487 0x80A980AC 02002025 */ move	$a0, $s0
/* 003488 0x80A980B0 0C2A52E6 */ jal	func_80A94B98
/* 003489 0x80A980B4 8FA50034 */ lw	$a1, 0X34($sp)
/* 003490 0x80A980B8 10400007 */ beqz	$v0, .L80A980D8
/* 003491 0x80A980BC 24090005 */ li	$t1, 0X5
/* 003492 0x80A980C0 3C03801F */ lui	$v1, %hi(gSaveContext)
/* 003493 0x80A980C4 2463F670 */ addiu	$v1, $v1, %lo(gSaveContext)
/* 003494 0x80A980C8 906F0F10 */ lbu	$t7, 0XF10($v1)
/* 003495 0x80A980CC 31F800FE */ andi	$t8, $t7, 0XFE
/* 003496 0x80A980D0 10000006 */ b	.L80A980EC
/* 003497 0x80A980D4 A0780F10 */ sb	$t8, 0XF10($v1)
.L80A980D8:
/* 003498 0x80A980D8 3C03801F */ lui	$v1, %hi(gSaveContext)
/* 003499 0x80A980DC 2463F670 */ addiu	$v1, $v1, %lo(gSaveContext)
/* 003500 0x80A980E0 90790F10 */ lbu	$t9, 0XF10($v1)
/* 003501 0x80A980E4 37280001 */ ori	$t0, $t9, 0X1
/* 003502 0x80A980E8 A0680F10 */ sb	$t0, 0XF10($v1)
.L80A980EC:
/* 003503 0x80A980EC A0693DD4 */ sb	$t1, 0X3DD4($v1)
/* 003504 0x80A980F0 960A0374 */ lhu	$t2, 0X374($s0)
/* 003505 0x80A980F4 24040002 */ li	$a0, 0X2
/* 003506 0x80A980F8 314BFFEF */ andi	$t3, $t2, 0XFFEF
/* 003507 0x80A980FC 0C04C1E1 */ jal	func_80130784
/* 003508 0x80A98100 A60B0374 */ sh	$t3, 0X374($s0)
/* 003509 0x80A98104 8FA50034 */ lw	$a1, 0X34($sp)
/* 003510 0x80A98108 3C010002 */ lui	$at, 0x0002
/* 003511 0x80A9810C 3C03801F */ lui	$v1, %hi(gSaveContext)
/* 003512 0x80A98110 00250821 */ addu	$at, $at, $a1
/* 003513 0x80A98114 A422887A */ sh	$v0, -0X7786($at)
/* 003514 0x80A98118 2463F670 */ addiu	$v1, $v1, %lo(gSaveContext)
/* 003515 0x80A9811C 3C010002 */ lui	$at, 0x0002
/* 003516 0x80A98120 A4603F4A */ sh	$zero, 0X3F4A($v1)
/* 003517 0x80A98124 240C0014 */ li	$t4, 0X14
/* 003518 0x80A98128 00250821 */ addu	$at, $at, $a1
/* 003519 0x80A9812C A02C8875 */ sb	$t4, -0X778B($at)
/* 003520 0x80A98130 3C010002 */ lui	$at, 0x0002
/* 003521 0x80A98134 24060003 */ li	$a2, 0X3
/* 003522 0x80A98138 00250821 */ addu	$at, $at, $a1
/* 003523 0x80A9813C 44803000 */ mtc1	$zero, $f6
/* 003524 0x80A98140 A026887F */ sb	$a2, -0X7781($at)
/* 003525 0x80A98144 A0663F55 */ sb	$a2, 0X3F55($v1)
/* 003526 0x80A98148 02002025 */ move	$a0, $s0
/* 003527 0x80A9814C 0C2A5E77 */ jal	func_80A979DC
/* 003528 0x80A98150 E6060070 */ swc1	$f6, 0X70($s0)
/* 003529 0x80A98154 1000005E */ b	.L80A982D0
/* 003530 0x80A98158 8FBF0024 */ lw	$ra, 0X24($sp)
.L80A9815C:
/* 003531 0x80A9815C 2463F670 */ addiu	$v1, $v1, %lo(gSaveContext)
/* 003532 0x80A98160 8C6E3E00 */ lw	$t6, 0X3E00($v1)
/* 003533 0x80A98164 8C6F3E04 */ lw	$t7, 0X3E04($v1)
/* 003534 0x80A98168 55C0000B */ bnezl	$t6, .L80A98198
/* 003535 0x80A9816C 96080374 */ lhu	$t0, 0X374($s0)
/* 003536 0x80A98170 15E00008 */ bnez	$t7, .L80A98194
/* 003537 0x80A98174 240D0005 */ li	$t5, 0X5
/* 003538 0x80A98178 A06D3DD4 */ sb	$t5, 0X3DD4($v1)
/* 003539 0x80A9817C 96180374 */ lhu	$t8, 0X374($s0)
/* 003540 0x80A98180 02002025 */ move	$a0, $s0
/* 003541 0x80A98184 37194000 */ ori	$t9, $t8, 0X4000
/* 003542 0x80A98188 A6190374 */ sh	$t9, 0X374($s0)
/* 003543 0x80A9818C 0C2A5E8A */ jal	func_80A97A28
/* 003544 0x80A98190 8FA50034 */ lw	$a1, 0X34($sp)
.L80A98194:
/* 003545 0x80A98194 96080374 */ lhu	$t0, 0X374($s0)
.L80A98198:
/* 003546 0x80A98198 31090100 */ andi	$t1, $t0, 0X100
/* 003547 0x80A9819C 5120002C */ beqzl	$t1, .L80A98250
/* 003548 0x80A981A0 3C014100 */ lui	$at, 0x4100
/* 003549 0x80A981A4 8E0A0004 */ lw	$t2, 0X4($s0)
/* 003550 0x80A981A8 02002025 */ move	$a0, $s0
/* 003551 0x80A981AC 314B0040 */ andi	$t3, $t2, 0X40
/* 003552 0x80A981B0 51600004 */ beqzl	$t3, .L80A981C4
/* 003553 0x80A981B4 8602037A */ lh	$v0, 0X37A($s0)
/* 003554 0x80A981B8 0C2A6105 */ jal	func_80A98414
/* 003555 0x80A981BC 8FA50034 */ lw	$a1, 0X34($sp)
/* 003556 0x80A981C0 8602037A */ lh	$v0, 0X37A($s0)
.L80A981C4:
/* 003557 0x80A981C4 14400003 */ bnez	$v0, .L80A981D4
/* 003558 0x80A981C8 244CFFFF */ addiu	$t4, $v0, -0X1
/* 003559 0x80A981CC 10000003 */ b	.L80A981DC
/* 003560 0x80A981D0 00001825 */ move	$v1, $zero
.L80A981D4:
/* 003561 0x80A981D4 A60C037A */ sh	$t4, 0X37A($s0)
/* 003562 0x80A981D8 8603037A */ lh	$v1, 0X37A($s0)
.L80A981DC:
/* 003563 0x80A981DC 5460001C */ bnezl	$v1, .L80A98250
/* 003564 0x80A981E0 3C014100 */ lui	$at, 0x4100
/* 003565 0x80A981E4 8E0E0004 */ lw	$t6, 0X4($s0)
/* 003566 0x80A981E8 3C0141A0 */ lui	$at, 0x41A0
/* 003567 0x80A981EC 8FA40034 */ lw	$a0, 0X34($sp)
/* 003568 0x80A981F0 31CF0040 */ andi	$t7, $t6, 0X40
/* 003569 0x80A981F4 11E00015 */ beqz	$t7, .L80A9824C
/* 003570 0x80A981F8 26050024 */ addiu	$a1, $s0, 0X24
/* 003571 0x80A981FC 44810000 */ mtc1	$at, $f0
/* 003572 0x80A98200 3C0180AA */ lui	$at, %hi(D_80A99688)
/* 003573 0x80A98204 C4289688 */ lwc1	$f8, %lo(D_80A99688)($at)
/* 003574 0x80A98208 44070000 */ mfc1	$a3, $f0
/* 003575 0x80A9820C 24060000 */ li	$a2, 0X0
/* 003576 0x80A98210 E7A00010 */ swc1	$f0, 0X10($sp)
/* 003577 0x80A98214 0C02C7A5 */ jal	EffectSS_SpawnBubble
/* 003578 0x80A98218 E7A80014 */ swc1	$f8, 0X14($sp)
/* 003579 0x80A9821C 0C021BF7 */ jal	randZeroOne
/* 003580 0x80A98220 00000000 */ nop
/* 003581 0x80A98224 3C01428C */ lui	$at, 0x428C
/* 003582 0x80A98228 44815000 */ mtc1	$at, $f10
/* 003583 0x80A9822C 3C014120 */ lui	$at, 0x4120
/* 003584 0x80A98230 44819000 */ mtc1	$at, $f18
/* 003585 0x80A98234 460A0402 */ mul.s	$f16, $f0, $f10
/* 003586 0x80A98238 46128100 */ add.s	$f4, $f16, $f18
/* 003587 0x80A9823C 4600218D */ trunc.w.s	$f6, $f4
/* 003588 0x80A98240 44183000 */ mfc1	$t8, $f6
/* 003589 0x80A98244 00000000 */ nop
/* 003590 0x80A98248 A618037A */ sh	$t8, 0X37A($s0)
.L80A9824C:
/* 003591 0x80A9824C 3C014100 */ lui	$at, 0x4100
.L80A98250:
/* 003592 0x80A98250 44814000 */ mtc1	$at, $f8
/* 003593 0x80A98254 C60A008C */ lwc1	$f10, 0X8C($s0)
/* 003594 0x80A98258 460A403C */ c.lt.s	$f8, $f10
/* 003595 0x80A9825C 00000000 */ nop
/* 003596 0x80A98260 45000018 */ bc1f .L80A982C4
/* 003597 0x80A98264 00000000 */ nop
/* 003598 0x80A98268 96190374 */ lhu	$t9, 0X374($s0)
/* 003599 0x80A9826C 02002025 */ move	$a0, $s0
/* 003600 0x80A98270 33280002 */ andi	$t0, $t9, 0X2
/* 003601 0x80A98274 11000011 */ beqz	$t0, .L80A982BC
/* 003602 0x80A98278 00000000 */ nop
/* 003603 0x80A9827C C6000160 */ lwc1	$f0, 0X160($s0)
/* 003604 0x80A98280 C6100164 */ lwc1	$f16, 0X164($s0)
/* 003605 0x80A98284 4610003C */ c.lt.s	$f0, $f16
/* 003606 0x80A98288 00000000 */ nop
/* 003607 0x80A9828C 4500000D */ bc1f .L80A982C4
/* 003608 0x80A98290 00000000 */ nop
/* 003609 0x80A98294 44809000 */ mtc1	$zero, $f18
/* 003610 0x80A98298 02002025 */ move	$a0, $s0
/* 003611 0x80A9829C 4600903E */ c.le.s	$f18, $f0
/* 003612 0x80A982A0 00000000 */ nop
/* 003613 0x80A982A4 45000007 */ bc1f .L80A982C4
/* 003614 0x80A982A8 00000000 */ nop
/* 003615 0x80A982AC 0C02E3B2 */ jal	func_800B8EC8
/* 003616 0x80A982B0 24052909 */ li	$a1, 0X2909
/* 003617 0x80A982B4 10000003 */ b	.L80A982C4
/* 003618 0x80A982B8 00000000 */ nop
.L80A982BC:
/* 003619 0x80A982BC 0C02E404 */ jal	func_800B9010
/* 003620 0x80A982C0 24052108 */ li	$a1, 0X2108
.L80A982C4:
/* 003621 0x80A982C4 0C04DB34 */ jal	SkelAnime_FrameUpdateMatrix
/* 003622 0x80A982C8 26040148 */ addiu	$a0, $s0, 0X148
/* 003623 0x80A982CC 8FBF0024 */ lw	$ra, 0X24($sp)
.L80A982D0:
/* 003624 0x80A982D0 8FB00020 */ lw	$s0, 0X20($sp)
/* 003625 0x80A982D4 27BD0030 */ addiu	$sp, $sp, 0X30
/* 003626 0x80A982D8 03E00008 */ jr	$ra
/* 003627 0x80A982DC 00000000 */ nop

