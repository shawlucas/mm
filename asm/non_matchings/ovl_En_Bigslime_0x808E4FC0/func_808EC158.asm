glabel func_808EC158
/* 007270 0x808EC158 27BDFFC0 */ addiu	$sp, $sp, -0X40
/* 007271 0x808EC15C AFB40038 */ sw	$s4, 0X38($sp)
/* 007272 0x808EC160 0080A025 */ move	$s4, $a0
/* 007273 0x808EC164 AFBF003C */ sw	$ra, 0X3C($sp)
/* 007274 0x808EC168 AFB30034 */ sw	$s3, 0X34($sp)
/* 007275 0x808EC16C AFB20030 */ sw	$s2, 0X30($sp)
/* 007276 0x808EC170 AFB1002C */ sw	$s1, 0X2C($sp)
/* 007277 0x808EC174 AFB00028 */ sw	$s0, 0X28($sp)
/* 007278 0x808EC178 F7B60020 */ sdc1	$f22, 0X20($sp)
/* 007279 0x808EC17C F7B40018 */ sdc1	$f20, 0X18($sp)
/* 007280 0x808EC180 3C01808F */ lui	$at, %hi(D_808F0648)
/* 007281 0x808EC184 C4360648 */ lwc1	$f22, %lo(D_808F0648)($at)
/* 007282 0x808EC188 3C01BF80 */ lui	$at, 0xBF80
/* 007283 0x808EC18C 4481A000 */ mtc1	$at, $f20
/* 007284 0x808EC190 00009025 */ move	$s2, $zero
/* 007285 0x808EC194 02808825 */ move	$s1, $s4
/* 007286 0x808EC198 24132BE0 */ li	$s3, 0X2BE0
.L808EC19C:
/* 007287 0x808EC19C 862E0A6C */ lh	$t6, 0XA6C($s1)
/* 007288 0x808EC1A0 26300A54 */ addiu	$s0, $s1, 0XA54
/* 007289 0x808EC1A4 59C00022 */ blezl	$t6, .L808EC230
/* 007290 0x808EC1A8 26520024 */ addiu	$s2, $s2, 0X24
/* 007291 0x808EC1AC C6040010 */ lwc1	$f4, 0X10($s0)
/* 007292 0x808EC1B0 02002025 */ move	$a0, $s0
/* 007293 0x808EC1B4 2605000C */ addiu	$a1, $s0, 0XC
/* 007294 0x808EC1B8 46142180 */ add.s	$f6, $f4, $f20
/* 007295 0x808EC1BC 02003025 */ move	$a2, $s0
/* 007296 0x808EC1C0 0C03FD6F */ jal	Math_Vec3f_Sum
/* 007297 0x808EC1C4 E6060010 */ swc1	$f6, 0X10($s0)
/* 007298 0x808EC1C8 C6080004 */ lwc1	$f8, 0X4($s0)
/* 007299 0x808EC1CC 4616403C */ c.lt.s	$f8, $f22
/* 007300 0x808EC1D0 00000000 */ nop
/* 007301 0x808EC1D4 45000002 */ bc1f .L808EC1E0
/* 007302 0x808EC1D8 00000000 */ nop
/* 007303 0x808EC1DC A6000018 */ sh	$zero, 0X18($s0)
.L808EC1E0:
/* 007304 0x808EC1E0 0C021BE8 */ jal	rand
/* 007305 0x808EC1E4 00000000 */ nop
/* 007306 0x808EC1E8 860F001A */ lh	$t7, 0X1A($s0)
/* 007307 0x808EC1EC 0002C5C2 */ srl	$t8, $v0, 23
/* 007308 0x808EC1F0 27090700 */ addiu	$t1, $t8, 0X700
/* 007309 0x808EC1F4 01E95021 */ addu	$t2, $t7, $t1
/* 007310 0x808EC1F8 0C021BE8 */ jal	rand
/* 007311 0x808EC1FC A60A001A */ sh	$t2, 0X1A($s0)
/* 007312 0x808EC200 860B001C */ lh	$t3, 0X1C($s0)
/* 007313 0x808EC204 000265C2 */ srl	$t4, $v0, 23
/* 007314 0x808EC208 25980900 */ addiu	$t8, $t4, 0X900
/* 007315 0x808EC20C 0178C821 */ addu	$t9, $t3, $t8
/* 007316 0x808EC210 0C021BE8 */ jal	rand
/* 007317 0x808EC214 A619001C */ sh	$t9, 0X1C($s0)
/* 007318 0x808EC218 8608001E */ lh	$t0, 0X1E($s0)
/* 007319 0x808EC21C 00027DC2 */ srl	$t7, $v0, 23
/* 007320 0x808EC220 25EC0B00 */ addiu	$t4, $t7, 0XB00
/* 007321 0x808EC224 010C6821 */ addu	$t5, $t0, $t4
/* 007322 0x808EC228 A60D001E */ sh	$t5, 0X1E($s0)
/* 007323 0x808EC22C 26520024 */ addiu	$s2, $s2, 0X24
.L808EC230:
/* 007324 0x808EC230 1653FFDA */ bne	$s2, $s3, .L808EC19C
/* 007325 0x808EC234 26310024 */ addiu	$s1, $s1, 0X24
/* 007326 0x808EC238 928202B4 */ lbu	$v0, 0X2B4($s4)
/* 007327 0x808EC23C 44800000 */ mtc1	$zero, $f0
/* 007328 0x808EC240 3C01808F */ lui	$at, %hi(D_808F064C)
/* 007329 0x808EC244 1840000A */ blez	$v0, .L808EC270
/* 007330 0x808EC248 2443FFF6 */ addiu	$v1, $v0, -0XA
/* 007331 0x808EC24C 04630004 */ bgezl	$v1, .L808EC260
/* 007332 0x808EC250 A28302B4 */ sb	$v1, 0X2B4($s4)
/* 007333 0x808EC254 10000002 */ b	.L808EC260
/* 007334 0x808EC258 A28002B4 */ sb	$zero, 0X2B4($s4)
/* 007335 0x808EC25C A28302B4 */ sb	$v1, 0X2B4($s4)
.L808EC260:
/* 007336 0x808EC260 C68A0628 */ lwc1	$f10, 0X628($s4)
/* 007337 0x808EC264 C430064C */ lwc1	$f16, %lo(D_808F064C)($at)
/* 007338 0x808EC268 46105480 */ add.s	$f18, $f10, $f16
/* 007339 0x808EC26C E6920628 */ swc1	$f18, 0X628($s4)
.L808EC270:
/* 007340 0x808EC270 C6840388 */ lwc1	$f4, 0X388($s4)
/* 007341 0x808EC274 4604003C */ c.lt.s	$f0, $f4
/* 007342 0x808EC278 00000000 */ nop
/* 007343 0x808EC27C 4502002C */ bc1fl .L808EC330
/* 007344 0x808EC280 8FBF003C */ lw	$ra, 0X3C($sp)
/* 007345 0x808EC284 928E02B5 */ lbu	$t6, 0X2B5($s4)
/* 007346 0x808EC288 2401000A */ li	$at, 0XA
/* 007347 0x808EC28C 51C1001D */ beql	$t6, $at, .L808EC304
/* 007348 0x808EC290 3C013F40 */ lui	$at, 0x3F40
/* 007349 0x808EC294 8E980188 */ lw	$t8, 0X188($s4)
/* 007350 0x808EC298 3C0B808F */ lui	$t3, %hi(func_808EB8B4)
/* 007351 0x808EC29C 256BB8B4 */ addiu	$t3, $t3, %lo(func_808EB8B4)
/* 007352 0x808EC2A0 11780017 */ beq	$t3, $t8, .L808EC300
/* 007353 0x808EC2A4 26840388 */ addiu	$a0, $s4, 0X388
/* 007354 0x808EC2A8 44050000 */ mfc1	$a1, $f0
/* 007355 0x808EC2AC 3C063D4C */ lui	$a2, 0x3D4C
/* 007356 0x808EC2B0 0C03FC0F */ jal	Lib_StepTowardsCheck_f
/* 007357 0x808EC2B4 34C6CCCD */ ori	$a2, $a2, 0XCCCD
/* 007358 0x808EC2B8 3C013F40 */ lui	$at, 0x3F40
/* 007359 0x808EC2BC 44811000 */ mtc1	$at, $f2
/* 007360 0x808EC2C0 3C013F80 */ lui	$at, 0x3F80
/* 007361 0x808EC2C4 44814000 */ mtc1	$at, $f8
/* 007362 0x808EC2C8 C6860388 */ lwc1	$f6, 0X388($s4)
/* 007363 0x808EC2CC 3C013EC0 */ lui	$at, 0x3EC0
/* 007364 0x808EC2D0 44818000 */ mtc1	$at, $f16
/* 007365 0x808EC2D4 46083280 */ add.s	$f10, $f6, $f8
/* 007366 0x808EC2D8 46105002 */ mul.s	$f0, $f10, $f16
/* 007367 0x808EC2DC 4600103C */ c.lt.s	$f2, $f0
/* 007368 0x808EC2E0 E680038C */ swc1	$f0, 0X38C($s4)
/* 007369 0x808EC2E4 45020004 */ bc1fl .L808EC2F8
/* 007370 0x808EC2E8 C692038C */ lwc1	$f18, 0X38C($s4)
/* 007371 0x808EC2EC 1000000F */ b	.L808EC32C
/* 007372 0x808EC2F0 E682038C */ swc1	$f2, 0X38C($s4)
/* 007373 0x808EC2F4 C692038C */ lwc1	$f18, 0X38C($s4)
.L808EC2F8:
/* 007374 0x808EC2F8 1000000C */ b	.L808EC32C
/* 007375 0x808EC2FC E692038C */ swc1	$f18, 0X38C($s4)
.L808EC300:
/* 007376 0x808EC300 3C013F40 */ lui	$at, 0x3F40
.L808EC304:
/* 007377 0x808EC304 44811000 */ mtc1	$at, $f2
/* 007378 0x808EC308 3C063C99 */ lui	$a2, 0x3C99
/* 007379 0x808EC30C 34C6999A */ ori	$a2, $a2, 0X999A
/* 007380 0x808EC310 44051000 */ mfc1	$a1, $f2
/* 007381 0x808EC314 0C03FC0F */ jal	Lib_StepTowardsCheck_f
/* 007382 0x808EC318 26840390 */ addiu	$a0, $s4, 0X390
/* 007383 0x808EC31C 14400003 */ bnez	$v0, .L808EC32C
/* 007384 0x808EC320 02802025 */ move	$a0, $s4
/* 007385 0x808EC324 0C02E404 */ jal	func_800B9010
/* 007386 0x808EC328 240520B2 */ li	$a1, 0X20B2
.L808EC32C:
/* 007387 0x808EC32C 8FBF003C */ lw	$ra, 0X3C($sp)
.L808EC330:
/* 007388 0x808EC330 D7B40018 */ ldc1	$f20, 0X18($sp)
/* 007389 0x808EC334 D7B60020 */ ldc1	$f22, 0X20($sp)
/* 007390 0x808EC338 8FB00028 */ lw	$s0, 0X28($sp)
/* 007391 0x808EC33C 8FB1002C */ lw	$s1, 0X2C($sp)
/* 007392 0x808EC340 8FB20030 */ lw	$s2, 0X30($sp)
/* 007393 0x808EC344 8FB30034 */ lw	$s3, 0X34($sp)
/* 007394 0x808EC348 8FB40038 */ lw	$s4, 0X38($sp)
/* 007395 0x808EC34C 03E00008 */ jr	$ra
/* 007396 0x808EC350 27BD0040 */ addiu	$sp, $sp, 0X40

