glabel func_80871058
/* 000170 0x80871058 27BDFFA0 */ addiu	$sp, $sp, -0X60
/* 000171 0x8087105C AFB00018 */ sw	$s0, 0X18($sp)
/* 000172 0x80871060 00808025 */ move	$s0, $a0
/* 000173 0x80871064 AFBF001C */ sw	$ra, 0X1C($sp)
/* 000174 0x80871068 AFA50064 */ sw	$a1, 0X64($sp)
/* 000175 0x8087106C 02002025 */ move	$a0, $s0
/* 000176 0x80871070 0C02E27E */ jal	Actor_HasParent
/* 000177 0x80871074 8FA50064 */ lw	$a1, 0X64($sp)
/* 000178 0x80871078 10400006 */ beqz	$v0, .L80871094
/* 000179 0x8087107C 3C0E8087 */ lui	$t6, %hi(func_808714D4)
/* 000180 0x80871080 25CE14D4 */ addiu	$t6, $t6, %lo(func_808714D4)
/* 000181 0x80871084 240FFFFF */ li	$t7, -0X1
/* 000182 0x80871088 AE0E0200 */ sw	$t6, 0X200($s0)
/* 000183 0x8087108C 1000010C */ b	.L808714C0
/* 000184 0x80871090 A20F0003 */ sb	$t7, 0X3($s0)
.L80871094:
/* 000185 0x80871094 44801000 */ mtc1	$zero, $f2
/* 000186 0x80871098 C6000068 */ lwc1	$f0, 0X68($s0)
/* 000187 0x8087109C 4600103C */ c.lt.s	$f2, $f0
/* 000188 0x808710A0 00000000 */ nop
/* 000189 0x808710A4 45020008 */ bc1fl .L808710C8
/* 000190 0x808710A8 C6060070 */ lwc1	$f6, 0X70($s0)
/* 000191 0x808710AC 96180090 */ lhu	$t8, 0X90($s0)
/* 000192 0x808710B0 33190010 */ andi	$t9, $t8, 0X10
/* 000193 0x808710B4 53200004 */ beqzl	$t9, .L808710C8
/* 000194 0x808710B8 C6060070 */ lwc1	$f6, 0X70($s0)
/* 000195 0x808710BC 46000107 */ neg.s	$f4, $f0
/* 000196 0x808710C0 E6040068 */ swc1	$f4, 0X68($s0)
/* 000197 0x808710C4 C6060070 */ lwc1	$f6, 0X70($s0)
.L808710C8:
/* 000198 0x808710C8 96020090 */ lhu	$v0, 0X90($s0)
/* 000199 0x808710CC 46061032 */ c.eq.s	$f2, $f6
/* 000200 0x808710D0 30480008 */ andi	$t0, $v0, 0X8
/* 000201 0x808710D4 45030028 */ bc1tl .L80871178
/* 000202 0x808710D8 304F0001 */ andi	$t7, $v0, 0X1
/* 000203 0x808710DC 51000026 */ beqzl	$t0, .L80871178
/* 000204 0x808710E0 304F0001 */ andi	$t7, $v0, 0X1
/* 000205 0x808710E4 86040086 */ lh	$a0, 0X86($s0)
/* 000206 0x808710E8 86090032 */ lh	$t1, 0X32($s0)
/* 000207 0x808710EC 00892823 */ subu	$a1, $a0, $t1
/* 000208 0x808710F0 00051C00 */ sll	$v1, $a1, 16
/* 000209 0x808710F4 00031C03 */ sra	$v1, $v1, 16
/* 000210 0x808710F8 04610003 */ bgez	$v1, .L80871108
/* 000211 0x808710FC 00601025 */ move	$v0, $v1
/* 000212 0x80871100 10000001 */ b	.L80871108
/* 000213 0x80871104 00031023 */ negu	$v0, $v1
.L80871108:
/* 000214 0x80871108 28414001 */ slti	$at, $v0, 0X4001
/* 000215 0x8087110C 14200004 */ bnez	$at, .L80871120
/* 000216 0x80871110 00A45021 */ addu	$t2, $a1, $a0
/* 000217 0x80871114 24018000 */ li	$at, -0X8000
/* 000218 0x80871118 01415821 */ addu	$t3, $t2, $at
/* 000219 0x8087111C A60B0032 */ sh	$t3, 0X32($s0)
.L80871120:
/* 000220 0x80871120 920C01F9 */ lbu	$t4, 0X1F9($s0)
/* 000221 0x80871124 02002025 */ move	$a0, $s0
/* 000222 0x80871128 2402282F */ li	$v0, 0X282F
/* 000223 0x8087112C 11800003 */ beqz	$t4, .L8087113C
/* 000224 0x80871130 00000000 */ nop
/* 000225 0x80871134 10000001 */ b	.L8087113C
/* 000226 0x80871138 240228AB */ li	$v0, 0X28AB
.L8087113C:
/* 000227 0x8087113C 0C02E3B2 */ jal	func_800B8EC8
/* 000228 0x80871140 3045FFFF */ andi	$a1, $v0, 0XFFFF
/* 000229 0x80871144 0C02DAA2 */ jal	Actor_SetVelocityAndMoveYRotationAndGravity
/* 000230 0x80871148 02002025 */ move	$a0, $s0
/* 000231 0x8087114C 3C018087 */ lui	$at, %hi(D_808743C0)
/* 000232 0x80871150 C42A43C0 */ lwc1	$f10, %lo(D_808743C0)($at)
/* 000233 0x80871154 C6080070 */ lwc1	$f8, 0X70($s0)
/* 000234 0x80871158 960D0090 */ lhu	$t5, 0X90($s0)
/* 000235 0x8087115C 44801000 */ mtc1	$zero, $f2
/* 000236 0x80871160 460A4482 */ mul.s	$f18, $f8, $f10
/* 000237 0x80871164 31AEFFF7 */ andi	$t6, $t5, 0XFFF7
/* 000238 0x80871168 A60E0090 */ sh	$t6, 0X90($s0)
/* 000239 0x8087116C E6120070 */ swc1	$f18, 0X70($s0)
/* 000240 0x80871170 96020090 */ lhu	$v0, 0X90($s0)
/* 000241 0x80871174 304F0001 */ andi	$t7, $v0, 0X1
.L80871178:
/* 000242 0x80871178 15E00008 */ bnez	$t7, .L8087119C
/* 000243 0x8087117C 8FA40064 */ lw	$a0, 0X64($sp)
/* 000244 0x80871180 44051000 */ mfc1	$a1, $f2
/* 000245 0x80871184 3C063DA3 */ lui	$a2, 0x3DA3
/* 000246 0x80871188 34C6D70A */ ori	$a2, $a2, 0XD70A
/* 000247 0x8087118C 0C03FC0F */ jal	Lib_StepTowardsCheck_f
/* 000248 0x80871190 26040070 */ addiu	$a0, $s0, 0X70
/* 000249 0x80871194 100000C8 */ b	.L808714B8
/* 000250 0x80871198 00000000 */ nop
.L8087119C:
/* 000251 0x8087119C 24840830 */ addiu	$a0, $a0, 0X830
/* 000252 0x808711A0 8E050080 */ lw	$a1, 0X80($s0)
/* 000253 0x808711A4 92060085 */ lbu	$a2, 0X85($s0)
/* 000254 0x808711A8 0C032675 */ jal	func_800C99D4
/* 000255 0x808711AC AFA40028 */ sw	$a0, 0X28($sp)
/* 000256 0x808711B0 AFA20054 */ sw	$v0, 0X54($sp)
/* 000257 0x808711B4 921801F9 */ lbu	$t8, 0X1F9($s0)
/* 000258 0x808711B8 3C088087 */ lui	$t0, %hi(D_80872E68)
/* 000259 0x808711BC 25082E68 */ addiu	$t0, $t0, %lo(D_80872E68)
/* 000260 0x808711C0 0018C880 */ sll	$t9, $t8, 2
/* 000261 0x808711C4 0338C823 */ subu	$t9, $t9, $t8
/* 000262 0x808711C8 0019C880 */ sll	$t9, $t9, 2
/* 000263 0x808711CC 03284821 */ addu	$t1, $t9, $t0
/* 000264 0x808711D0 24010005 */ li	$at, 0X5
/* 000265 0x808711D4 14410004 */ bne	$v0, $at, .L808711E8
/* 000266 0x808711D8 AFA90058 */ sw	$t1, 0X58($sp)
/* 000267 0x808711DC 3C0A8087 */ lui	$t2, %hi(D_80872E80)
/* 000268 0x808711E0 254A2E80 */ addiu	$t2, $t2, %lo(D_80872E80)
/* 000269 0x808711E4 AFAA0058 */ sw	$t2, 0X58($sp)
.L808711E8:
/* 000270 0x808711E8 24010004 */ li	$at, 0X4
/* 000271 0x808711EC 10410005 */ beq	$v0, $at, .L80871204
/* 000272 0x808711F0 260400C4 */ addiu	$a0, $s0, 0XC4
/* 000273 0x808711F4 2401000E */ li	$at, 0XE
/* 000274 0x808711F8 10410002 */ beq	$v0, $at, .L80871204
/* 000275 0x808711FC 2401000F */ li	$at, 0XF
/* 000276 0x80871200 14410010 */ bne	$v0, $at, .L80871244
.L80871204:
/* 000277 0x80871204 3C063DCC */ lui	$a2, 0x3DCC
/* 000278 0x80871208 34C6CCCD */ ori	$a2, $a2, 0XCCCD
/* 000279 0x8087120C 24050000 */ li	$a1, 0X0
/* 000280 0x80871210 0C03FF7E */ jal	Math_SmoothScaleMaxF
/* 000281 0x80871214 3C074248 */ lui	$a3, 0x4248
/* 000282 0x80871218 920B00D0 */ lbu	$t3, 0XD0($s0)
/* 000283 0x8087121C 27A40036 */ addiu	$a0, $sp, 0X36
/* 000284 0x80871220 00002825 */ move	$a1, $zero
/* 000285 0x80871224 24060001 */ li	$a2, 0X1
/* 000286 0x80871228 24070014 */ li	$a3, 0X14
/* 000287 0x8087122C 0C03FFF6 */ jal	Math_SmoothScaleMaxS
/* 000288 0x80871230 A7AB0036 */ sh	$t3, 0X36($sp)
/* 000289 0x80871234 87AC0036 */ lh	$t4, 0X36($sp)
/* 000290 0x80871238 A20C00D0 */ sb	$t4, 0XD0($s0)
/* 000291 0x8087123C 10000009 */ b	.L80871264
/* 000292 0x80871240 00000000 */ nop
.L80871244:
/* 000293 0x80871244 3C01442F */ lui	$at, 0x442F
/* 000294 0x80871248 44810000 */ mtc1	$at, $f0
/* 000295 0x8087124C 260400C4 */ addiu	$a0, $s0, 0XC4
/* 000296 0x80871250 3C063F80 */ lui	$a2, 0x3F80
/* 000297 0x80871254 44050000 */ mfc1	$a1, $f0
/* 000298 0x80871258 44070000 */ mfc1	$a3, $f0
/* 000299 0x8087125C 0C03FF7E */ jal	Math_SmoothScaleMaxF
/* 000300 0x80871260 00000000 */ nop
.L80871264:
/* 000301 0x80871264 0C03FB61 */ jal	Math_Sins
/* 000302 0x80871268 86040032 */ lh	$a0, 0X32($s0)
/* 000303 0x8087126C C6040070 */ lwc1	$f4, 0X70($s0)
/* 000304 0x80871270 86040032 */ lh	$a0, 0X32($s0)
/* 000305 0x80871274 46040382 */ mul.s	$f14, $f0, $f4
/* 000306 0x80871278 0C03FB51 */ jal	Math_Coss
/* 000307 0x8087127C E7AE0040 */ swc1	$f14, 0X40($sp)
/* 000308 0x80871280 C6060070 */ lwc1	$f6, 0X70($s0)
/* 000309 0x80871284 8E040080 */ lw	$a0, 0X80($s0)
/* 000310 0x80871288 27A50048 */ addiu	$a1, $sp, 0X48
/* 000311 0x8087128C 46060302 */ mul.s	$f12, $f0, $f6
/* 000312 0x80871290 27A60046 */ addiu	$a2, $sp, 0X46
/* 000313 0x80871294 0C02DD68 */ jal	func_800B75A0
/* 000314 0x80871298 E7AC003C */ swc1	$f12, 0X3C($sp)
/* 000315 0x8087129C 3C014040 */ lui	$at, 0x4040
/* 000316 0x808712A0 44818000 */ mtc1	$at, $f16
/* 000317 0x808712A4 C7A80048 */ lwc1	$f8, 0X48($sp)
/* 000318 0x808712A8 C7B20050 */ lwc1	$f18, 0X50($sp)
/* 000319 0x808712AC C7AE0040 */ lwc1	$f14, 0X40($sp)
/* 000320 0x808712B0 46088282 */ mul.s	$f10, $f16, $f8
/* 000321 0x808712B4 C7AC003C */ lwc1	$f12, 0X3C($sp)
/* 000322 0x808712B8 8FA40028 */ lw	$a0, 0X28($sp)
/* 000323 0x808712BC 46128102 */ mul.s	$f4, $f16, $f18
/* 000324 0x808712C0 460A7380 */ add.s	$f14, $f14, $f10
/* 000325 0x808712C4 C60A0070 */ lwc1	$f10, 0X70($s0)
/* 000326 0x808712C8 46046300 */ add.s	$f12, $f12, $f4
/* 000327 0x808712CC 460E7182 */ mul.s	$f6, $f14, $f14
/* 000328 0x808712D0 00000000 */ nop
/* 000329 0x808712D4 460C6202 */ mul.s	$f8, $f12, $f12
/* 000330 0x808712D8 46083000 */ add.s	$f0, $f6, $f8
/* 000331 0x808712DC 46000084 */ sqrt.s	$f2, $f0
/* 000332 0x808712E0 460A103C */ c.lt.s	$f2, $f10
/* 000333 0x808712E4 00000000 */ nop
/* 000334 0x808712E8 4501000C */ bc1t .L8087131C
/* 000335 0x808712EC 00000000 */ nop
/* 000336 0x808712F0 8E050080 */ lw	$a1, 0X80($s0)
/* 000337 0x808712F4 92060085 */ lbu	$a2, 0X85($s0)
/* 000338 0x808712F8 E7AE0040 */ swc1	$f14, 0X40($sp)
/* 000339 0x808712FC E7AC003C */ swc1	$f12, 0X3C($sp)
/* 000340 0x80871300 0C03271D */ jal	func_800C9C74
/* 000341 0x80871304 E7A20038 */ swc1	$f2, 0X38($sp)
/* 000342 0x80871308 24010001 */ li	$at, 0X1
/* 000343 0x8087130C C7A20038 */ lwc1	$f2, 0X38($sp)
/* 000344 0x80871310 C7AC003C */ lwc1	$f12, 0X3C($sp)
/* 000345 0x80871314 1441000E */ bne	$v0, $at, .L80871350
/* 000346 0x80871318 C7AE0040 */ lwc1	$f14, 0X40($sp)
.L8087131C:
/* 000347 0x8087131C 3C014180 */ lui	$at, 0x4180
/* 000348 0x80871320 44810000 */ mtc1	$at, $f0
/* 000349 0x80871324 00000000 */ nop
/* 000350 0x80871328 4602003C */ c.lt.s	$f0, $f2
/* 000351 0x8087132C 00000000 */ nop
/* 000352 0x80871330 45020004 */ bc1fl .L80871344
/* 000353 0x80871334 E6020070 */ swc1	$f2, 0X70($s0)
/* 000354 0x80871338 10000002 */ b	.L80871344
/* 000355 0x8087133C E6000070 */ swc1	$f0, 0X70($s0)
/* 000356 0x80871340 E6020070 */ swc1	$f2, 0X70($s0)
.L80871344:
/* 000357 0x80871344 0C060040 */ jal	atans_flip
/* 000358 0x80871348 00000000 */ nop
/* 000359 0x8087134C A6020032 */ sh	$v0, 0X32($s0)
.L80871350:
/* 000360 0x80871350 8FAD0058 */ lw	$t5, 0X58($sp)
/* 000361 0x80871354 26040070 */ addiu	$a0, $s0, 0X70
/* 000362 0x80871358 24050000 */ li	$a1, 0X0
/* 000363 0x8087135C 0C03FC0F */ jal	Lib_StepTowardsCheck_f
/* 000364 0x80871360 8DA60000 */ lw	$a2, 0X0($t5)
/* 000365 0x80871364 54400028 */ bnezl	$v0, .L80871408
/* 000366 0x80871368 960C0090 */ lhu	$t4, 0X90($s0)
/* 000367 0x8087136C 86020032 */ lh	$v0, 0X32($s0)
/* 000368 0x80871370 860E00BE */ lh	$t6, 0XBE($s0)
/* 000369 0x80871374 00022C00 */ sll	$a1, $v0, 16
/* 000370 0x80871378 004E1823 */ subu	$v1, $v0, $t6
/* 000371 0x8087137C 00031C00 */ sll	$v1, $v1, 16
/* 000372 0x80871380 00031C03 */ sra	$v1, $v1, 16
/* 000373 0x80871384 04610003 */ bgez	$v1, .L80871394
/* 000374 0x80871388 00052C03 */ sra	$a1, $a1, 16
/* 000375 0x8087138C 10000002 */ b	.L80871398
/* 000376 0x80871390 00031023 */ negu	$v0, $v1
.L80871394:
/* 000377 0x80871394 00601025 */ move	$v0, $v1
.L80871398:
/* 000378 0x80871398 28414001 */ slti	$at, $v0, 0X4001
/* 000379 0x8087139C 14200004 */ bnez	$at, .L808713B0
/* 000380 0x808713A0 34018000 */ ori	$at, $zero, 0X8000
/* 000381 0x808713A4 00A12821 */ addu	$a1, $a1, $at
/* 000382 0x808713A8 00052C00 */ sll	$a1, $a1, 16
/* 000383 0x808713AC 00052C03 */ sra	$a1, $a1, 16
.L808713B0:
/* 000384 0x808713B0 3C0142C8 */ lui	$at, 0x42C8
/* 000385 0x808713B4 44812000 */ mtc1	$at, $f4
/* 000386 0x808713B8 C6120070 */ lwc1	$f18, 0X70($s0)
/* 000387 0x808713BC 260400BE */ addiu	$a0, $s0, 0XBE
/* 000388 0x808713C0 46049182 */ mul.s	$f6, $f18, $f4
/* 000389 0x808713C4 4600320D */ trunc.w.s	$f8, $f6
/* 000390 0x808713C8 44064000 */ mfc1	$a2, $f8
/* 000391 0x808713CC 00000000 */ nop
/* 000392 0x808713D0 00063400 */ sll	$a2, $a2, 16
/* 000393 0x808713D4 0C03FB9C */ jal	Lib_StepTowardsCheckFramerateScaled_s
/* 000394 0x808713D8 00063403 */ sra	$a2, $a2, 16
/* 000395 0x808713DC 3C014448 */ lui	$at, 0x4448
/* 000396 0x808713E0 44819000 */ mtc1	$at, $f18
/* 000397 0x808713E4 C60A0070 */ lwc1	$f10, 0X70($s0)
/* 000398 0x808713E8 860A01FA */ lh	$t2, 0X1FA($s0)
/* 000399 0x808713EC 46125102 */ mul.s	$f4, $f10, $f18
/* 000400 0x808713F0 4600218D */ trunc.w.s	$f6, $f4
/* 000401 0x808713F4 44093000 */ mfc1	$t1, $f6
/* 000402 0x808713F8 00000000 */ nop
/* 000403 0x808713FC 01495821 */ addu	$t3, $t2, $t1
/* 000404 0x80871400 A60B01FA */ sh	$t3, 0X1FA($s0)
/* 000405 0x80871404 960C0090 */ lhu	$t4, 0X90($s0)
.L80871408:
/* 000406 0x80871408 02002025 */ move	$a0, $s0
/* 000407 0x8087140C 318D0002 */ andi	$t5, $t4, 0X2
/* 000408 0x80871410 51A00023 */ beqzl	$t5, .L808714A0
/* 000409 0x80871414 860A01F0 */ lh	$t2, 0X1F0($s0)
/* 000410 0x80871418 920E01F9 */ lbu	$t6, 0X1F9($s0)
/* 000411 0x8087141C 2402282F */ li	$v0, 0X282F
/* 000412 0x80871420 11C00003 */ beqz	$t6, .L80871430
/* 000413 0x80871424 00000000 */ nop
/* 000414 0x80871428 10000001 */ b	.L80871430
/* 000415 0x8087142C 24022856 */ li	$v0, 0X2856
.L80871430:
/* 000416 0x80871430 0C02E3B2 */ jal	func_800B8EC8
/* 000417 0x80871434 3045FFFF */ andi	$a1, $v0, 0XFFFF
/* 000418 0x80871438 8FAF0058 */ lw	$t7, 0X58($sp)
/* 000419 0x8087143C C6000068 */ lwc1	$f0, 0X68($s0)
/* 000420 0x80871440 8FA20054 */ lw	$v0, 0X54($sp)
/* 000421 0x80871444 C5E80004 */ lwc1	$f8, 0X4($t7)
/* 000422 0x80871448 24010004 */ li	$at, 0X4
/* 000423 0x8087144C 4608003C */ c.lt.s	$f0, $f8
/* 000424 0x80871450 00000000 */ nop
/* 000425 0x80871454 45000018 */ bc1f .L808714B8
/* 000426 0x80871458 00000000 */ nop
/* 000427 0x8087145C 10410005 */ beq	$v0, $at, .L80871474
/* 000428 0x80871460 2401000E */ li	$at, 0XE
/* 000429 0x80871464 10410003 */ beq	$v0, $at, .L80871474
/* 000430 0x80871468 2401000F */ li	$at, 0XF
/* 000431 0x8087146C 14410004 */ bne	$v0, $at, .L80871480
/* 000432 0x80871470 8FB80058 */ lw	$t8, 0X58($sp)
.L80871474:
/* 000433 0x80871474 44805000 */ mtc1	$zero, $f10
/* 000434 0x80871478 10000004 */ b	.L8087148C
/* 000435 0x8087147C E60A0068 */ swc1	$f10, 0X68($s0)
.L80871480:
/* 000436 0x80871480 C7120008 */ lwc1	$f18, 0X8($t8)
/* 000437 0x80871484 46120102 */ mul.s	$f4, $f0, $f18
/* 000438 0x80871488 E6040068 */ swc1	$f4, 0X68($s0)
.L8087148C:
/* 000439 0x8087148C 96190090 */ lhu	$t9, 0X90($s0)
/* 000440 0x80871490 3328FFFE */ andi	$t0, $t9, 0XFFFE
/* 000441 0x80871494 10000008 */ b	.L808714B8
/* 000442 0x80871498 A6080090 */ sh	$t0, 0X90($s0)
/* 000443 0x8087149C 860A01F0 */ lh	$t2, 0X1F0($s0)
.L808714A0:
/* 000444 0x808714A0 02002025 */ move	$a0, $s0
/* 000445 0x808714A4 29410004 */ slti	$at, $t2, 0X4
/* 000446 0x808714A8 14200003 */ bnez	$at, .L808714B8
/* 000447 0x808714AC 00000000 */ nop
/* 000448 0x808714B0 0C02E2EC */ jal	func_800B8BB0
/* 000449 0x808714B4 8FA50064 */ lw	$a1, 0X64($sp)
.L808714B8:
/* 000450 0x808714B8 0C02DAA2 */ jal	Actor_SetVelocityAndMoveYRotationAndGravity
/* 000451 0x808714BC 02002025 */ move	$a0, $s0
.L808714C0:
/* 000452 0x808714C0 8FBF001C */ lw	$ra, 0X1C($sp)
/* 000453 0x808714C4 8FB00018 */ lw	$s0, 0X18($sp)
/* 000454 0x808714C8 27BD0060 */ addiu	$sp, $sp, 0X60
/* 000455 0x808714CC 03E00008 */ jr	$ra
/* 000456 0x808714D0 00000000 */ nop


.section .late_rodata

glabel D_808743C0
/* 003460 0x808743C0 */ .word	0x3F333333
