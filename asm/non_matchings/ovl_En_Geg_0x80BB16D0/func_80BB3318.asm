glabel func_80BB3318
/* 001810 0x80BB3318 27BDFFB8 */ addiu	$sp, $sp, -0X48
/* 001811 0x80BB331C AFB00028 */ sw	$s0, 0X28($sp)
/* 001812 0x80BB3320 00808025 */ move	$s0, $a0
/* 001813 0x80BB3324 AFBF002C */ sw	$ra, 0X2C($sp)
/* 001814 0x80BB3328 AFA5004C */ sw	$a1, 0X4C($sp)
/* 001815 0x80BB332C 860204D8 */ lh	$v0, 0X4D8($s0)
/* 001816 0x80BB3330 26040024 */ addiu	$a0, $s0, 0X24
/* 001817 0x80BB3334 3C0F80BB */ lui	$t7, %hi(D_80BB4044)
/* 001818 0x80BB3338 28410002 */ slti	$at, $v0, 0X2
/* 001819 0x80BB333C 10200033 */ beqz	$at, .L80BB340C
/* 001820 0x80BB3340 00027080 */ sll	$t6, $v0, 2
/* 001821 0x80BB3344 01C27023 */ subu	$t6, $t6, $v0
/* 001822 0x80BB3348 000E7080 */ sll	$t6, $t6, 2
/* 001823 0x80BB334C 25EF4044 */ addiu	$t7, $t7, %lo(D_80BB4044)
/* 001824 0x80BB3350 01CF2821 */ addu	$a1, $t6, $t7
/* 001825 0x80BB3354 0C03FE98 */ jal	Math_Vec3f_Yaw
/* 001826 0x80BB3358 AFA40030 */ sw	$a0, 0X30($sp)
/* 001827 0x80BB335C A7A20046 */ sh	$v0, 0X46($sp)
/* 001828 0x80BB3360 861804D8 */ lh	$t8, 0X4D8($s0)
/* 001829 0x80BB3364 3C0880BB */ lui	$t0, %hi(D_80BB4044)
/* 001830 0x80BB3368 25084044 */ addiu	$t0, $t0, %lo(D_80BB4044)
/* 001831 0x80BB336C 0018C880 */ sll	$t9, $t8, 2
/* 001832 0x80BB3370 0338C823 */ subu	$t9, $t9, $t8
/* 001833 0x80BB3374 0019C880 */ sll	$t9, $t9, 2
/* 001834 0x80BB3378 03282821 */ addu	$a1, $t9, $t0
/* 001835 0x80BB337C 0C03FE4B */ jal	Math_Vec3f_DistXZ
/* 001836 0x80BB3380 8FA40030 */ lw	$a0, 0X30($sp)
/* 001837 0x80BB3384 24090001 */ li	$t1, 0X1
/* 001838 0x80BB3388 E7A00040 */ swc1	$f0, 0X40($sp)
/* 001839 0x80BB338C AFA90010 */ sw	$t1, 0X10($sp)
/* 001840 0x80BB3390 26040032 */ addiu	$a0, $s0, 0X32
/* 001841 0x80BB3394 87A50046 */ lh	$a1, 0X46($sp)
/* 001842 0x80BB3398 24060004 */ li	$a2, 0X4
/* 001843 0x80BB339C 0C03FFAF */ jal	Math_SmoothScaleMaxMinS
/* 001844 0x80BB33A0 240703E8 */ li	$a3, 0X3E8
/* 001845 0x80BB33A4 3C0141A0 */ lui	$at, 0x41A0
/* 001846 0x80BB33A8 44813000 */ mtc1	$at, $f6
/* 001847 0x80BB33AC C7A40040 */ lwc1	$f4, 0X40($sp)
/* 001848 0x80BB33B0 4606203C */ c.lt.s	$f4, $f6
/* 001849 0x80BB33B4 00000000 */ nop
/* 001850 0x80BB33B8 45020005 */ bc1fl .L80BB33D0
/* 001851 0x80BB33BC 860C0032 */ lh	$t4, 0X32($s0)
/* 001852 0x80BB33C0 860A04D8 */ lh	$t2, 0X4D8($s0)
/* 001853 0x80BB33C4 254B0001 */ addiu	$t3, $t2, 0X1
/* 001854 0x80BB33C8 A60B04D8 */ sh	$t3, 0X4D8($s0)
/* 001855 0x80BB33CC 860C0032 */ lh	$t4, 0X32($s0)
.L80BB33D0:
/* 001856 0x80BB33D0 8E0404DC */ lw	$a0, 0X4DC($s0)
/* 001857 0x80BB33D4 0C02BDC8 */ jal	Effect_GetParams
/* 001858 0x80BB33D8 A60C00BE */ sh	$t4, 0XBE($s0)
/* 001859 0x80BB33DC 860D00BE */ lh	$t5, 0XBE($s0)
/* 001860 0x80BB33E0 8FA4004C */ lw	$a0, 0X4C($sp)
/* 001861 0x80BB33E4 00402825 */ move	$a1, $v0
/* 001862 0x80BB33E8 AFAD0010 */ sw	$t5, 0X10($sp)
/* 001863 0x80BB33EC 8E0E0080 */ lw	$t6, 0X80($s0)
/* 001864 0x80BB33F0 8FA60030 */ lw	$a2, 0X30($sp)
/* 001865 0x80BB33F4 3C074190 */ lui	$a3, 0x4190
/* 001866 0x80BB33F8 AFAE0014 */ sw	$t6, 0X14($sp)
/* 001867 0x80BB33FC 920F0085 */ lbu	$t7, 0X85($s0)
/* 001868 0x80BB3400 24840830 */ addiu	$a0, $a0, 0X830
/* 001869 0x80BB3404 0C02BA4C */ jal	func_800AE930
/* 001870 0x80BB3408 AFAF0018 */ sw	$t7, 0X18($sp)
.L80BB340C:
/* 001871 0x80BB340C 0C03C81F */ jal	ActorCutscene_GetCurrentIndex
/* 001872 0x80BB3410 00000000 */ nop
/* 001873 0x80BB3414 861804AA */ lh	$t8, 0X4AA($s0)
/* 001874 0x80BB3418 26040070 */ addiu	$a0, $s0, 0X70
/* 001875 0x80BB341C 3C054120 */ lui	$a1, 0x4120
/* 001876 0x80BB3420 10580009 */ beq	$v0, $t8, .L80BB3448
/* 001877 0x80BB3424 3C063E4C */ lui	$a2, 0x3E4C
/* 001878 0x80BB3428 0C02BDC8 */ jal	Effect_GetParams
/* 001879 0x80BB342C 8E0404DC */ lw	$a0, 0X4DC($s0)
/* 001880 0x80BB3430 0C02BBD1 */ jal	func_800AEF44
/* 001881 0x80BB3434 00402025 */ move	$a0, $v0
/* 001882 0x80BB3438 0C02D9C3 */ jal	Actor_MarkForDeath
/* 001883 0x80BB343C 02002025 */ move	$a0, $s0
/* 001884 0x80BB3440 10000007 */ b	.L80BB3460
/* 001885 0x80BB3444 02002025 */ move	$a0, $s0
.L80BB3448:
/* 001886 0x80BB3448 34C6CCCD */ ori	$a2, $a2, 0XCCCD
/* 001887 0x80BB344C 0C03FF7E */ jal	Math_SmoothScaleMaxF
/* 001888 0x80BB3450 3C073F80 */ lui	$a3, 0x3F80
/* 001889 0x80BB3454 0C02DAA2 */ jal	Actor_SetVelocityAndMoveYRotationAndGravity
/* 001890 0x80BB3458 02002025 */ move	$a0, $s0
/* 001891 0x80BB345C 02002025 */ move	$a0, $s0
.L80BB3460:
/* 001892 0x80BB3460 0C02E404 */ jal	func_800B9010
/* 001893 0x80BB3464 24053203 */ li	$a1, 0X3203
/* 001894 0x80BB3468 8FBF002C */ lw	$ra, 0X2C($sp)
/* 001895 0x80BB346C 8FB00028 */ lw	$s0, 0X28($sp)
/* 001896 0x80BB3470 27BD0048 */ addiu	$sp, $sp, 0X48
/* 001897 0x80BB3474 03E00008 */ jr	$ra
/* 001898 0x80BB3478 00000000 */ nop

