glabel func_80B4A81C
/* 007067 0x80B4A81C 27BDFFD0 */ addiu	$sp, $sp, -0X30
/* 007068 0x80B4A820 AFB00020 */ sw	$s0, 0X20($sp)
/* 007069 0x80B4A824 00808025 */ move	$s0, $a0
/* 007070 0x80B4A828 AFBF0024 */ sw	$ra, 0X24($sp)
/* 007071 0x80B4A82C AFA50034 */ sw	$a1, 0X34($sp)
/* 007072 0x80B4A830 8FAE0034 */ lw	$t6, 0X34($sp)
/* 007073 0x80B4A834 26040370 */ addiu	$a0, $s0, 0X370
/* 007074 0x80B4A838 240507D0 */ li	$a1, 0X7D0
/* 007075 0x80B4A83C 8DCF1CCC */ lw	$t7, 0X1CCC($t6)
/* 007076 0x80B4A840 240601F4 */ li	$a2, 0X1F4
/* 007077 0x80B4A844 0C03FBCB */ jal	Lib_StepTowardsCheck_s
/* 007078 0x80B4A848 AFAF0028 */ sw	$t7, 0X28($sp)
/* 007079 0x80B4A84C 86050092 */ lh	$a1, 0X92($s0)
/* 007080 0x80B4A850 86070370 */ lh	$a3, 0X370($s0)
/* 007081 0x80B4A854 24180028 */ li	$t8, 0X28
/* 007082 0x80B4A858 AFB80010 */ sw	$t8, 0X10($sp)
/* 007083 0x80B4A85C 260400BE */ addiu	$a0, $s0, 0XBE
/* 007084 0x80B4A860 0C03FFAF */ jal	Math_SmoothScaleMaxMinS
/* 007085 0x80B4A864 24060005 */ li	$a2, 0X5
/* 007086 0x80B4A868 8FA50028 */ lw	$a1, 0X28($sp)
/* 007087 0x80B4A86C 2604003C */ addiu	$a0, $s0, 0X3C
/* 007088 0x80B4A870 0C03FEA5 */ jal	Math_Vec3f_Pitch
/* 007089 0x80B4A874 24A5003C */ addiu	$a1, $a1, 0X3C
/* 007090 0x80B4A878 44822000 */ mtc1	$v0, $f4
/* 007091 0x80B4A87C 3C0180B5 */ lui	$at, %hi(D_80B4EFAC)
/* 007092 0x80B4A880 C428EFAC */ lwc1	$f8, %lo(D_80B4EFAC)($at)
/* 007093 0x80B4A884 468021A0 */ cvt.s.w	$f6, $f4
/* 007094 0x80B4A888 860B00BC */ lh	$t3, 0XBC($s0)
/* 007095 0x80B4A88C 26020324 */ addiu	$v0, $s0, 0X324
/* 007096 0x80B4A890 240CF448 */ li	$t4, -0XBB8
/* 007097 0x80B4A894 2418E0C0 */ li	$t8, -0X1F40
/* 007098 0x80B4A898 46083282 */ mul.s	$f10, $f6, $f8
/* 007099 0x80B4A89C 4600540D */ trunc.w.s	$f16, $f10
/* 007100 0x80B4A8A0 440A8000 */ mfc1	$t2, $f16
/* 007101 0x80B4A8A4 00000000 */ nop
/* 007102 0x80B4A8A8 014B1823 */ subu	$v1, $t2, $t3
/* 007103 0x80B4A8AC 00031C00 */ sll	$v1, $v1, 16
/* 007104 0x80B4A8B0 00031C03 */ sra	$v1, $v1, 16
/* 007105 0x80B4A8B4 2861F448 */ slti	$at, $v1, -0XBB8
/* 007106 0x80B4A8B8 50200005 */ beqzl	$at, .L80B4A8D0
/* 007107 0x80B4A8BC 28610BB9 */ slti	$at, $v1, 0XBB9
/* 007108 0x80B4A8C0 26020324 */ addiu	$v0, $s0, 0X324
/* 007109 0x80B4A8C4 10000007 */ b	.L80B4A8E4
/* 007110 0x80B4A8C8 A44C0026 */ sh	$t4, 0X26($v0)
/* 007111 0x80B4A8CC 28610BB9 */ slti	$at, $v1, 0XBB9
.L80B4A8D0:
/* 007112 0x80B4A8D0 14200003 */ bnez	$at, .L80B4A8E0
/* 007113 0x80B4A8D4 00602025 */ move	$a0, $v1
/* 007114 0x80B4A8D8 10000001 */ b	.L80B4A8E0
/* 007115 0x80B4A8DC 24040BB8 */ li	$a0, 0XBB8
.L80B4A8E0:
/* 007116 0x80B4A8E0 A4440026 */ sh	$a0, 0X26($v0)
.L80B4A8E4:
/* 007117 0x80B4A8E4 860D0092 */ lh	$t5, 0X92($s0)
/* 007118 0x80B4A8E8 860E00BE */ lh	$t6, 0XBE($s0)
/* 007119 0x80B4A8EC 3C0180B5 */ lui	$at, %hi(D_80B4EFB0)
/* 007120 0x80B4A8F0 C426EFB0 */ lwc1	$f6, %lo(D_80B4EFB0)($at)
/* 007121 0x80B4A8F4 01AE1823 */ subu	$v1, $t5, $t6
/* 007122 0x80B4A8F8 00031C00 */ sll	$v1, $v1, 16
/* 007123 0x80B4A8FC 00031C03 */ sra	$v1, $v1, 16
/* 007124 0x80B4A900 44839000 */ mtc1	$v1, $f18
/* 007125 0x80B4A904 00000000 */ nop
/* 007126 0x80B4A908 46809120 */ cvt.s.w	$f4, $f18
/* 007127 0x80B4A90C 46062202 */ mul.s	$f8, $f4, $f6
/* 007128 0x80B4A910 4600428D */ trunc.w.s	$f10, $f8
/* 007129 0x80B4A914 44055000 */ mfc1	$a1, $f10
/* 007130 0x80B4A918 00000000 */ nop
/* 007131 0x80B4A91C 00052C00 */ sll	$a1, $a1, 16
/* 007132 0x80B4A920 00052C03 */ sra	$a1, $a1, 16
/* 007133 0x80B4A924 28A1E0C0 */ slti	$at, $a1, -0X1F40
/* 007134 0x80B4A928 50200004 */ beqzl	$at, .L80B4A93C
/* 007135 0x80B4A92C 28A11F41 */ slti	$at, $a1, 0X1F41
/* 007136 0x80B4A930 10000007 */ b	.L80B4A950
/* 007137 0x80B4A934 A4580028 */ sh	$t8, 0X28($v0)
/* 007138 0x80B4A938 28A11F41 */ slti	$at, $a1, 0X1F41
.L80B4A93C:
/* 007139 0x80B4A93C 14200003 */ bnez	$at, .L80B4A94C
/* 007140 0x80B4A940 00A02025 */ move	$a0, $a1
/* 007141 0x80B4A944 10000001 */ b	.L80B4A94C
/* 007142 0x80B4A948 24041F40 */ li	$a0, 0X1F40
.L80B4A94C:
/* 007143 0x80B4A94C A4440028 */ sh	$a0, 0X28($v0)
.L80B4A950:
/* 007144 0x80B4A950 02002025 */ move	$a0, $s0
/* 007145 0x80B4A954 0C02E19F */ jal	func_800B867C
/* 007146 0x80B4A958 8FA50034 */ lw	$a1, 0X34($sp)
/* 007147 0x80B4A95C 50400016 */ beqzl	$v0, .L80B4A9B8
/* 007148 0x80B4A960 8FBF0024 */ lw	$ra, 0X24($sp)
/* 007149 0x80B4A964 96190116 */ lhu	$t9, 0X116($s0)
/* 007150 0x80B4A968 2401332D */ li	$at, 0X332D
/* 007151 0x80B4A96C 3C02801F */ lui	$v0, %hi(gSaveContext)
/* 007152 0x80B4A970 17210006 */ bne	$t9, $at, .L80B4A98C
/* 007153 0x80B4A974 2442F670 */ addiu	$v0, $v0, %lo(gSaveContext)
/* 007154 0x80B4A978 90480F2E */ lbu	$t0, 0XF2E($v0)
/* 007155 0x80B4A97C 240A332E */ li	$t2, 0X332E
/* 007156 0x80B4A980 35090010 */ ori	$t1, $t0, 0X10
/* 007157 0x80B4A984 A0490F2E */ sb	$t1, 0XF2E($v0)
/* 007158 0x80B4A988 A60A0116 */ sh	$t2, 0X116($s0)
.L80B4A98C:
/* 007159 0x80B4A98C 820B0308 */ lb	$t3, 0X308($s0)
/* 007160 0x80B4A990 820C0309 */ lb	$t4, 0X309($s0)
/* 007161 0x80B4A994 156C0005 */ bne	$t3, $t4, .L80B4A9AC
/* 007162 0x80B4A998 00000000 */ nop
/* 007163 0x80B4A99C 0C2D28B0 */ jal	func_80B4A2C0
/* 007164 0x80B4A9A0 02002025 */ move	$a0, $s0
/* 007165 0x80B4A9A4 10000004 */ b	.L80B4A9B8
/* 007166 0x80B4A9A8 8FBF0024 */ lw	$ra, 0X24($sp)
.L80B4A9AC:
/* 007167 0x80B4A9AC 0C2D2985 */ jal	func_80B4A614
/* 007168 0x80B4A9B0 02002025 */ move	$a0, $s0
/* 007169 0x80B4A9B4 8FBF0024 */ lw	$ra, 0X24($sp)
.L80B4A9B8:
/* 007170 0x80B4A9B8 8FB00020 */ lw	$s0, 0X20($sp)
/* 007171 0x80B4A9BC 27BD0030 */ addiu	$sp, $sp, 0X30
/* 007172 0x80B4A9C0 03E00008 */ jr	$ra
/* 007173 0x80B4A9C4 00000000 */ nop

