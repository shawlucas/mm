glabel EnLight_Update
/* 000185 0x80865C74 27BDFFD0 */ addiu	$sp, $sp, -0X30
/* 000186 0x80865C78 AFB00020 */ sw	$s0, 0X20($sp)
/* 000187 0x80865C7C 00808025 */ move	$s0, $a0
/* 000188 0x80865C80 AFBF0024 */ sw	$ra, 0X24($sp)
/* 000189 0x80865C84 AFA50034 */ sw	$a1, 0X34($sp)
/* 000190 0x80865C88 8602001C */ lh	$v0, 0X1C($s0)
/* 000191 0x80865C8C 3C198086 */ lui	$t9, %hi(D_808666D0)
/* 000192 0x80865C90 273966D0 */ addiu	$t9, $t9, %lo(D_808666D0)
/* 000193 0x80865C94 304E4000 */ andi	$t6, $v0, 0X4000
/* 000194 0x80865C98 15C00098 */ bnez	$t6, .L80865EFC
/* 000195 0x80865C9C 304F000F */ andi	$t7, $v0, 0XF
/* 000196 0x80865CA0 000FC0C0 */ sll	$t8, $t7, 3
/* 000197 0x80865CA4 03194021 */ addu	$t0, $t8, $t9
/* 000198 0x80865CA8 0C021BF7 */ jal	randZeroOne
/* 000199 0x80865CAC AFA80028 */ sw	$t0, 0X28($sp)
/* 000200 0x80865CB0 3C013F00 */ lui	$at, 0x3F00
/* 000201 0x80865CB4 44816000 */ mtc1	$at, $f12
/* 000202 0x80865CB8 8602001C */ lh	$v0, 0X1C($s0)
/* 000203 0x80865CBC 8FA80028 */ lw	$t0, 0X28($sp)
/* 000204 0x80865CC0 460C0102 */ mul.s	$f4, $f0, $f12
/* 000205 0x80865CC4 30492000 */ andi	$t1, $v0, 0X2000
/* 000206 0x80865CC8 04410003 */ bgez	$v0, .L80865CD8
/* 000207 0x80865CCC 460C2080 */ add.s	$f2, $f4, $f12
/* 000208 0x80865CD0 10000006 */ b	.L80865CEC
/* 000209 0x80865CD4 24020064 */ li	$v0, 0X64
.L80865CD8:
/* 000210 0x80865CD8 11200003 */ beqz	$t1, .L80865CE8
/* 000211 0x80865CDC 2403012C */ li	$v1, 0X12C
/* 000212 0x80865CE0 10000001 */ b	.L80865CE8
/* 000213 0x80865CE4 240302DA */ li	$v1, 0X2DA
.L80865CE8:
/* 000214 0x80865CE8 00601025 */ move	$v0, $v1
.L80865CEC:
/* 000215 0x80865CEC 910A0000 */ lbu	$t2, 0X0($t0)
/* 000216 0x80865CF0 2604014C */ addiu	$a0, $s0, 0X14C
/* 000217 0x80865CF4 3C014F80 */ lui	$at, 0x4F80
/* 000218 0x80865CF8 448A3000 */ mtc1	$t2, $f6
/* 000219 0x80865CFC 05410004 */ bgez	$t2, .L80865D10
/* 000220 0x80865D00 46803220 */ cvt.s.w	$f8, $f6
/* 000221 0x80865D04 44815000 */ mtc1	$at, $f10
/* 000222 0x80865D08 00000000 */ nop
/* 000223 0x80865D0C 460A4200 */ add.s	$f8, $f8, $f10
.L80865D10:
/* 000224 0x80865D10 46024402 */ mul.s	$f16, $f8, $f2
/* 000225 0x80865D14 24050001 */ li	$a1, 0X1
/* 000226 0x80865D18 3C014F00 */ lui	$at, 0x4F00
/* 000227 0x80865D1C 444BF800 */ cfc1	$t3, $31
/* 000228 0x80865D20 44C5F800 */ ctc1	$a1, $31
/* 000229 0x80865D24 00000000 */ nop
/* 000230 0x80865D28 460084A4 */ cvt.w.s	$f18, $f16
/* 000231 0x80865D2C 4445F800 */ cfc1	$a1, $31
/* 000232 0x80865D30 00000000 */ nop
/* 000233 0x80865D34 30A50078 */ andi	$a1, $a1, 0X78
/* 000234 0x80865D38 50A00013 */ beqzl	$a1, .L80865D88
/* 000235 0x80865D3C 44059000 */ mfc1	$a1, $f18
/* 000236 0x80865D40 44819000 */ mtc1	$at, $f18
/* 000237 0x80865D44 24050001 */ li	$a1, 0X1
/* 000238 0x80865D48 46128481 */ sub.s	$f18, $f16, $f18
/* 000239 0x80865D4C 44C5F800 */ ctc1	$a1, $31
/* 000240 0x80865D50 00000000 */ nop
/* 000241 0x80865D54 460094A4 */ cvt.w.s	$f18, $f18
/* 000242 0x80865D58 4445F800 */ cfc1	$a1, $31
/* 000243 0x80865D5C 00000000 */ nop
/* 000244 0x80865D60 30A50078 */ andi	$a1, $a1, 0X78
/* 000245 0x80865D64 14A00005 */ bnez	$a1, .L80865D7C
/* 000246 0x80865D68 00000000 */ nop
/* 000247 0x80865D6C 44059000 */ mfc1	$a1, $f18
/* 000248 0x80865D70 3C018000 */ lui	$at, 0x8000
/* 000249 0x80865D74 10000007 */ b	.L80865D94
/* 000250 0x80865D78 00A12825 */ or	$a1, $a1, $at
.L80865D7C:
/* 000251 0x80865D7C 10000005 */ b	.L80865D94
/* 000252 0x80865D80 2405FFFF */ li	$a1, -0X1
/* 000253 0x80865D84 44059000 */ mfc1	$a1, $f18
.L80865D88:
/* 000254 0x80865D88 00000000 */ nop
/* 000255 0x80865D8C 04A0FFFB */ bltz	$a1, .L80865D7C
/* 000256 0x80865D90 00000000 */ nop
.L80865D94:
/* 000257 0x80865D94 910C0001 */ lbu	$t4, 0X1($t0)
/* 000258 0x80865D98 44CBF800 */ ctc1	$t3, $31
/* 000259 0x80865D9C 30A500FF */ andi	$a1, $a1, 0XFF
/* 000260 0x80865DA0 448C2000 */ mtc1	$t4, $f4
/* 000261 0x80865DA4 3C014F80 */ lui	$at, 0x4F80
/* 000262 0x80865DA8 05810004 */ bgez	$t4, .L80865DBC
/* 000263 0x80865DAC 468021A0 */ cvt.s.w	$f6, $f4
/* 000264 0x80865DB0 44815000 */ mtc1	$at, $f10
/* 000265 0x80865DB4 00000000 */ nop
/* 000266 0x80865DB8 460A3180 */ add.s	$f6, $f6, $f10
.L80865DBC:
/* 000267 0x80865DBC 46023202 */ mul.s	$f8, $f6, $f2
/* 000268 0x80865DC0 24060001 */ li	$a2, 0X1
/* 000269 0x80865DC4 3C014F00 */ lui	$at, 0x4F00
/* 000270 0x80865DC8 444DF800 */ cfc1	$t5, $31
/* 000271 0x80865DCC 44C6F800 */ ctc1	$a2, $31
/* 000272 0x80865DD0 00000000 */ nop
/* 000273 0x80865DD4 46004424 */ cvt.w.s	$f16, $f8
/* 000274 0x80865DD8 4446F800 */ cfc1	$a2, $31
/* 000275 0x80865DDC 00000000 */ nop
/* 000276 0x80865DE0 30C60078 */ andi	$a2, $a2, 0X78
/* 000277 0x80865DE4 50C00013 */ beqzl	$a2, .L80865E34
/* 000278 0x80865DE8 44068000 */ mfc1	$a2, $f16
/* 000279 0x80865DEC 44818000 */ mtc1	$at, $f16
/* 000280 0x80865DF0 24060001 */ li	$a2, 0X1
/* 000281 0x80865DF4 46104401 */ sub.s	$f16, $f8, $f16
/* 000282 0x80865DF8 44C6F800 */ ctc1	$a2, $31
/* 000283 0x80865DFC 00000000 */ nop
/* 000284 0x80865E00 46008424 */ cvt.w.s	$f16, $f16
/* 000285 0x80865E04 4446F800 */ cfc1	$a2, $31
/* 000286 0x80865E08 00000000 */ nop
/* 000287 0x80865E0C 30C60078 */ andi	$a2, $a2, 0X78
/* 000288 0x80865E10 14C00005 */ bnez	$a2, .L80865E28
/* 000289 0x80865E14 00000000 */ nop
/* 000290 0x80865E18 44068000 */ mfc1	$a2, $f16
/* 000291 0x80865E1C 3C018000 */ lui	$at, 0x8000
/* 000292 0x80865E20 10000007 */ b	.L80865E40
/* 000293 0x80865E24 00C13025 */ or	$a2, $a2, $at
.L80865E28:
/* 000294 0x80865E28 10000005 */ b	.L80865E40
/* 000295 0x80865E2C 2406FFFF */ li	$a2, -0X1
/* 000296 0x80865E30 44068000 */ mfc1	$a2, $f16
.L80865E34:
/* 000297 0x80865E34 00000000 */ nop
/* 000298 0x80865E38 04C0FFFB */ bltz	$a2, .L80865E28
/* 000299 0x80865E3C 00000000 */ nop
.L80865E40:
/* 000300 0x80865E40 910E0002 */ lbu	$t6, 0X2($t0)
/* 000301 0x80865E44 44CDF800 */ ctc1	$t5, $31
/* 000302 0x80865E48 30C600FF */ andi	$a2, $a2, 0XFF
/* 000303 0x80865E4C 448E9000 */ mtc1	$t6, $f18
/* 000304 0x80865E50 3C014F80 */ lui	$at, 0x4F80
/* 000305 0x80865E54 05C10004 */ bgez	$t6, .L80865E68
/* 000306 0x80865E58 46809120 */ cvt.s.w	$f4, $f18
/* 000307 0x80865E5C 44815000 */ mtc1	$at, $f10
/* 000308 0x80865E60 00000000 */ nop
/* 000309 0x80865E64 460A2100 */ add.s	$f4, $f4, $f10
.L80865E68:
/* 000310 0x80865E68 46022182 */ mul.s	$f6, $f4, $f2
/* 000311 0x80865E6C 24070001 */ li	$a3, 0X1
/* 000312 0x80865E70 3C014F00 */ lui	$at, 0x4F00
/* 000313 0x80865E74 444FF800 */ cfc1	$t7, $31
/* 000314 0x80865E78 44C7F800 */ ctc1	$a3, $31
/* 000315 0x80865E7C 00000000 */ nop
/* 000316 0x80865E80 46003224 */ cvt.w.s	$f8, $f6
/* 000317 0x80865E84 4447F800 */ cfc1	$a3, $31
/* 000318 0x80865E88 00000000 */ nop
/* 000319 0x80865E8C 30E70078 */ andi	$a3, $a3, 0X78
/* 000320 0x80865E90 50E00013 */ beqzl	$a3, .L80865EE0
/* 000321 0x80865E94 44074000 */ mfc1	$a3, $f8
/* 000322 0x80865E98 44814000 */ mtc1	$at, $f8
/* 000323 0x80865E9C 24070001 */ li	$a3, 0X1
/* 000324 0x80865EA0 46083201 */ sub.s	$f8, $f6, $f8
/* 000325 0x80865EA4 44C7F800 */ ctc1	$a3, $31
/* 000326 0x80865EA8 00000000 */ nop
/* 000327 0x80865EAC 46004224 */ cvt.w.s	$f8, $f8
/* 000328 0x80865EB0 4447F800 */ cfc1	$a3, $31
/* 000329 0x80865EB4 00000000 */ nop
/* 000330 0x80865EB8 30E70078 */ andi	$a3, $a3, 0X78
/* 000331 0x80865EBC 14E00005 */ bnez	$a3, .L80865ED4
/* 000332 0x80865EC0 00000000 */ nop
/* 000333 0x80865EC4 44074000 */ mfc1	$a3, $f8
/* 000334 0x80865EC8 3C018000 */ lui	$at, 0x8000
/* 000335 0x80865ECC 10000007 */ b	.L80865EEC
/* 000336 0x80865ED0 00E13825 */ or	$a3, $a3, $at
.L80865ED4:
/* 000337 0x80865ED4 10000005 */ b	.L80865EEC
/* 000338 0x80865ED8 2407FFFF */ li	$a3, -0X1
/* 000339 0x80865EDC 44074000 */ mfc1	$a3, $f8
.L80865EE0:
/* 000340 0x80865EE0 00000000 */ nop
/* 000341 0x80865EE4 04E0FFFB */ bltz	$a3, .L80865ED4
/* 000342 0x80865EE8 00000000 */ nop
.L80865EEC:
/* 000343 0x80865EEC 44CFF800 */ ctc1	$t7, $31
/* 000344 0x80865EF0 30E700FF */ andi	$a3, $a3, 0XFF
/* 000345 0x80865EF4 0C0406B2 */ jal	Lights_SetPositionalLightColorAndRadius
/* 000346 0x80865EF8 AFA20010 */ sw	$v0, 0X10($sp)
.L80865EFC:
/* 000347 0x80865EFC 02002025 */ move	$a0, $s0
/* 000348 0x80865F00 0C2196FE */ jal	func_80865BF8
/* 000349 0x80865F04 8FA50034 */ lw	$a1, 0X34($sp)
/* 000350 0x80865F08 8602001C */ lh	$v0, 0X1C($s0)
/* 000351 0x80865F0C 04400005 */ bltz	$v0, .L80865F24
/* 000352 0x80865F10 30584000 */ andi	$t8, $v0, 0X4000
/* 000353 0x80865F14 17000003 */ bnez	$t8, .L80865F24
/* 000354 0x80865F18 02002025 */ move	$a0, $s0
/* 000355 0x80865F1C 0C02E3B2 */ jal	func_800B8EC8
/* 000356 0x80865F20 24052031 */ li	$a1, 0X2031
.L80865F24:
/* 000357 0x80865F24 8FBF0024 */ lw	$ra, 0X24($sp)
/* 000358 0x80865F28 8FB00020 */ lw	$s0, 0X20($sp)
/* 000359 0x80865F2C 27BD0030 */ addiu	$sp, $sp, 0X30
/* 000360 0x80865F30 03E00008 */ jr	$ra
/* 000361 0x80865F34 00000000 */ nop

