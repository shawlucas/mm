glabel func_80865F38
/* 000362 0x80865F38 27BDFFC0 */ addiu	$sp, $sp, -0X40
/* 000363 0x80865F3C AFB00020 */ sw	$s0, 0X20($sp)
/* 000364 0x80865F40 00808025 */ move	$s0, $a0
/* 000365 0x80865F44 AFBF0024 */ sw	$ra, 0X24($sp)
/* 000366 0x80865F48 AFA50044 */ sw	$a1, 0X44($sp)
/* 000367 0x80865F4C 860E001C */ lh	$t6, 0X1C($s0)
/* 000368 0x80865F50 3C198086 */ lui	$t9, %hi(D_808666D0)
/* 000369 0x80865F54 273966D0 */ addiu	$t9, $t9, %lo(D_808666D0)
/* 000370 0x80865F58 31CF000F */ andi	$t7, $t6, 0XF
/* 000371 0x80865F5C 000FC0C0 */ sll	$t8, $t7, 3
/* 000372 0x80865F60 03194021 */ addu	$t0, $t8, $t9
/* 000373 0x80865F64 AFA80038 */ sw	$t0, 0X38($sp)
/* 000374 0x80865F68 91090007 */ lbu	$t1, 0X7($t0)
/* 000375 0x80865F6C 3C014F80 */ lui	$at, 0x4F80
/* 000376 0x80865F70 44892000 */ mtc1	$t1, $f4
/* 000377 0x80865F74 05210004 */ bgez	$t1, .L80865F88
/* 000378 0x80865F78 468021A0 */ cvt.s.w	$f6, $f4
/* 000379 0x80865F7C 44814000 */ mtc1	$at, $f8
/* 000380 0x80865F80 00000000 */ nop
/* 000381 0x80865F84 46083180 */ add.s	$f6, $f6, $f8
.L80865F88:
/* 000382 0x80865F88 3C018086 */ lui	$at, %hi(D_80866754)
/* 000383 0x80865F8C C42A6754 */ lwc1	$f10, %lo(D_80866754)($at)
/* 000384 0x80865F90 C6120058 */ lwc1	$f18, 0X58($s0)
/* 000385 0x80865F94 AFA0002C */ sw	$zero, 0X2C($sp)
/* 000386 0x80865F98 460A3402 */ mul.s	$f16, $f6, $f10
/* 000387 0x80865F9C 8FA40044 */ lw	$a0, 0X44($sp)
/* 000388 0x80865FA0 46109103 */ div.s	$f4, $f18, $f16
/* 000389 0x80865FA4 E7A40030 */ swc1	$f4, 0X30($sp)
/* 000390 0x80865FA8 8602001C */ lh	$v0, 0X1C($s0)
/* 000391 0x80865FAC 304A1000 */ andi	$t2, $v0, 0X1000
/* 000392 0x80865FB0 11400022 */ beqz	$t2, .L8086603C
/* 000393 0x80865FB4 304507F0 */ andi	$a1, $v0, 0X7F0
/* 000394 0x80865FB8 304507F0 */ andi	$a1, $v0, 0X7F0
/* 000395 0x80865FBC 00052903 */ sra	$a1, $a1, 4
/* 000396 0x80865FC0 0C02D6EC */ jal	Actor_GetSwitchFlag
/* 000397 0x80865FC4 8FA40044 */ lw	$a0, 0X44($sp)
/* 000398 0x80865FC8 10400009 */ beqz	$v0, .L80865FF0
/* 000399 0x80865FCC C7A80030 */ lwc1	$f8, 0X30($sp)
/* 000400 0x80865FD0 3C063D4C */ lui	$a2, 0x3D4C
/* 000401 0x80865FD4 34C6CCCD */ ori	$a2, $a2, 0XCCCD
/* 000402 0x80865FD8 27A40030 */ addiu	$a0, $sp, 0X30
/* 000403 0x80865FDC 0C03FC0F */ jal	Lib_StepTowardsCheck_f
/* 000404 0x80865FE0 3C053F80 */ lui	$a1, 0x3F80
/* 000405 0x80865FE4 240B0001 */ li	$t3, 0X1
/* 000406 0x80865FE8 10000032 */ b	.L808660B4
/* 000407 0x80865FEC AFAB002C */ sw	$t3, 0X2C($sp)
.L80865FF0:
/* 000408 0x80865FF0 3C018086 */ lui	$at, %hi(D_80866758)
/* 000409 0x80865FF4 C4266758 */ lwc1	$f6, %lo(D_80866758)($at)
/* 000410 0x80865FF8 02002025 */ move	$a0, $s0
/* 000411 0x80865FFC 4606403C */ c.lt.s	$f8, $f6
/* 000412 0x80866000 00000000 */ nop
/* 000413 0x80866004 45020007 */ bc1fl .L80866024
/* 000414 0x80866008 3C063D4C */ lui	$a2, 0x3D4C
/* 000415 0x8086600C 0C02D9F8 */ jal	Actor_SetScale
/* 000416 0x80866010 24050000 */ li	$a1, 0X0
/* 000417 0x80866014 44805000 */ mtc1	$zero, $f10
/* 000418 0x80866018 00000000 */ nop
/* 000419 0x8086601C E7AA0030 */ swc1	$f10, 0X30($sp)
/* 000420 0x80866020 3C063D4C */ lui	$a2, 0x3D4C
.L80866024:
/* 000421 0x80866024 34C6CCCD */ ori	$a2, $a2, 0XCCCD
/* 000422 0x80866028 27A40030 */ addiu	$a0, $sp, 0X30
/* 000423 0x8086602C 0C03FC0F */ jal	Lib_StepTowardsCheck_f
/* 000424 0x80866030 24050000 */ li	$a1, 0X0
/* 000425 0x80866034 10000020 */ b	.L808660B8
/* 000426 0x80866038 8FAD0038 */ lw	$t5, 0X38($sp)
.L8086603C:
/* 000427 0x8086603C 0C02D6EC */ jal	Actor_GetSwitchFlag
/* 000428 0x80866040 00052903 */ sra	$a1, $a1, 4
/* 000429 0x80866044 10400015 */ beqz	$v0, .L8086609C
/* 000430 0x80866048 27A40030 */ addiu	$a0, $sp, 0X30
/* 000431 0x8086604C 3C018086 */ lui	$at, %hi(D_8086675C)
/* 000432 0x80866050 C430675C */ lwc1	$f16, %lo(D_8086675C)($at)
/* 000433 0x80866054 C7B20030 */ lwc1	$f18, 0X30($sp)
/* 000434 0x80866058 02002025 */ move	$a0, $s0
/* 000435 0x8086605C 4610903C */ c.lt.s	$f18, $f16
/* 000436 0x80866060 00000000 */ nop
/* 000437 0x80866064 45020007 */ bc1fl .L80866084
/* 000438 0x80866068 3C063D4C */ lui	$a2, 0x3D4C
/* 000439 0x8086606C 0C02D9F8 */ jal	Actor_SetScale
/* 000440 0x80866070 24050000 */ li	$a1, 0X0
/* 000441 0x80866074 44802000 */ mtc1	$zero, $f4
/* 000442 0x80866078 00000000 */ nop
/* 000443 0x8086607C E7A40030 */ swc1	$f4, 0X30($sp)
/* 000444 0x80866080 3C063D4C */ lui	$a2, 0x3D4C
.L80866084:
/* 000445 0x80866084 34C6CCCD */ ori	$a2, $a2, 0XCCCD
/* 000446 0x80866088 27A40030 */ addiu	$a0, $sp, 0X30
/* 000447 0x8086608C 0C03FC0F */ jal	Lib_StepTowardsCheck_f
/* 000448 0x80866090 24050000 */ li	$a1, 0X0
/* 000449 0x80866094 10000008 */ b	.L808660B8
/* 000450 0x80866098 8FAD0038 */ lw	$t5, 0X38($sp)
.L8086609C:
/* 000451 0x8086609C 3C063D4C */ lui	$a2, 0x3D4C
/* 000452 0x808660A0 34C6CCCD */ ori	$a2, $a2, 0XCCCD
/* 000453 0x808660A4 0C03FC0F */ jal	Lib_StepTowardsCheck_f
/* 000454 0x808660A8 3C053F80 */ lui	$a1, 0x3F80
/* 000455 0x808660AC 240C0001 */ li	$t4, 0X1
/* 000456 0x808660B0 AFAC002C */ sw	$t4, 0X2C($sp)
.L808660B4:
/* 000457 0x808660B4 8FAD0038 */ lw	$t5, 0X38($sp)
.L808660B8:
/* 000458 0x808660B8 02002025 */ move	$a0, $s0
/* 000459 0x808660BC 3C014F80 */ lui	$at, 0x4F80
/* 000460 0x808660C0 91AE0007 */ lbu	$t6, 0X7($t5)
/* 000461 0x808660C4 448E4000 */ mtc1	$t6, $f8
/* 000462 0x808660C8 05C10004 */ bgez	$t6, .L808660DC
/* 000463 0x808660CC 468041A0 */ cvt.s.w	$f6, $f8
/* 000464 0x808660D0 44815000 */ mtc1	$at, $f10
/* 000465 0x808660D4 00000000 */ nop
/* 000466 0x808660D8 460A3180 */ add.s	$f6, $f6, $f10
.L808660DC:
/* 000467 0x808660DC 3C018086 */ lui	$at, %hi(D_80866760)
/* 000468 0x808660E0 C4326760 */ lwc1	$f18, %lo(D_80866760)($at)
/* 000469 0x808660E4 C7A40030 */ lwc1	$f4, 0X30($sp)
/* 000470 0x808660E8 46123402 */ mul.s	$f16, $f6, $f18
/* 000471 0x808660EC 00000000 */ nop
/* 000472 0x808660F0 46048202 */ mul.s	$f8, $f16, $f4
/* 000473 0x808660F4 44054000 */ mfc1	$a1, $f8
/* 000474 0x808660F8 0C02D9F8 */ jal	Actor_SetScale
/* 000475 0x808660FC 00000000 */ nop
/* 000476 0x80866100 860F001C */ lh	$t7, 0X1C($s0)
/* 000477 0x80866104 31F84000 */ andi	$t8, $t7, 0X4000
/* 000478 0x80866108 57000093 */ bnezl	$t8, .L80866358
/* 000479 0x8086610C 02002025 */ move	$a0, $s0
/* 000480 0x80866110 0C021BF7 */ jal	randZeroOne
/* 000481 0x80866114 00000000 */ nop
/* 000482 0x80866118 3C013F00 */ lui	$at, 0x3F00
/* 000483 0x8086611C 44816000 */ mtc1	$at, $f12
/* 000484 0x80866120 8FB90038 */ lw	$t9, 0X38($sp)
/* 000485 0x80866124 3C014F80 */ lui	$at, 0x4F80
/* 000486 0x80866128 460C0282 */ mul.s	$f10, $f0, $f12
/* 000487 0x8086612C 93280000 */ lbu	$t0, 0X0($t9)
/* 000488 0x80866130 2604014C */ addiu	$a0, $s0, 0X14C
/* 000489 0x80866134 44883000 */ mtc1	$t0, $f6
/* 000490 0x80866138 460C5080 */ add.s	$f2, $f10, $f12
/* 000491 0x8086613C 05010004 */ bgez	$t0, .L80866150
/* 000492 0x80866140 468034A0 */ cvt.s.w	$f18, $f6
/* 000493 0x80866144 44818000 */ mtc1	$at, $f16
/* 000494 0x80866148 00000000 */ nop
/* 000495 0x8086614C 46109480 */ add.s	$f18, $f18, $f16
.L80866150:
/* 000496 0x80866150 46029102 */ mul.s	$f4, $f18, $f2
/* 000497 0x80866154 24050001 */ li	$a1, 0X1
/* 000498 0x80866158 3C014F00 */ lui	$at, 0x4F00
/* 000499 0x8086615C 4449F800 */ cfc1	$t1, $31
/* 000500 0x80866160 44C5F800 */ ctc1	$a1, $31
/* 000501 0x80866164 00000000 */ nop
/* 000502 0x80866168 46002224 */ cvt.w.s	$f8, $f4
/* 000503 0x8086616C 4445F800 */ cfc1	$a1, $31
/* 000504 0x80866170 00000000 */ nop
/* 000505 0x80866174 30A50078 */ andi	$a1, $a1, 0X78
/* 000506 0x80866178 50A00013 */ beqzl	$a1, .L808661C8
/* 000507 0x8086617C 44054000 */ mfc1	$a1, $f8
/* 000508 0x80866180 44814000 */ mtc1	$at, $f8
/* 000509 0x80866184 24050001 */ li	$a1, 0X1
/* 000510 0x80866188 46082201 */ sub.s	$f8, $f4, $f8
/* 000511 0x8086618C 44C5F800 */ ctc1	$a1, $31
/* 000512 0x80866190 00000000 */ nop
/* 000513 0x80866194 46004224 */ cvt.w.s	$f8, $f8
/* 000514 0x80866198 4445F800 */ cfc1	$a1, $31
/* 000515 0x8086619C 00000000 */ nop
/* 000516 0x808661A0 30A50078 */ andi	$a1, $a1, 0X78
/* 000517 0x808661A4 14A00005 */ bnez	$a1, .L808661BC
/* 000518 0x808661A8 00000000 */ nop
/* 000519 0x808661AC 44054000 */ mfc1	$a1, $f8
/* 000520 0x808661B0 3C018000 */ lui	$at, 0x8000
/* 000521 0x808661B4 10000007 */ b	.L808661D4
/* 000522 0x808661B8 00A12825 */ or	$a1, $a1, $at
.L808661BC:
/* 000523 0x808661BC 10000005 */ b	.L808661D4
/* 000524 0x808661C0 2405FFFF */ li	$a1, -0X1
/* 000525 0x808661C4 44054000 */ mfc1	$a1, $f8
.L808661C8:
/* 000526 0x808661C8 00000000 */ nop
/* 000527 0x808661CC 04A0FFFB */ bltz	$a1, .L808661BC
/* 000528 0x808661D0 00000000 */ nop
.L808661D4:
/* 000529 0x808661D4 932A0001 */ lbu	$t2, 0X1($t9)
/* 000530 0x808661D8 44C9F800 */ ctc1	$t1, $31
/* 000531 0x808661DC 30A500FF */ andi	$a1, $a1, 0XFF
/* 000532 0x808661E0 448A5000 */ mtc1	$t2, $f10
/* 000533 0x808661E4 3C014F80 */ lui	$at, 0x4F80
/* 000534 0x808661E8 05410004 */ bgez	$t2, .L808661FC
/* 000535 0x808661EC 468051A0 */ cvt.s.w	$f6, $f10
/* 000536 0x808661F0 44818000 */ mtc1	$at, $f16
/* 000537 0x808661F4 00000000 */ nop
/* 000538 0x808661F8 46103180 */ add.s	$f6, $f6, $f16
.L808661FC:
/* 000539 0x808661FC 46023482 */ mul.s	$f18, $f6, $f2
/* 000540 0x80866200 24060001 */ li	$a2, 0X1
/* 000541 0x80866204 3C014F00 */ lui	$at, 0x4F00
/* 000542 0x80866208 444BF800 */ cfc1	$t3, $31
/* 000543 0x8086620C 44C6F800 */ ctc1	$a2, $31
/* 000544 0x80866210 00000000 */ nop
/* 000545 0x80866214 46009124 */ cvt.w.s	$f4, $f18
/* 000546 0x80866218 4446F800 */ cfc1	$a2, $31
/* 000547 0x8086621C 00000000 */ nop
/* 000548 0x80866220 30C60078 */ andi	$a2, $a2, 0X78
/* 000549 0x80866224 50C00013 */ beqzl	$a2, .L80866274
/* 000550 0x80866228 44062000 */ mfc1	$a2, $f4
/* 000551 0x8086622C 44812000 */ mtc1	$at, $f4
/* 000552 0x80866230 24060001 */ li	$a2, 0X1
/* 000553 0x80866234 46049101 */ sub.s	$f4, $f18, $f4
/* 000554 0x80866238 44C6F800 */ ctc1	$a2, $31
/* 000555 0x8086623C 00000000 */ nop
/* 000556 0x80866240 46002124 */ cvt.w.s	$f4, $f4
/* 000557 0x80866244 4446F800 */ cfc1	$a2, $31
/* 000558 0x80866248 00000000 */ nop
/* 000559 0x8086624C 30C60078 */ andi	$a2, $a2, 0X78
/* 000560 0x80866250 14C00005 */ bnez	$a2, .L80866268
/* 000561 0x80866254 00000000 */ nop
/* 000562 0x80866258 44062000 */ mfc1	$a2, $f4
/* 000563 0x8086625C 3C018000 */ lui	$at, 0x8000
/* 000564 0x80866260 10000007 */ b	.L80866280
/* 000565 0x80866264 00C13025 */ or	$a2, $a2, $at
.L80866268:
/* 000566 0x80866268 10000005 */ b	.L80866280
/* 000567 0x8086626C 2406FFFF */ li	$a2, -0X1
/* 000568 0x80866270 44062000 */ mfc1	$a2, $f4
.L80866274:
/* 000569 0x80866274 00000000 */ nop
/* 000570 0x80866278 04C0FFFB */ bltz	$a2, .L80866268
/* 000571 0x8086627C 00000000 */ nop
.L80866280:
/* 000572 0x80866280 932C0002 */ lbu	$t4, 0X2($t9)
/* 000573 0x80866284 44CBF800 */ ctc1	$t3, $31
/* 000574 0x80866288 30C600FF */ andi	$a2, $a2, 0XFF
/* 000575 0x8086628C 448C4000 */ mtc1	$t4, $f8
/* 000576 0x80866290 3C014F80 */ lui	$at, 0x4F80
/* 000577 0x80866294 05810004 */ bgez	$t4, .L808662A8
/* 000578 0x80866298 468042A0 */ cvt.s.w	$f10, $f8
/* 000579 0x8086629C 44818000 */ mtc1	$at, $f16
/* 000580 0x808662A0 00000000 */ nop
/* 000581 0x808662A4 46105280 */ add.s	$f10, $f10, $f16
.L808662A8:
/* 000582 0x808662A8 46025182 */ mul.s	$f6, $f10, $f2
/* 000583 0x808662AC 24070001 */ li	$a3, 0X1
/* 000584 0x808662B0 3C014F00 */ lui	$at, 0x4F00
/* 000585 0x808662B4 444DF800 */ cfc1	$t5, $31
/* 000586 0x808662B8 44C7F800 */ ctc1	$a3, $31
/* 000587 0x808662BC 00000000 */ nop
/* 000588 0x808662C0 460034A4 */ cvt.w.s	$f18, $f6
/* 000589 0x808662C4 4447F800 */ cfc1	$a3, $31
/* 000590 0x808662C8 00000000 */ nop
/* 000591 0x808662CC 30E70078 */ andi	$a3, $a3, 0X78
/* 000592 0x808662D0 50E00013 */ beqzl	$a3, .L80866320
/* 000593 0x808662D4 44079000 */ mfc1	$a3, $f18
/* 000594 0x808662D8 44819000 */ mtc1	$at, $f18
/* 000595 0x808662DC 24070001 */ li	$a3, 0X1
/* 000596 0x808662E0 46123481 */ sub.s	$f18, $f6, $f18
/* 000597 0x808662E4 44C7F800 */ ctc1	$a3, $31
/* 000598 0x808662E8 00000000 */ nop
/* 000599 0x808662EC 460094A4 */ cvt.w.s	$f18, $f18
/* 000600 0x808662F0 4447F800 */ cfc1	$a3, $31
/* 000601 0x808662F4 00000000 */ nop
/* 000602 0x808662F8 30E70078 */ andi	$a3, $a3, 0X78
/* 000603 0x808662FC 14E00005 */ bnez	$a3, .L80866314
/* 000604 0x80866300 00000000 */ nop
/* 000605 0x80866304 44079000 */ mfc1	$a3, $f18
/* 000606 0x80866308 3C018000 */ lui	$at, 0x8000
/* 000607 0x8086630C 10000007 */ b	.L8086632C
/* 000608 0x80866310 00E13825 */ or	$a3, $a3, $at
.L80866314:
/* 000609 0x80866314 10000005 */ b	.L8086632C
/* 000610 0x80866318 2407FFFF */ li	$a3, -0X1
/* 000611 0x8086631C 44079000 */ mfc1	$a3, $f18
.L80866320:
/* 000612 0x80866320 00000000 */ nop
/* 000613 0x80866324 04E0FFFB */ bltz	$a3, .L80866314
/* 000614 0x80866328 00000000 */ nop
.L8086632C:
/* 000615 0x8086632C 3C014396 */ lui	$at, 0x4396
/* 000616 0x80866330 44812000 */ mtc1	$at, $f4
/* 000617 0x80866334 44CDF800 */ ctc1	$t5, $31
/* 000618 0x80866338 C7A80030 */ lwc1	$f8, 0X30($sp)
/* 000619 0x8086633C 30E700FF */ andi	$a3, $a3, 0XFF
/* 000620 0x80866340 46082402 */ mul.s	$f16, $f4, $f8
/* 000621 0x80866344 4600828D */ trunc.w.s	$f10, $f16
/* 000622 0x80866348 440F5000 */ mfc1	$t7, $f10
/* 000623 0x8086634C 0C0406B2 */ jal	Lights_SetPositionalLightColorAndRadius
/* 000624 0x80866350 AFAF0010 */ sw	$t7, 0X10($sp)
/* 000625 0x80866354 02002025 */ move	$a0, $s0
.L80866358:
/* 000626 0x80866358 0C2196FE */ jal	func_80865BF8
/* 000627 0x8086635C 8FA50044 */ lw	$a1, 0X44($sp)
/* 000628 0x80866360 8618001C */ lh	$t8, 0X1C($s0)
/* 000629 0x80866364 8FA8002C */ lw	$t0, 0X2C($sp)
/* 000630 0x80866368 24010001 */ li	$at, 0X1
/* 000631 0x8086636C 07020006 */ bltzl	$t8, .L80866388
/* 000632 0x80866370 8FBF0024 */ lw	$ra, 0X24($sp)
/* 000633 0x80866374 15010003 */ bne	$t0, $at, .L80866384
/* 000634 0x80866378 02002025 */ move	$a0, $s0
/* 000635 0x8086637C 0C02E3B2 */ jal	func_800B8EC8
/* 000636 0x80866380 24052031 */ li	$a1, 0X2031
.L80866384:
/* 000637 0x80866384 8FBF0024 */ lw	$ra, 0X24($sp)
.L80866388:
/* 000638 0x80866388 8FB00020 */ lw	$s0, 0X20($sp)
/* 000639 0x8086638C 27BD0040 */ addiu	$sp, $sp, 0X40
/* 000640 0x80866390 03E00008 */ jr	$ra
/* 000641 0x80866394 00000000 */ nop


.section .late_rodata

glabel D_80866754
/* 000881 0x80866754 */ .word	0x38D1B717
glabel D_80866758
/* 000882 0x80866758 */ .word	0x3DCCCCCD
glabel D_8086675C
/* 000883 0x8086675C */ .word	0x3DCCCCCD
glabel D_80866760
/* 000884 0x80866760 */ .word	0x38D1B717
