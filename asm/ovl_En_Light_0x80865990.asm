.set noat # allow use of $at
.set noreorder # don't insert nops after branches
.set gp=64 # allow use of 64bit registers
.macro glabel label
    .global \label
    \label:
.endm


glabel EnLight_Init
/* 000000 0x80865990 27BDFFC0 */ addiu	$sp, $sp, -0X40
/* 000001 0x80865994 AFB00028 */ sw	$s0, 0X28($sp)
/* 000002 0x80865998 00808025 */ move	$s0, $a0
/* 000003 0x8086599C AFBF002C */ sw	$ra, 0X2C($sp)
/* 000004 0x808659A0 AFA50044 */ sw	$a1, 0X44($sp)
/* 000005 0x808659A4 8603001C */ lh	$v1, 0X1C($s0)
/* 000006 0x808659A8 3C0F801F */ lui	$t7, %hi(gSaveContext + 0x3CA8)
/* 000007 0x808659AC 306E4000 */ andi	$t6, $v1, 0X4000
/* 000008 0x808659B0 55C0004D */ bnezl	$t6, .L80865AE8
/* 000009 0x808659B4 306E000F */ andi	$t6, $v1, 0XF
/* 000010 0x808659B8 8DEF3318 */ lw	$t7, %lo(gSaveContext + 0x3CA8)($t7)
/* 000011 0x808659BC 24010003 */ li	$at, 0X3
/* 000012 0x808659C0 30782000 */ andi	$t8, $v1, 0X2000
/* 000013 0x808659C4 11E10003 */ beq	$t7, $at, .L808659D4
/* 000014 0x808659C8 2604014C */ addiu	$a0, $s0, 0X14C
/* 000015 0x808659CC 13000021 */ beqz	$t8, .L80865A54
/* 000016 0x808659D0 240900FF */ li	$t1, 0XFF
.L808659D4:
/* 000017 0x808659D4 04610003 */ bgez	$v1, .L808659E4
/* 000018 0x808659D8 240B00FF */ li	$t3, 0XFF
/* 000019 0x808659DC 10000002 */ b	.L808659E8
/* 000020 0x808659E0 24020001 */ li	$v0, 0X1
.L808659E4:
/* 000021 0x808659E4 24020028 */ li	$v0, 0X28
.L808659E8:
/* 000022 0x808659E8 C6080028 */ lwc1	$f8, 0X28($s0)
/* 000023 0x808659EC C6040024 */ lwc1	$f4, 0X24($s0)
/* 000024 0x808659F0 C610002C */ lwc1	$f16, 0X2C($s0)
/* 000025 0x808659F4 4600428D */ trunc.w.s	$f10, $f8
/* 000026 0x808659F8 240C00FF */ li	$t4, 0XFF
/* 000027 0x808659FC 240D00B4 */ li	$t5, 0XB4
/* 000028 0x80865A00 4600218D */ trunc.w.s	$f6, $f4
/* 000029 0x80865A04 44095000 */ mfc1	$t1, $f10
/* 000030 0x80865A08 240EFFFF */ li	$t6, -0X1
/* 000031 0x80865A0C 4600848D */ trunc.w.s	$f18, $f16
/* 000032 0x80865A10 44053000 */ mfc1	$a1, $f6
/* 000033 0x80865A14 00493021 */ addu	$a2, $v0, $t1
/* 000034 0x80865A18 00063400 */ sll	$a2, $a2, 16
/* 000035 0x80865A1C 44079000 */ mfc1	$a3, $f18
/* 000036 0x80865A20 00052C00 */ sll	$a1, $a1, 16
/* 000037 0x80865A24 00052C03 */ sra	$a1, $a1, 16
/* 000038 0x80865A28 00073C00 */ sll	$a3, $a3, 16
/* 000039 0x80865A2C 00073C03 */ sra	$a3, $a3, 16
/* 000040 0x80865A30 00063403 */ sra	$a2, $a2, 16
/* 000041 0x80865A34 AFAE001C */ sw	$t6, 0X1C($sp)
/* 000042 0x80865A38 AFAD0018 */ sw	$t5, 0X18($sp)
/* 000043 0x80865A3C AFAC0014 */ sw	$t4, 0X14($sp)
/* 000044 0x80865A40 AFA40030 */ sw	$a0, 0X30($sp)
/* 000045 0x80865A44 0C04067F */ jal	Lights_InitType0PositionalLight
/* 000046 0x80865A48 AFAB0010 */ sw	$t3, 0X10($sp)
/* 000047 0x80865A4C 10000020 */ b	.L80865AD0
/* 000048 0x80865A50 8FA40044 */ lw	$a0, 0X44($sp)
.L80865A54:
/* 000049 0x80865A54 04610003 */ bgez	$v1, .L80865A64
/* 000050 0x80865A58 2604014C */ addiu	$a0, $s0, 0X14C
/* 000051 0x80865A5C 10000002 */ b	.L80865A68
/* 000052 0x80865A60 24020001 */ li	$v0, 0X1
.L80865A64:
/* 000053 0x80865A64 24020028 */ li	$v0, 0X28
.L80865A68:
/* 000054 0x80865A68 C6080028 */ lwc1	$f8, 0X28($s0)
/* 000055 0x80865A6C C6040024 */ lwc1	$f4, 0X24($s0)
/* 000056 0x80865A70 C610002C */ lwc1	$f16, 0X2C($s0)
/* 000057 0x80865A74 4600428D */ trunc.w.s	$f10, $f8
/* 000058 0x80865A78 240A00FF */ li	$t2, 0XFF
/* 000059 0x80865A7C 240B00B4 */ li	$t3, 0XB4
/* 000060 0x80865A80 4600218D */ trunc.w.s	$f6, $f4
/* 000061 0x80865A84 44195000 */ mfc1	$t9, $f10
/* 000062 0x80865A88 240CFFFF */ li	$t4, -0X1
/* 000063 0x80865A8C 4600848D */ trunc.w.s	$f18, $f16
/* 000064 0x80865A90 44053000 */ mfc1	$a1, $f6
/* 000065 0x80865A94 00593021 */ addu	$a2, $v0, $t9
/* 000066 0x80865A98 00063400 */ sll	$a2, $a2, 16
/* 000067 0x80865A9C 44079000 */ mfc1	$a3, $f18
/* 000068 0x80865AA0 00052C00 */ sll	$a1, $a1, 16
/* 000069 0x80865AA4 00052C03 */ sra	$a1, $a1, 16
/* 000070 0x80865AA8 00073C00 */ sll	$a3, $a3, 16
/* 000071 0x80865AAC 00073C03 */ sra	$a3, $a3, 16
/* 000072 0x80865AB0 00063403 */ sra	$a2, $a2, 16
/* 000073 0x80865AB4 AFAC001C */ sw	$t4, 0X1C($sp)
/* 000074 0x80865AB8 AFAB0018 */ sw	$t3, 0X18($sp)
/* 000075 0x80865ABC AFAA0014 */ sw	$t2, 0X14($sp)
/* 000076 0x80865AC0 AFA40030 */ sw	$a0, 0X30($sp)
/* 000077 0x80865AC4 0C040698 */ jal	Lights_InitType2PositionalLight
/* 000078 0x80865AC8 AFA90010 */ sw	$t1, 0X10($sp)
/* 000079 0x80865ACC 8FA40044 */ lw	$a0, 0X44($sp)
.L80865AD0:
/* 000080 0x80865AD0 8FA60030 */ lw	$a2, 0X30($sp)
/* 000081 0x80865AD4 0C040989 */ jal	Lights_Insert
/* 000082 0x80865AD8 24850818 */ addiu	$a1, $a0, 0X818
/* 000083 0x80865ADC AE020148 */ sw	$v0, 0X148($s0)
/* 000084 0x80865AE0 8603001C */ lh	$v1, 0X1C($s0)
/* 000085 0x80865AE4 306E000F */ andi	$t6, $v1, 0XF
.L80865AE8:
/* 000086 0x80865AE8 000E78C0 */ sll	$t7, $t6, 3
/* 000087 0x80865AEC 3C188086 */ lui	$t8, %hi(D_808666D7)
/* 000088 0x80865AF0 030FC021 */ addu	$t8, $t8, $t7
/* 000089 0x80865AF4 931866D7 */ lbu	$t8, %lo(D_808666D7)($t8)
/* 000090 0x80865AF8 02002025 */ move	$a0, $s0
/* 000091 0x80865AFC 3C014F80 */ lui	$at, 0x4F80
/* 000092 0x80865B00 44982000 */ mtc1	$t8, $f4
/* 000093 0x80865B04 07010004 */ bgez	$t8, .L80865B18
/* 000094 0x80865B08 468021A0 */ cvt.s.w	$f6, $f4
/* 000095 0x80865B0C 44814000 */ mtc1	$at, $f8
/* 000096 0x80865B10 00000000 */ nop
/* 000097 0x80865B14 46083180 */ add.s	$f6, $f6, $f8
.L80865B18:
/* 000098 0x80865B18 3C018086 */ lui	$at, %hi(D_80866750)
/* 000099 0x80865B1C C42A6750 */ lwc1	$f10, %lo(D_80866750)($at)
/* 000100 0x80865B20 460A3402 */ mul.s	$f16, $f6, $f10
/* 000101 0x80865B24 44058000 */ mfc1	$a1, $f16
/* 000102 0x80865B28 0C02D9F8 */ jal	Actor_SetScale
/* 000103 0x80865B2C 00000000 */ nop
/* 000104 0x80865B30 0C021BF7 */ jal	randZeroOne
/* 000105 0x80865B34 00000000 */ nop
/* 000106 0x80865B38 3C01437F */ lui	$at, 0x437F
/* 000107 0x80865B3C 44819000 */ mtc1	$at, $f18
/* 000108 0x80865B40 8603001C */ lh	$v1, 0X1C($s0)
/* 000109 0x80865B44 3C0A8086 */ lui	$t2, %hi(func_80865F38)
/* 000110 0x80865B48 46120102 */ mul.s	$f4, $f0, $f18
/* 000111 0x80865B4C 30690800 */ andi	$t1, $v1, 0X800
/* 000112 0x80865B50 254A5F38 */ addiu	$t2, $t2, %lo(func_80865F38)
/* 000113 0x80865B54 306B1000 */ andi	$t3, $v1, 0X1000
/* 000114 0x80865B58 306C2000 */ andi	$t4, $v1, 0X2000
/* 000115 0x80865B5C 4600220D */ trunc.w.s	$f8, $f4
/* 000116 0x80865B60 44084000 */ mfc1	$t0, $f8
/* 000117 0x80865B64 1120000D */ beqz	$t1, .L80865B9C
/* 000118 0x80865B68 A2080144 */ sb	$t0, 0X144($s0)
/* 000119 0x80865B6C 1160000E */ beqz	$t3, .L80865BA8
/* 000120 0x80865B70 AE0A0138 */ sw	$t2, 0X138($s0)
/* 000121 0x80865B74 306507F0 */ andi	$a1, $v1, 0X7F0
/* 000122 0x80865B78 00052903 */ sra	$a1, $a1, 4
/* 000123 0x80865B7C 0C02D6EC */ jal	Actor_GetSwitchFlag
/* 000124 0x80865B80 8FA40044 */ lw	$a0, 0X44($sp)
/* 000125 0x80865B84 10400008 */ beqz	$v0, .L80865BA8
/* 000126 0x80865B88 02002025 */ move	$a0, $s0
/* 000127 0x80865B8C 0C02D9F8 */ jal	Actor_SetScale
/* 000128 0x80865B90 24050000 */ li	$a1, 0X0
/* 000129 0x80865B94 10000005 */ b	.L80865BAC
/* 000130 0x80865B98 8FBF002C */ lw	$ra, 0X2C($sp)
.L80865B9C:
/* 000131 0x80865B9C 51800003 */ beqzl	$t4, .L80865BAC
/* 000132 0x80865BA0 8FBF002C */ lw	$ra, 0X2C($sp)
/* 000133 0x80865BA4 AE00013C */ sw	$zero, 0X13C($s0)
.L80865BA8:
/* 000134 0x80865BA8 8FBF002C */ lw	$ra, 0X2C($sp)
.L80865BAC:
/* 000135 0x80865BAC 8FB00028 */ lw	$s0, 0X28($sp)
/* 000136 0x80865BB0 27BD0040 */ addiu	$sp, $sp, 0X40
/* 000137 0x80865BB4 03E00008 */ jr	$ra
/* 000138 0x80865BB8 00000000 */ nop

glabel EnLight_Destroy
/* 000139 0x80865BBC 27BDFFE8 */ addiu	$sp, $sp, -0X18
/* 000140 0x80865BC0 AFBF0014 */ sw	$ra, 0X14($sp)
/* 000141 0x80865BC4 AFA5001C */ sw	$a1, 0X1C($sp)
/* 000142 0x80865BC8 00803825 */ move	$a3, $a0
/* 000143 0x80865BCC 84EE001C */ lh	$t6, 0X1C($a3)
/* 000144 0x80865BD0 8FA4001C */ lw	$a0, 0X1C($sp)
/* 000145 0x80865BD4 31CF4000 */ andi	$t7, $t6, 0X4000
/* 000146 0x80865BD8 15E00003 */ bnez	$t7, .L80865BE8
/* 000147 0x80865BDC 24850818 */ addiu	$a1, $a0, 0X818
/* 000148 0x80865BE0 0C0409A1 */ jal	Lights_Remove
/* 000149 0x80865BE4 8CE60148 */ lw	$a2, 0X148($a3)
.L80865BE8:
/* 000150 0x80865BE8 8FBF0014 */ lw	$ra, 0X14($sp)
/* 000151 0x80865BEC 27BD0018 */ addiu	$sp, $sp, 0X18
/* 000152 0x80865BF0 03E00008 */ jr	$ra
/* 000153 0x80865BF4 00000000 */ nop

glabel func_80865BF8
/* 000154 0x80865BF8 27BDFFE8 */ addiu	$sp, $sp, -0X18
/* 000155 0x80865BFC AFBF0014 */ sw	$ra, 0X14($sp)
/* 000156 0x80865C00 00803025 */ move	$a2, $a0
/* 000157 0x80865C04 84AE0810 */ lh	$t6, 0X810($a1)
/* 000158 0x80865C08 000E7880 */ sll	$t7, $t6, 2
/* 000159 0x80865C0C 00AFC021 */ addu	$t8, $a1, $t7
/* 000160 0x80865C10 8F040800 */ lw	$a0, 0X800($t8)
/* 000161 0x80865C14 0C037F37 */ jal	func_800DFCDC
/* 000162 0x80865C18 AFA60018 */ sw	$a2, 0X18($sp)
/* 000163 0x80865C1C 8FA60018 */ lw	$a2, 0X18($sp)
/* 000164 0x80865C20 34018000 */ ori	$at, $zero, 0X8000
/* 000165 0x80865C24 0041C821 */ addu	$t9, $v0, $at
/* 000166 0x80865C28 8CC30120 */ lw	$v1, 0X120($a2)
/* 000167 0x80865C2C A4D900BE */ sh	$t9, 0XBE($a2)
/* 000168 0x80865C30 24C40024 */ addiu	$a0, $a2, 0X24
/* 000169 0x80865C34 10600009 */ beqz	$v1, .L80865C5C
/* 000170 0x80865C38 24650024 */ addiu	$a1, $v1, 0X24
/* 000171 0x80865C3C 0C03FD43 */ jal	Math_Vec3f_Copy
/* 000172 0x80865C40 AFA60018 */ sw	$a2, 0X18($sp)
/* 000173 0x80865C44 8FA60018 */ lw	$a2, 0X18($sp)
/* 000174 0x80865C48 3C014188 */ lui	$at, 0x4188
/* 000175 0x80865C4C 44813000 */ mtc1	$at, $f6
/* 000176 0x80865C50 C4C40028 */ lwc1	$f4, 0X28($a2)
/* 000177 0x80865C54 46062200 */ add.s	$f8, $f4, $f6
/* 000178 0x80865C58 E4C80028 */ swc1	$f8, 0X28($a2)
.L80865C5C:
/* 000179 0x80865C5C 90C80144 */ lbu	$t0, 0X144($a2)
/* 000180 0x80865C60 25090001 */ addiu	$t1, $t0, 0X1
/* 000181 0x80865C64 A0C90144 */ sb	$t1, 0X144($a2)
/* 000182 0x80865C68 8FBF0014 */ lw	$ra, 0X14($sp)
/* 000183 0x80865C6C 03E00008 */ jr	$ra
/* 000184 0x80865C70 27BD0018 */ addiu	$sp, $sp, 0X18

glabel EnLight_Update
/* 000185 0x80865C74 27BDFFD0 */ addiu	$sp, $sp, -0X30
/* 000186 0x80865C78 AFB00020 */ sw	$s0, 0X20($sp)
/* 000187 0x80865C7C 00808025 */ move	$s0, $a0
/* 000188 0x80865C80 AFBF0024 */ sw	$ra, 0X24($sp)
/* 000189 0x80865C84 AFA50034 */ sw	$a1, 0X34($sp)
/* 000190 0x80865C88 8602001C */ lh	$v0, 0X1C($s0)
/* 000191 0x80865C8C 3C198086 */ lui	$t9, %hi(D_808666D0)
/* 000192 0x80865C90 273966D0 */ addiu	$t9, $t9, %lo(D_808666D0)
/* 000193 0x80865C94 304E4000 */ andi	$t6, $v0, 0X4000
/* 000194 0x80865C98 15C00098 */ bnez	$t6, .L80865EFC
/* 000195 0x80865C9C 304F000F */ andi	$t7, $v0, 0XF
/* 000196 0x80865CA0 000FC0C0 */ sll	$t8, $t7, 3
/* 000197 0x80865CA4 03194021 */ addu	$t0, $t8, $t9
/* 000198 0x80865CA8 0C021BF7 */ jal	randZeroOne
/* 000199 0x80865CAC AFA80028 */ sw	$t0, 0X28($sp)
/* 000200 0x80865CB0 3C013F00 */ lui	$at, 0x3F00
/* 000201 0x80865CB4 44816000 */ mtc1	$at, $f12
/* 000202 0x80865CB8 8602001C */ lh	$v0, 0X1C($s0)
/* 000203 0x80865CBC 8FA80028 */ lw	$t0, 0X28($sp)
/* 000204 0x80865CC0 460C0102 */ mul.s	$f4, $f0, $f12
/* 000205 0x80865CC4 30492000 */ andi	$t1, $v0, 0X2000
/* 000206 0x80865CC8 04410003 */ bgez	$v0, .L80865CD8
/* 000207 0x80865CCC 460C2080 */ add.s	$f2, $f4, $f12
/* 000208 0x80865CD0 10000006 */ b	.L80865CEC
/* 000209 0x80865CD4 24020064 */ li	$v0, 0X64
.L80865CD8:
/* 000210 0x80865CD8 11200003 */ beqz	$t1, .L80865CE8
/* 000211 0x80865CDC 2403012C */ li	$v1, 0X12C
/* 000212 0x80865CE0 10000001 */ b	.L80865CE8
/* 000213 0x80865CE4 240302DA */ li	$v1, 0X2DA
.L80865CE8:
/* 000214 0x80865CE8 00601025 */ move	$v0, $v1
.L80865CEC:
/* 000215 0x80865CEC 910A0000 */ lbu	$t2, 0X0($t0)
/* 000216 0x80865CF0 2604014C */ addiu	$a0, $s0, 0X14C
/* 000217 0x80865CF4 3C014F80 */ lui	$at, 0x4F80
/* 000218 0x80865CF8 448A3000 */ mtc1	$t2, $f6
/* 000219 0x80865CFC 05410004 */ bgez	$t2, .L80865D10
/* 000220 0x80865D00 46803220 */ cvt.s.w	$f8, $f6
/* 000221 0x80865D04 44815000 */ mtc1	$at, $f10
/* 000222 0x80865D08 00000000 */ nop
/* 000223 0x80865D0C 460A4200 */ add.s	$f8, $f8, $f10
.L80865D10:
/* 000224 0x80865D10 46024402 */ mul.s	$f16, $f8, $f2
/* 000225 0x80865D14 24050001 */ li	$a1, 0X1
/* 000226 0x80865D18 3C014F00 */ lui	$at, 0x4F00
/* 000227 0x80865D1C 444BF800 */ cfc1	$t3, $31
/* 000228 0x80865D20 44C5F800 */ ctc1	$a1, $31
/* 000229 0x80865D24 00000000 */ nop
/* 000230 0x80865D28 460084A4 */ cvt.w.s	$f18, $f16
/* 000231 0x80865D2C 4445F800 */ cfc1	$a1, $31
/* 000232 0x80865D30 00000000 */ nop
/* 000233 0x80865D34 30A50078 */ andi	$a1, $a1, 0X78
/* 000234 0x80865D38 50A00013 */ beqzl	$a1, .L80865D88
/* 000235 0x80865D3C 44059000 */ mfc1	$a1, $f18
/* 000236 0x80865D40 44819000 */ mtc1	$at, $f18
/* 000237 0x80865D44 24050001 */ li	$a1, 0X1
/* 000238 0x80865D48 46128481 */ sub.s	$f18, $f16, $f18
/* 000239 0x80865D4C 44C5F800 */ ctc1	$a1, $31
/* 000240 0x80865D50 00000000 */ nop
/* 000241 0x80865D54 460094A4 */ cvt.w.s	$f18, $f18
/* 000242 0x80865D58 4445F800 */ cfc1	$a1, $31
/* 000243 0x80865D5C 00000000 */ nop
/* 000244 0x80865D60 30A50078 */ andi	$a1, $a1, 0X78
/* 000245 0x80865D64 14A00005 */ bnez	$a1, .L80865D7C
/* 000246 0x80865D68 00000000 */ nop
/* 000247 0x80865D6C 44059000 */ mfc1	$a1, $f18
/* 000248 0x80865D70 3C018000 */ lui	$at, 0x8000
/* 000249 0x80865D74 10000007 */ b	.L80865D94
/* 000250 0x80865D78 00A12825 */ or	$a1, $a1, $at
.L80865D7C:
/* 000251 0x80865D7C 10000005 */ b	.L80865D94
/* 000252 0x80865D80 2405FFFF */ li	$a1, -0X1
/* 000253 0x80865D84 44059000 */ mfc1	$a1, $f18
.L80865D88:
/* 000254 0x80865D88 00000000 */ nop
/* 000255 0x80865D8C 04A0FFFB */ bltz	$a1, .L80865D7C
/* 000256 0x80865D90 00000000 */ nop
.L80865D94:
/* 000257 0x80865D94 910C0001 */ lbu	$t4, 0X1($t0)
/* 000258 0x80865D98 44CBF800 */ ctc1	$t3, $31
/* 000259 0x80865D9C 30A500FF */ andi	$a1, $a1, 0XFF
/* 000260 0x80865DA0 448C2000 */ mtc1	$t4, $f4
/* 000261 0x80865DA4 3C014F80 */ lui	$at, 0x4F80
/* 000262 0x80865DA8 05810004 */ bgez	$t4, .L80865DBC
/* 000263 0x80865DAC 468021A0 */ cvt.s.w	$f6, $f4
/* 000264 0x80865DB0 44815000 */ mtc1	$at, $f10
/* 000265 0x80865DB4 00000000 */ nop
/* 000266 0x80865DB8 460A3180 */ add.s	$f6, $f6, $f10
.L80865DBC:
/* 000267 0x80865DBC 46023202 */ mul.s	$f8, $f6, $f2
/* 000268 0x80865DC0 24060001 */ li	$a2, 0X1
/* 000269 0x80865DC4 3C014F00 */ lui	$at, 0x4F00
/* 000270 0x80865DC8 444DF800 */ cfc1	$t5, $31
/* 000271 0x80865DCC 44C6F800 */ ctc1	$a2, $31
/* 000272 0x80865DD0 00000000 */ nop
/* 000273 0x80865DD4 46004424 */ cvt.w.s	$f16, $f8
/* 000274 0x80865DD8 4446F800 */ cfc1	$a2, $31
/* 000275 0x80865DDC 00000000 */ nop
/* 000276 0x80865DE0 30C60078 */ andi	$a2, $a2, 0X78
/* 000277 0x80865DE4 50C00013 */ beqzl	$a2, .L80865E34
/* 000278 0x80865DE8 44068000 */ mfc1	$a2, $f16
/* 000279 0x80865DEC 44818000 */ mtc1	$at, $f16
/* 000280 0x80865DF0 24060001 */ li	$a2, 0X1
/* 000281 0x80865DF4 46104401 */ sub.s	$f16, $f8, $f16
/* 000282 0x80865DF8 44C6F800 */ ctc1	$a2, $31
/* 000283 0x80865DFC 00000000 */ nop
/* 000284 0x80865E00 46008424 */ cvt.w.s	$f16, $f16
/* 000285 0x80865E04 4446F800 */ cfc1	$a2, $31
/* 000286 0x80865E08 00000000 */ nop
/* 000287 0x80865E0C 30C60078 */ andi	$a2, $a2, 0X78
/* 000288 0x80865E10 14C00005 */ bnez	$a2, .L80865E28
/* 000289 0x80865E14 00000000 */ nop
/* 000290 0x80865E18 44068000 */ mfc1	$a2, $f16
/* 000291 0x80865E1C 3C018000 */ lui	$at, 0x8000
/* 000292 0x80865E20 10000007 */ b	.L80865E40
/* 000293 0x80865E24 00C13025 */ or	$a2, $a2, $at
.L80865E28:
/* 000294 0x80865E28 10000005 */ b	.L80865E40
/* 000295 0x80865E2C 2406FFFF */ li	$a2, -0X1
/* 000296 0x80865E30 44068000 */ mfc1	$a2, $f16
.L80865E34:
/* 000297 0x80865E34 00000000 */ nop
/* 000298 0x80865E38 04C0FFFB */ bltz	$a2, .L80865E28
/* 000299 0x80865E3C 00000000 */ nop
.L80865E40:
/* 000300 0x80865E40 910E0002 */ lbu	$t6, 0X2($t0)
/* 000301 0x80865E44 44CDF800 */ ctc1	$t5, $31
/* 000302 0x80865E48 30C600FF */ andi	$a2, $a2, 0XFF
/* 000303 0x80865E4C 448E9000 */ mtc1	$t6, $f18
/* 000304 0x80865E50 3C014F80 */ lui	$at, 0x4F80
/* 000305 0x80865E54 05C10004 */ bgez	$t6, .L80865E68
/* 000306 0x80865E58 46809120 */ cvt.s.w	$f4, $f18
/* 000307 0x80865E5C 44815000 */ mtc1	$at, $f10
/* 000308 0x80865E60 00000000 */ nop
/* 000309 0x80865E64 460A2100 */ add.s	$f4, $f4, $f10
.L80865E68:
/* 000310 0x80865E68 46022182 */ mul.s	$f6, $f4, $f2
/* 000311 0x80865E6C 24070001 */ li	$a3, 0X1
/* 000312 0x80865E70 3C014F00 */ lui	$at, 0x4F00
/* 000313 0x80865E74 444FF800 */ cfc1	$t7, $31
/* 000314 0x80865E78 44C7F800 */ ctc1	$a3, $31
/* 000315 0x80865E7C 00000000 */ nop
/* 000316 0x80865E80 46003224 */ cvt.w.s	$f8, $f6
/* 000317 0x80865E84 4447F800 */ cfc1	$a3, $31
/* 000318 0x80865E88 00000000 */ nop
/* 000319 0x80865E8C 30E70078 */ andi	$a3, $a3, 0X78
/* 000320 0x80865E90 50E00013 */ beqzl	$a3, .L80865EE0
/* 000321 0x80865E94 44074000 */ mfc1	$a3, $f8
/* 000322 0x80865E98 44814000 */ mtc1	$at, $f8
/* 000323 0x80865E9C 24070001 */ li	$a3, 0X1
/* 000324 0x80865EA0 46083201 */ sub.s	$f8, $f6, $f8
/* 000325 0x80865EA4 44C7F800 */ ctc1	$a3, $31
/* 000326 0x80865EA8 00000000 */ nop
/* 000327 0x80865EAC 46004224 */ cvt.w.s	$f8, $f8
/* 000328 0x80865EB0 4447F800 */ cfc1	$a3, $31
/* 000329 0x80865EB4 00000000 */ nop
/* 000330 0x80865EB8 30E70078 */ andi	$a3, $a3, 0X78
/* 000331 0x80865EBC 14E00005 */ bnez	$a3, .L80865ED4
/* 000332 0x80865EC0 00000000 */ nop
/* 000333 0x80865EC4 44074000 */ mfc1	$a3, $f8
/* 000334 0x80865EC8 3C018000 */ lui	$at, 0x8000
/* 000335 0x80865ECC 10000007 */ b	.L80865EEC
/* 000336 0x80865ED0 00E13825 */ or	$a3, $a3, $at
.L80865ED4:
/* 000337 0x80865ED4 10000005 */ b	.L80865EEC
/* 000338 0x80865ED8 2407FFFF */ li	$a3, -0X1
/* 000339 0x80865EDC 44074000 */ mfc1	$a3, $f8
.L80865EE0:
/* 000340 0x80865EE0 00000000 */ nop
/* 000341 0x80865EE4 04E0FFFB */ bltz	$a3, .L80865ED4
/* 000342 0x80865EE8 00000000 */ nop
.L80865EEC:
/* 000343 0x80865EEC 44CFF800 */ ctc1	$t7, $31
/* 000344 0x80865EF0 30E700FF */ andi	$a3, $a3, 0XFF
/* 000345 0x80865EF4 0C0406B2 */ jal	Lights_SetPositionalLightColorAndRadius
/* 000346 0x80865EF8 AFA20010 */ sw	$v0, 0X10($sp)
.L80865EFC:
/* 000347 0x80865EFC 02002025 */ move	$a0, $s0
/* 000348 0x80865F00 0C2196FE */ jal	func_80865BF8
/* 000349 0x80865F04 8FA50034 */ lw	$a1, 0X34($sp)
/* 000350 0x80865F08 8602001C */ lh	$v0, 0X1C($s0)
/* 000351 0x80865F0C 04400005 */ bltz	$v0, .L80865F24
/* 000352 0x80865F10 30584000 */ andi	$t8, $v0, 0X4000
/* 000353 0x80865F14 17000003 */ bnez	$t8, .L80865F24
/* 000354 0x80865F18 02002025 */ move	$a0, $s0
/* 000355 0x80865F1C 0C02E3B2 */ jal	func_800B8EC8
/* 000356 0x80865F20 24052031 */ li	$a1, 0X2031
.L80865F24:
/* 000357 0x80865F24 8FBF0024 */ lw	$ra, 0X24($sp)
/* 000358 0x80865F28 8FB00020 */ lw	$s0, 0X20($sp)
/* 000359 0x80865F2C 27BD0030 */ addiu	$sp, $sp, 0X30
/* 000360 0x80865F30 03E00008 */ jr	$ra
/* 000361 0x80865F34 00000000 */ nop

glabel func_80865F38
/* 000362 0x80865F38 27BDFFC0 */ addiu	$sp, $sp, -0X40
/* 000363 0x80865F3C AFB00020 */ sw	$s0, 0X20($sp)
/* 000364 0x80865F40 00808025 */ move	$s0, $a0
/* 000365 0x80865F44 AFBF0024 */ sw	$ra, 0X24($sp)
/* 000366 0x80865F48 AFA50044 */ sw	$a1, 0X44($sp)
/* 000367 0x80865F4C 860E001C */ lh	$t6, 0X1C($s0)
/* 000368 0x80865F50 3C198086 */ lui	$t9, %hi(D_808666D0)
/* 000369 0x80865F54 273966D0 */ addiu	$t9, $t9, %lo(D_808666D0)
/* 000370 0x80865F58 31CF000F */ andi	$t7, $t6, 0XF
/* 000371 0x80865F5C 000FC0C0 */ sll	$t8, $t7, 3
/* 000372 0x80865F60 03194021 */ addu	$t0, $t8, $t9
/* 000373 0x80865F64 AFA80038 */ sw	$t0, 0X38($sp)
/* 000374 0x80865F68 91090007 */ lbu	$t1, 0X7($t0)
/* 000375 0x80865F6C 3C014F80 */ lui	$at, 0x4F80
/* 000376 0x80865F70 44892000 */ mtc1	$t1, $f4
/* 000377 0x80865F74 05210004 */ bgez	$t1, .L80865F88
/* 000378 0x80865F78 468021A0 */ cvt.s.w	$f6, $f4
/* 000379 0x80865F7C 44814000 */ mtc1	$at, $f8
/* 000380 0x80865F80 00000000 */ nop
/* 000381 0x80865F84 46083180 */ add.s	$f6, $f6, $f8
.L80865F88:
/* 000382 0x80865F88 3C018086 */ lui	$at, %hi(D_80866754)
/* 000383 0x80865F8C C42A6754 */ lwc1	$f10, %lo(D_80866754)($at)
/* 000384 0x80865F90 C6120058 */ lwc1	$f18, 0X58($s0)
/* 000385 0x80865F94 AFA0002C */ sw	$zero, 0X2C($sp)
/* 000386 0x80865F98 460A3402 */ mul.s	$f16, $f6, $f10
/* 000387 0x80865F9C 8FA40044 */ lw	$a0, 0X44($sp)
/* 000388 0x80865FA0 46109103 */ div.s	$f4, $f18, $f16
/* 000389 0x80865FA4 E7A40030 */ swc1	$f4, 0X30($sp)
/* 000390 0x80865FA8 8602001C */ lh	$v0, 0X1C($s0)
/* 000391 0x80865FAC 304A1000 */ andi	$t2, $v0, 0X1000
/* 000392 0x80865FB0 11400022 */ beqz	$t2, .L8086603C
/* 000393 0x80865FB4 304507F0 */ andi	$a1, $v0, 0X7F0
/* 000394 0x80865FB8 304507F0 */ andi	$a1, $v0, 0X7F0
/* 000395 0x80865FBC 00052903 */ sra	$a1, $a1, 4
/* 000396 0x80865FC0 0C02D6EC */ jal	Actor_GetSwitchFlag
/* 000397 0x80865FC4 8FA40044 */ lw	$a0, 0X44($sp)
/* 000398 0x80865FC8 10400009 */ beqz	$v0, .L80865FF0
/* 000399 0x80865FCC C7A80030 */ lwc1	$f8, 0X30($sp)
/* 000400 0x80865FD0 3C063D4C */ lui	$a2, 0x3D4C
/* 000401 0x80865FD4 34C6CCCD */ ori	$a2, $a2, 0XCCCD
/* 000402 0x80865FD8 27A40030 */ addiu	$a0, $sp, 0X30
/* 000403 0x80865FDC 0C03FC0F */ jal	Lib_StepTowardsCheck_f
/* 000404 0x80865FE0 3C053F80 */ lui	$a1, 0x3F80
/* 000405 0x80865FE4 240B0001 */ li	$t3, 0X1
/* 000406 0x80865FE8 10000032 */ b	.L808660B4
/* 000407 0x80865FEC AFAB002C */ sw	$t3, 0X2C($sp)
.L80865FF0:
/* 000408 0x80865FF0 3C018086 */ lui	$at, %hi(D_80866758)
/* 000409 0x80865FF4 C4266758 */ lwc1	$f6, %lo(D_80866758)($at)
/* 000410 0x80865FF8 02002025 */ move	$a0, $s0
/* 000411 0x80865FFC 4606403C */ c.lt.s	$f8, $f6
/* 000412 0x80866000 00000000 */ nop
/* 000413 0x80866004 45020007 */ bc1fl .L80866024
/* 000414 0x80866008 3C063D4C */ lui	$a2, 0x3D4C
/* 000415 0x8086600C 0C02D9F8 */ jal	Actor_SetScale
/* 000416 0x80866010 24050000 */ li	$a1, 0X0
/* 000417 0x80866014 44805000 */ mtc1	$zero, $f10
/* 000418 0x80866018 00000000 */ nop
/* 000419 0x8086601C E7AA0030 */ swc1	$f10, 0X30($sp)
/* 000420 0x80866020 3C063D4C */ lui	$a2, 0x3D4C
.L80866024:
/* 000421 0x80866024 34C6CCCD */ ori	$a2, $a2, 0XCCCD
/* 000422 0x80866028 27A40030 */ addiu	$a0, $sp, 0X30
/* 000423 0x8086602C 0C03FC0F */ jal	Lib_StepTowardsCheck_f
/* 000424 0x80866030 24050000 */ li	$a1, 0X0
/* 000425 0x80866034 10000020 */ b	.L808660B8
/* 000426 0x80866038 8FAD0038 */ lw	$t5, 0X38($sp)
.L8086603C:
/* 000427 0x8086603C 0C02D6EC */ jal	Actor_GetSwitchFlag
/* 000428 0x80866040 00052903 */ sra	$a1, $a1, 4
/* 000429 0x80866044 10400015 */ beqz	$v0, .L8086609C
/* 000430 0x80866048 27A40030 */ addiu	$a0, $sp, 0X30
/* 000431 0x8086604C 3C018086 */ lui	$at, %hi(D_8086675C)
/* 000432 0x80866050 C430675C */ lwc1	$f16, %lo(D_8086675C)($at)
/* 000433 0x80866054 C7B20030 */ lwc1	$f18, 0X30($sp)
/* 000434 0x80866058 02002025 */ move	$a0, $s0
/* 000435 0x8086605C 4610903C */ c.lt.s	$f18, $f16
/* 000436 0x80866060 00000000 */ nop
/* 000437 0x80866064 45020007 */ bc1fl .L80866084
/* 000438 0x80866068 3C063D4C */ lui	$a2, 0x3D4C
/* 000439 0x8086606C 0C02D9F8 */ jal	Actor_SetScale
/* 000440 0x80866070 24050000 */ li	$a1, 0X0
/* 000441 0x80866074 44802000 */ mtc1	$zero, $f4
/* 000442 0x80866078 00000000 */ nop
/* 000443 0x8086607C E7A40030 */ swc1	$f4, 0X30($sp)
/* 000444 0x80866080 3C063D4C */ lui	$a2, 0x3D4C
.L80866084:
/* 000445 0x80866084 34C6CCCD */ ori	$a2, $a2, 0XCCCD
/* 000446 0x80866088 27A40030 */ addiu	$a0, $sp, 0X30
/* 000447 0x8086608C 0C03FC0F */ jal	Lib_StepTowardsCheck_f
/* 000448 0x80866090 24050000 */ li	$a1, 0X0
/* 000449 0x80866094 10000008 */ b	.L808660B8
/* 000450 0x80866098 8FAD0038 */ lw	$t5, 0X38($sp)
.L8086609C:
/* 000451 0x8086609C 3C063D4C */ lui	$a2, 0x3D4C
/* 000452 0x808660A0 34C6CCCD */ ori	$a2, $a2, 0XCCCD
/* 000453 0x808660A4 0C03FC0F */ jal	Lib_StepTowardsCheck_f
/* 000454 0x808660A8 3C053F80 */ lui	$a1, 0x3F80
/* 000455 0x808660AC 240C0001 */ li	$t4, 0X1
/* 000456 0x808660B0 AFAC002C */ sw	$t4, 0X2C($sp)
.L808660B4:
/* 000457 0x808660B4 8FAD0038 */ lw	$t5, 0X38($sp)
.L808660B8:
/* 000458 0x808660B8 02002025 */ move	$a0, $s0
/* 000459 0x808660BC 3C014F80 */ lui	$at, 0x4F80
/* 000460 0x808660C0 91AE0007 */ lbu	$t6, 0X7($t5)
/* 000461 0x808660C4 448E4000 */ mtc1	$t6, $f8
/* 000462 0x808660C8 05C10004 */ bgez	$t6, .L808660DC
/* 000463 0x808660CC 468041A0 */ cvt.s.w	$f6, $f8
/* 000464 0x808660D0 44815000 */ mtc1	$at, $f10
/* 000465 0x808660D4 00000000 */ nop
/* 000466 0x808660D8 460A3180 */ add.s	$f6, $f6, $f10
.L808660DC:
/* 000467 0x808660DC 3C018086 */ lui	$at, %hi(D_80866760)
/* 000468 0x808660E0 C4326760 */ lwc1	$f18, %lo(D_80866760)($at)
/* 000469 0x808660E4 C7A40030 */ lwc1	$f4, 0X30($sp)
/* 000470 0x808660E8 46123402 */ mul.s	$f16, $f6, $f18
/* 000471 0x808660EC 00000000 */ nop
/* 000472 0x808660F0 46048202 */ mul.s	$f8, $f16, $f4
/* 000473 0x808660F4 44054000 */ mfc1	$a1, $f8
/* 000474 0x808660F8 0C02D9F8 */ jal	Actor_SetScale
/* 000475 0x808660FC 00000000 */ nop
/* 000476 0x80866100 860F001C */ lh	$t7, 0X1C($s0)
/* 000477 0x80866104 31F84000 */ andi	$t8, $t7, 0X4000
/* 000478 0x80866108 57000093 */ bnezl	$t8, .L80866358
/* 000479 0x8086610C 02002025 */ move	$a0, $s0
/* 000480 0x80866110 0C021BF7 */ jal	randZeroOne
/* 000481 0x80866114 00000000 */ nop
/* 000482 0x80866118 3C013F00 */ lui	$at, 0x3F00
/* 000483 0x8086611C 44816000 */ mtc1	$at, $f12
/* 000484 0x80866120 8FB90038 */ lw	$t9, 0X38($sp)
/* 000485 0x80866124 3C014F80 */ lui	$at, 0x4F80
/* 000486 0x80866128 460C0282 */ mul.s	$f10, $f0, $f12
/* 000487 0x8086612C 93280000 */ lbu	$t0, 0X0($t9)
/* 000488 0x80866130 2604014C */ addiu	$a0, $s0, 0X14C
/* 000489 0x80866134 44883000 */ mtc1	$t0, $f6
/* 000490 0x80866138 460C5080 */ add.s	$f2, $f10, $f12
/* 000491 0x8086613C 05010004 */ bgez	$t0, .L80866150
/* 000492 0x80866140 468034A0 */ cvt.s.w	$f18, $f6
/* 000493 0x80866144 44818000 */ mtc1	$at, $f16
/* 000494 0x80866148 00000000 */ nop
/* 000495 0x8086614C 46109480 */ add.s	$f18, $f18, $f16
.L80866150:
/* 000496 0x80866150 46029102 */ mul.s	$f4, $f18, $f2
/* 000497 0x80866154 24050001 */ li	$a1, 0X1
/* 000498 0x80866158 3C014F00 */ lui	$at, 0x4F00
/* 000499 0x8086615C 4449F800 */ cfc1	$t1, $31
/* 000500 0x80866160 44C5F800 */ ctc1	$a1, $31
/* 000501 0x80866164 00000000 */ nop
/* 000502 0x80866168 46002224 */ cvt.w.s	$f8, $f4
/* 000503 0x8086616C 4445F800 */ cfc1	$a1, $31
/* 000504 0x80866170 00000000 */ nop
/* 000505 0x80866174 30A50078 */ andi	$a1, $a1, 0X78
/* 000506 0x80866178 50A00013 */ beqzl	$a1, .L808661C8
/* 000507 0x8086617C 44054000 */ mfc1	$a1, $f8
/* 000508 0x80866180 44814000 */ mtc1	$at, $f8
/* 000509 0x80866184 24050001 */ li	$a1, 0X1
/* 000510 0x80866188 46082201 */ sub.s	$f8, $f4, $f8
/* 000511 0x8086618C 44C5F800 */ ctc1	$a1, $31
/* 000512 0x80866190 00000000 */ nop
/* 000513 0x80866194 46004224 */ cvt.w.s	$f8, $f8
/* 000514 0x80866198 4445F800 */ cfc1	$a1, $31
/* 000515 0x8086619C 00000000 */ nop
/* 000516 0x808661A0 30A50078 */ andi	$a1, $a1, 0X78
/* 000517 0x808661A4 14A00005 */ bnez	$a1, .L808661BC
/* 000518 0x808661A8 00000000 */ nop
/* 000519 0x808661AC 44054000 */ mfc1	$a1, $f8
/* 000520 0x808661B0 3C018000 */ lui	$at, 0x8000
/* 000521 0x808661B4 10000007 */ b	.L808661D4
/* 000522 0x808661B8 00A12825 */ or	$a1, $a1, $at
.L808661BC:
/* 000523 0x808661BC 10000005 */ b	.L808661D4
/* 000524 0x808661C0 2405FFFF */ li	$a1, -0X1
/* 000525 0x808661C4 44054000 */ mfc1	$a1, $f8
.L808661C8:
/* 000526 0x808661C8 00000000 */ nop
/* 000527 0x808661CC 04A0FFFB */ bltz	$a1, .L808661BC
/* 000528 0x808661D0 00000000 */ nop
.L808661D4:
/* 000529 0x808661D4 932A0001 */ lbu	$t2, 0X1($t9)
/* 000530 0x808661D8 44C9F800 */ ctc1	$t1, $31
/* 000531 0x808661DC 30A500FF */ andi	$a1, $a1, 0XFF
/* 000532 0x808661E0 448A5000 */ mtc1	$t2, $f10
/* 000533 0x808661E4 3C014F80 */ lui	$at, 0x4F80
/* 000534 0x808661E8 05410004 */ bgez	$t2, .L808661FC
/* 000535 0x808661EC 468051A0 */ cvt.s.w	$f6, $f10
/* 000536 0x808661F0 44818000 */ mtc1	$at, $f16
/* 000537 0x808661F4 00000000 */ nop
/* 000538 0x808661F8 46103180 */ add.s	$f6, $f6, $f16
.L808661FC:
/* 000539 0x808661FC 46023482 */ mul.s	$f18, $f6, $f2
/* 000540 0x80866200 24060001 */ li	$a2, 0X1
/* 000541 0x80866204 3C014F00 */ lui	$at, 0x4F00
/* 000542 0x80866208 444BF800 */ cfc1	$t3, $31
/* 000543 0x8086620C 44C6F800 */ ctc1	$a2, $31
/* 000544 0x80866210 00000000 */ nop
/* 000545 0x80866214 46009124 */ cvt.w.s	$f4, $f18
/* 000546 0x80866218 4446F800 */ cfc1	$a2, $31
/* 000547 0x8086621C 00000000 */ nop
/* 000548 0x80866220 30C60078 */ andi	$a2, $a2, 0X78
/* 000549 0x80866224 50C00013 */ beqzl	$a2, .L80866274
/* 000550 0x80866228 44062000 */ mfc1	$a2, $f4
/* 000551 0x8086622C 44812000 */ mtc1	$at, $f4
/* 000552 0x80866230 24060001 */ li	$a2, 0X1
/* 000553 0x80866234 46049101 */ sub.s	$f4, $f18, $f4
/* 000554 0x80866238 44C6F800 */ ctc1	$a2, $31
/* 000555 0x8086623C 00000000 */ nop
/* 000556 0x80866240 46002124 */ cvt.w.s	$f4, $f4
/* 000557 0x80866244 4446F800 */ cfc1	$a2, $31
/* 000558 0x80866248 00000000 */ nop
/* 000559 0x8086624C 30C60078 */ andi	$a2, $a2, 0X78
/* 000560 0x80866250 14C00005 */ bnez	$a2, .L80866268
/* 000561 0x80866254 00000000 */ nop
/* 000562 0x80866258 44062000 */ mfc1	$a2, $f4
/* 000563 0x8086625C 3C018000 */ lui	$at, 0x8000
/* 000564 0x80866260 10000007 */ b	.L80866280
/* 000565 0x80866264 00C13025 */ or	$a2, $a2, $at
.L80866268:
/* 000566 0x80866268 10000005 */ b	.L80866280
/* 000567 0x8086626C 2406FFFF */ li	$a2, -0X1
/* 000568 0x80866270 44062000 */ mfc1	$a2, $f4
.L80866274:
/* 000569 0x80866274 00000000 */ nop
/* 000570 0x80866278 04C0FFFB */ bltz	$a2, .L80866268
/* 000571 0x8086627C 00000000 */ nop
.L80866280:
/* 000572 0x80866280 932C0002 */ lbu	$t4, 0X2($t9)
/* 000573 0x80866284 44CBF800 */ ctc1	$t3, $31
/* 000574 0x80866288 30C600FF */ andi	$a2, $a2, 0XFF
/* 000575 0x8086628C 448C4000 */ mtc1	$t4, $f8
/* 000576 0x80866290 3C014F80 */ lui	$at, 0x4F80
/* 000577 0x80866294 05810004 */ bgez	$t4, .L808662A8
/* 000578 0x80866298 468042A0 */ cvt.s.w	$f10, $f8
/* 000579 0x8086629C 44818000 */ mtc1	$at, $f16
/* 000580 0x808662A0 00000000 */ nop
/* 000581 0x808662A4 46105280 */ add.s	$f10, $f10, $f16
.L808662A8:
/* 000582 0x808662A8 46025182 */ mul.s	$f6, $f10, $f2
/* 000583 0x808662AC 24070001 */ li	$a3, 0X1
/* 000584 0x808662B0 3C014F00 */ lui	$at, 0x4F00
/* 000585 0x808662B4 444DF800 */ cfc1	$t5, $31
/* 000586 0x808662B8 44C7F800 */ ctc1	$a3, $31
/* 000587 0x808662BC 00000000 */ nop
/* 000588 0x808662C0 460034A4 */ cvt.w.s	$f18, $f6
/* 000589 0x808662C4 4447F800 */ cfc1	$a3, $31
/* 000590 0x808662C8 00000000 */ nop
/* 000591 0x808662CC 30E70078 */ andi	$a3, $a3, 0X78
/* 000592 0x808662D0 50E00013 */ beqzl	$a3, .L80866320
/* 000593 0x808662D4 44079000 */ mfc1	$a3, $f18
/* 000594 0x808662D8 44819000 */ mtc1	$at, $f18
/* 000595 0x808662DC 24070001 */ li	$a3, 0X1
/* 000596 0x808662E0 46123481 */ sub.s	$f18, $f6, $f18
/* 000597 0x808662E4 44C7F800 */ ctc1	$a3, $31
/* 000598 0x808662E8 00000000 */ nop
/* 000599 0x808662EC 460094A4 */ cvt.w.s	$f18, $f18
/* 000600 0x808662F0 4447F800 */ cfc1	$a3, $31
/* 000601 0x808662F4 00000000 */ nop
/* 000602 0x808662F8 30E70078 */ andi	$a3, $a3, 0X78
/* 000603 0x808662FC 14E00005 */ bnez	$a3, .L80866314
/* 000604 0x80866300 00000000 */ nop
/* 000605 0x80866304 44079000 */ mfc1	$a3, $f18
/* 000606 0x80866308 3C018000 */ lui	$at, 0x8000
/* 000607 0x8086630C 10000007 */ b	.L8086632C
/* 000608 0x80866310 00E13825 */ or	$a3, $a3, $at
.L80866314:
/* 000609 0x80866314 10000005 */ b	.L8086632C
/* 000610 0x80866318 2407FFFF */ li	$a3, -0X1
/* 000611 0x8086631C 44079000 */ mfc1	$a3, $f18
.L80866320:
/* 000612 0x80866320 00000000 */ nop
/* 000613 0x80866324 04E0FFFB */ bltz	$a3, .L80866314
/* 000614 0x80866328 00000000 */ nop
.L8086632C:
/* 000615 0x8086632C 3C014396 */ lui	$at, 0x4396
/* 000616 0x80866330 44812000 */ mtc1	$at, $f4
/* 000617 0x80866334 44CDF800 */ ctc1	$t5, $31
/* 000618 0x80866338 C7A80030 */ lwc1	$f8, 0X30($sp)
/* 000619 0x8086633C 30E700FF */ andi	$a3, $a3, 0XFF
/* 000620 0x80866340 46082402 */ mul.s	$f16, $f4, $f8
/* 000621 0x80866344 4600828D */ trunc.w.s	$f10, $f16
/* 000622 0x80866348 440F5000 */ mfc1	$t7, $f10
/* 000623 0x8086634C 0C0406B2 */ jal	Lights_SetPositionalLightColorAndRadius
/* 000624 0x80866350 AFAF0010 */ sw	$t7, 0X10($sp)
/* 000625 0x80866354 02002025 */ move	$a0, $s0
.L80866358:
/* 000626 0x80866358 0C2196FE */ jal	func_80865BF8
/* 000627 0x8086635C 8FA50044 */ lw	$a1, 0X44($sp)
/* 000628 0x80866360 8618001C */ lh	$t8, 0X1C($s0)
/* 000629 0x80866364 8FA8002C */ lw	$t0, 0X2C($sp)
/* 000630 0x80866368 24010001 */ li	$at, 0X1
/* 000631 0x8086636C 07020006 */ bltzl	$t8, .L80866388
/* 000632 0x80866370 8FBF0024 */ lw	$ra, 0X24($sp)
/* 000633 0x80866374 15010003 */ bne	$t0, $at, .L80866384
/* 000634 0x80866378 02002025 */ move	$a0, $s0
/* 000635 0x8086637C 0C02E3B2 */ jal	func_800B8EC8
/* 000636 0x80866380 24052031 */ li	$a1, 0X2031
.L80866384:
/* 000637 0x80866384 8FBF0024 */ lw	$ra, 0X24($sp)
.L80866388:
/* 000638 0x80866388 8FB00020 */ lw	$s0, 0X20($sp)
/* 000639 0x8086638C 27BD0040 */ addiu	$sp, $sp, 0X40
/* 000640 0x80866390 03E00008 */ jr	$ra
/* 000641 0x80866394 00000000 */ nop

glabel EnLight_Draw
/* 000642 0x80866398 27BDFF88 */ addiu	$sp, $sp, -0X78
/* 000643 0x8086639C AFBF003C */ sw	$ra, 0X3C($sp)
/* 000644 0x808663A0 AFB00038 */ sw	$s0, 0X38($sp)
/* 000645 0x808663A4 AFA40078 */ sw	$a0, 0X78($sp)
/* 000646 0x808663A8 AFA5007C */ sw	$a1, 0X7C($sp)
/* 000647 0x808663AC 8FAE0078 */ lw	$t6, 0X78($sp)
/* 000648 0x808663B0 3C0A8086 */ lui	$t2, %hi(D_808666D0)
/* 000649 0x808663B4 254A66D0 */ addiu	$t2, $t2, %lo(D_808666D0)
/* 000650 0x808663B8 85CF001C */ lh	$t7, 0X1C($t6)
/* 000651 0x808663BC 8FAB007C */ lw	$t3, 0X7C($sp)
/* 000652 0x808663C0 31F8000F */ andi	$t8, $t7, 0XF
/* 000653 0x808663C4 0018C8C0 */ sll	$t9, $t8, 3
/* 000654 0x808663C8 032A4021 */ addu	$t0, $t9, $t2
/* 000655 0x808663CC 8D640000 */ lw	$a0, 0X0($t3)
/* 000656 0x808663D0 AFA8006C */ sw	$t0, 0X6C($sp)
/* 000657 0x808663D4 0C04B0B7 */ jal	func_8012C2DC
/* 000658 0x808663D8 00808025 */ move	$s0, $a0
/* 000659 0x808663DC 8FA90078 */ lw	$t1, 0X78($sp)
/* 000660 0x808663E0 3C0FDB06 */ lui	$t7, 0xDB06
/* 000661 0x808663E4 8FA8006C */ lw	$t0, 0X6C($sp)
/* 000662 0x808663E8 852C001C */ lh	$t4, 0X1C($t1)
/* 000663 0x808663EC 35EF0020 */ ori	$t7, $t7, 0X20
/* 000664 0x808663F0 00002825 */ move	$a1, $zero
/* 000665 0x808663F4 05800048 */ bltz	$t4, .L80866518
/* 000666 0x808663F8 00003025 */ move	$a2, $zero
/* 000667 0x808663FC 8E0202C0 */ lw	$v0, 0X2C0($s0)
/* 000668 0x80866400 3C0EDB06 */ lui	$t6, 0xDB06
/* 000669 0x80866404 35CE0020 */ ori	$t6, $t6, 0X20
/* 000670 0x80866408 244D0008 */ addiu	$t5, $v0, 0X8
/* 000671 0x8086640C AE0D02C0 */ sw	$t5, 0X2C0($s0)
/* 000672 0x80866410 AC4E0000 */ sw	$t6, 0X0($v0)
/* 000673 0x80866414 8FAF007C */ lw	$t7, 0X7C($sp)
/* 000674 0x80866418 24180020 */ li	$t8, 0X20
/* 000675 0x8086641C 24190040 */ li	$t9, 0X40
/* 000676 0x80866420 8DE40000 */ lw	$a0, 0X0($t7)
/* 000677 0x80866424 240A0001 */ li	$t2, 0X1
/* 000678 0x80866428 AFAA0018 */ sw	$t2, 0X18($sp)
/* 000679 0x8086642C AFA0001C */ sw	$zero, 0X1C($sp)
/* 000680 0x80866430 AFB90014 */ sw	$t9, 0X14($sp)
/* 000681 0x80866434 AFB80010 */ sw	$t8, 0X10($sp)
/* 000682 0x80866438 912B0144 */ lbu	$t3, 0X144($t1)
/* 000683 0x8086643C 240F0080 */ li	$t7, 0X80
/* 000684 0x80866440 240E0020 */ li	$t6, 0X20
/* 000685 0x80866444 000B0823 */ negu	$at, $t3
/* 000686 0x80866448 00016080 */ sll	$t4, $at, 2
/* 000687 0x8086644C 01816021 */ addu	$t4, $t4, $at
/* 000688 0x80866450 000C6080 */ sll	$t4, $t4, 2
/* 000689 0x80866454 318D01FF */ andi	$t5, $t4, 0X1FF
/* 000690 0x80866458 AFAD0020 */ sw	$t5, 0X20($sp)
/* 000691 0x8086645C AFAE0024 */ sw	$t6, 0X24($sp)
/* 000692 0x80866460 AFAF0028 */ sw	$t7, 0X28($sp)
/* 000693 0x80866464 AFA8006C */ sw	$t0, 0X6C($sp)
/* 000694 0x80866468 00002825 */ move	$a1, $zero
/* 000695 0x8086646C 00003025 */ move	$a2, $zero
/* 000696 0x80866470 00003825 */ move	$a3, $zero
/* 000697 0x80866474 0C04B2F4 */ jal	Gfx_TwoTexScroll
/* 000698 0x80866478 AFA2005C */ sw	$v0, 0X5C($sp)
/* 000699 0x8086647C 8FA3005C */ lw	$v1, 0X5C($sp)
/* 000700 0x80866480 8FA8006C */ lw	$t0, 0X6C($sp)
/* 000701 0x80866484 3C180408 */ lui	$t8, 0x0408
/* 000702 0x80866488 AC620004 */ sw	$v0, 0X4($v1)
/* 000703 0x8086648C 2718D590 */ addiu	$t8, $t8, -0X2A70
/* 000704 0x80866490 AFB80068 */ sw	$t8, 0X68($sp)
/* 000705 0x80866494 8E0202C0 */ lw	$v0, 0X2C0($s0)
/* 000706 0x80866498 3C0AFA00 */ lui	$t2, 0xFA00
/* 000707 0x8086649C 354A8080 */ ori	$t2, $t2, 0X8080
/* 000708 0x808664A0 24590008 */ addiu	$t9, $v0, 0X8
/* 000709 0x808664A4 AE1902C0 */ sw	$t9, 0X2C0($s0)
/* 000710 0x808664A8 AC4A0000 */ sw	$t2, 0X0($v0)
/* 000711 0x808664AC 910F0001 */ lbu	$t7, 0X1($t0)
/* 000712 0x808664B0 910C0000 */ lbu	$t4, 0X0($t0)
/* 000713 0x808664B4 910B0002 */ lbu	$t3, 0X2($t0)
/* 000714 0x808664B8 000FC400 */ sll	$t8, $t7, 16
/* 000715 0x808664BC 000C6E00 */ sll	$t5, $t4, 24
/* 000716 0x808664C0 01B8C825 */ or	$t9, $t5, $t8
/* 000717 0x808664C4 910D0003 */ lbu	$t5, 0X3($t0)
/* 000718 0x808664C8 000B6200 */ sll	$t4, $t3, 8
/* 000719 0x808664CC 032C7025 */ or	$t6, $t9, $t4
/* 000720 0x808664D0 01CDC025 */ or	$t8, $t6, $t5
/* 000721 0x808664D4 AC580004 */ sw	$t8, 0X4($v0)
/* 000722 0x808664D8 8E0202C0 */ lw	$v0, 0X2C0($s0)
/* 000723 0x808664DC 3C0BFB00 */ lui	$t3, 0xFB00
/* 000724 0x808664E0 244A0008 */ addiu	$t2, $v0, 0X8
/* 000725 0x808664E4 AE0A02C0 */ sw	$t2, 0X2C0($s0)
/* 000726 0x808664E8 AC4B0000 */ sw	$t3, 0X0($v0)
/* 000727 0x808664EC 910C0004 */ lbu	$t4, 0X4($t0)
/* 000728 0x808664F0 910D0005 */ lbu	$t5, 0X5($t0)
/* 000729 0x808664F4 91190006 */ lbu	$t9, 0X6($t0)
/* 000730 0x808664F8 000C7E00 */ sll	$t7, $t4, 24
/* 000731 0x808664FC 000DC400 */ sll	$t8, $t5, 16
/* 000732 0x80866500 01F85025 */ or	$t2, $t7, $t8
/* 000733 0x80866504 00196200 */ sll	$t4, $t9, 8
/* 000734 0x80866508 014C7025 */ or	$t6, $t2, $t4
/* 000735 0x8086650C AC4E0004 */ sw	$t6, 0X4($v0)
/* 000736 0x80866510 10000033 */ b	.L808665E0
/* 000737 0x80866514 8FA2007C */ lw	$v0, 0X7C($sp)
.L80866518:
/* 000738 0x80866518 8E0202C0 */ lw	$v0, 0X2C0($s0)
/* 000739 0x8086651C 240B0010 */ li	$t3, 0X10
/* 000740 0x80866520 24190020 */ li	$t9, 0X20
/* 000741 0x80866524 244D0008 */ addiu	$t5, $v0, 0X8
/* 000742 0x80866528 AE0D02C0 */ sw	$t5, 0X2C0($s0)
/* 000743 0x8086652C AC4F0000 */ sw	$t7, 0X0($v0)
/* 000744 0x80866530 8FB8007C */ lw	$t8, 0X7C($sp)
/* 000745 0x80866534 240A0001 */ li	$t2, 0X1
/* 000746 0x80866538 00003825 */ move	$a3, $zero
/* 000747 0x8086653C 8F040000 */ lw	$a0, 0X0($t8)
/* 000748 0x80866540 AFAA0018 */ sw	$t2, 0X18($sp)
/* 000749 0x80866544 AFB90014 */ sw	$t9, 0X14($sp)
/* 000750 0x80866548 AFAB0010 */ sw	$t3, 0X10($sp)
/* 000751 0x8086654C 91230144 */ lbu	$v1, 0X144($t1)
/* 000752 0x80866550 240B0020 */ li	$t3, 0X20
/* 000753 0x80866554 24180010 */ li	$t8, 0X10
/* 000754 0x80866558 00030823 */ negu	$at, $v1
/* 000755 0x8086655C 00016880 */ sll	$t5, $at, 2
/* 000756 0x80866560 01A16823 */ subu	$t5, $t5, $at
/* 000757 0x80866564 000D6840 */ sll	$t5, $t5, 1
/* 000758 0x80866568 00036040 */ sll	$t4, $v1, 1
/* 000759 0x8086656C 318E003F */ andi	$t6, $t4, 0X3F
/* 000760 0x80866570 31AF007F */ andi	$t7, $t5, 0X7F
/* 000761 0x80866574 AFAF0020 */ sw	$t7, 0X20($sp)
/* 000762 0x80866578 AFAE001C */ sw	$t6, 0X1C($sp)
/* 000763 0x8086657C AFB80024 */ sw	$t8, 0X24($sp)
/* 000764 0x80866580 AFAB0028 */ sw	$t3, 0X28($sp)
/* 000765 0x80866584 0C04B2F4 */ jal	Gfx_TwoTexScroll
/* 000766 0x80866588 AFA20050 */ sw	$v0, 0X50($sp)
/* 000767 0x8086658C 8FA80050 */ lw	$t0, 0X50($sp)
/* 000768 0x80866590 3C190402 */ lui	$t9, 0x0402
/* 000769 0x80866594 2739ACF0 */ addiu	$t9, $t9, -0X5310
/* 000770 0x80866598 AD020004 */ sw	$v0, 0X4($t0)
/* 000771 0x8086659C AFB90068 */ sw	$t9, 0X68($sp)
/* 000772 0x808665A0 8E0202C0 */ lw	$v0, 0X2C0($s0)
/* 000773 0x808665A4 3C0CFA00 */ lui	$t4, 0xFA00
/* 000774 0x808665A8 358CC0C0 */ ori	$t4, $t4, 0XC0C0
/* 000775 0x808665AC 244A0008 */ addiu	$t2, $v0, 0X8
/* 000776 0x808665B0 AE0A02C0 */ sw	$t2, 0X2C0($s0)
/* 000777 0x808665B4 3C0EFFC8 */ lui	$t6, 0xFFC8
/* 000778 0x808665B8 AC4E0004 */ sw	$t6, 0X4($v0)
/* 000779 0x808665BC AC4C0000 */ sw	$t4, 0X0($v0)
/* 000780 0x808665C0 8E0202C0 */ lw	$v0, 0X2C0($s0)
/* 000781 0x808665C4 3C0FFB00 */ lui	$t7, 0xFB00
/* 000782 0x808665C8 3C18FF00 */ lui	$t8, 0xFF00
/* 000783 0x808665CC 244D0008 */ addiu	$t5, $v0, 0X8
/* 000784 0x808665D0 AE0D02C0 */ sw	$t5, 0X2C0($s0)
/* 000785 0x808665D4 AC580004 */ sw	$t8, 0X4($v0)
/* 000786 0x808665D8 AC4F0000 */ sw	$t7, 0X0($v0)
/* 000787 0x808665DC 8FA2007C */ lw	$v0, 0X7C($sp)
.L808665E0:
/* 000788 0x808665E0 844B0810 */ lh	$t3, 0X810($v0)
/* 000789 0x808665E4 000BC880 */ sll	$t9, $t3, 2
/* 000790 0x808665E8 00595021 */ addu	$t2, $v0, $t9
/* 000791 0x808665EC 0C037F37 */ jal	func_800DFCDC
/* 000792 0x808665F0 8D440800 */ lw	$a0, 0X800($t2)
/* 000793 0x808665F4 8FAC0078 */ lw	$t4, 0X78($sp)
/* 000794 0x808665F8 34018000 */ ori	$at, $zero, 0X8000
/* 000795 0x808665FC 24050001 */ li	$a1, 0X1
/* 000796 0x80866600 858E00BE */ lh	$t6, 0XBE($t4)
/* 000797 0x80866604 004E2023 */ subu	$a0, $v0, $t6
/* 000798 0x80866608 00812021 */ addu	$a0, $a0, $at
/* 000799 0x8086660C 00042400 */ sll	$a0, $a0, 16
/* 000800 0x80866610 0C06026B */ jal	SysMatrix_InsertYRotation_s
/* 000801 0x80866614 00042403 */ sra	$a0, $a0, 16
/* 000802 0x80866618 8FAD0078 */ lw	$t5, 0X78($sp)
/* 000803 0x8086661C 3C018086 */ lui	$at, %hi(D_80866764)
/* 000804 0x80866620 24050001 */ li	$a1, 0X1
/* 000805 0x80866624 85AF001C */ lh	$t7, 0X1C($t5)
/* 000806 0x80866628 31F80001 */ andi	$t8, $t7, 0X1
/* 000807 0x8086662C 53000004 */ beqzl	$t8, .L80866640
/* 000808 0x80866630 3C013F80 */ lui	$at, 0x3F80
/* 000809 0x80866634 0C0602D2 */ jal	SysMatrix_InsertYRotation_f
/* 000810 0x80866638 C42C6764 */ lwc1	$f12, %lo(D_80866764)($at)
/* 000811 0x8086663C 3C013F80 */ lui	$at, 0x3F80
.L80866640:
/* 000812 0x80866640 44816000 */ mtc1	$at, $f12
/* 000813 0x80866644 24070001 */ li	$a3, 0X1
/* 000814 0x80866648 44066000 */ mfc1	$a2, $f12
/* 000815 0x8086664C 0C0600E7 */ jal	SysMatrix_InsertScale
/* 000816 0x80866650 46006386 */ mov.s	$f14, $f12
/* 000817 0x80866654 8E0202C0 */ lw	$v0, 0X2C0($s0)
/* 000818 0x80866658 3C19DA38 */ lui	$t9, 0xDA38
/* 000819 0x8086665C 37390003 */ ori	$t9, $t9, 0X3
/* 000820 0x80866660 244B0008 */ addiu	$t3, $v0, 0X8
/* 000821 0x80866664 AE0B02C0 */ sw	$t3, 0X2C0($s0)
/* 000822 0x80866668 AC590000 */ sw	$t9, 0X0($v0)
/* 000823 0x8086666C 8FAA007C */ lw	$t2, 0X7C($sp)
/* 000824 0x80866670 8D440000 */ lw	$a0, 0X0($t2)
/* 000825 0x80866674 0C060690 */ jal	SysMatrix_AppendStateToPolyOpaDisp
/* 000826 0x80866678 AFA20044 */ sw	$v0, 0X44($sp)
/* 000827 0x8086667C 8FA30044 */ lw	$v1, 0X44($sp)
/* 000828 0x80866680 AC620004 */ sw	$v0, 0X4($v1)
/* 000829 0x80866684 8E0202C0 */ lw	$v0, 0X2C0($s0)
/* 000830 0x80866688 3C0EDE00 */ lui	$t6, 0xDE00
/* 000831 0x8086668C 244C0008 */ addiu	$t4, $v0, 0X8
/* 000832 0x80866690 AE0C02C0 */ sw	$t4, 0X2C0($s0)
/* 000833 0x80866694 AC4E0000 */ sw	$t6, 0X0($v0)
/* 000834 0x80866698 8FAD0068 */ lw	$t5, 0X68($sp)
/* 000835 0x8086669C AC4D0004 */ sw	$t5, 0X4($v0)
/* 000836 0x808666A0 8FBF003C */ lw	$ra, 0X3C($sp)
/* 000837 0x808666A4 8FB00038 */ lw	$s0, 0X38($sp)
/* 000838 0x808666A8 03E00008 */ jr	$ra
/* 000839 0x808666AC 27BD0078 */ addiu	$sp, $sp, 0X78
