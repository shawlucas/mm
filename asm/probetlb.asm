.set noat # allow use of $at
.set noreorder # don't insert nops after branches
.set gp=64 # allow use of 64bit registers
.macro glabel label
    .global \label
    \label:
.endm


glabel __osProbeTLB
/* 012224 0x8008BF60 40085000 */ mfc0	$t0, $10
/* 012225 0x8008BF64 310900FF */ andi	$t1, $t0, 0XFF
/* 012226 0x8008BF68 2401E000 */ li	$at, -0X2000
/* 012227 0x8008BF6C 00815024 */ and	$t2, $a0, $at
/* 012228 0x8008BF70 012A4825 */ or	$t1, $t1, $t2
/* 012229 0x8008BF74 40895000 */ mtc0	$t1, $10
/* 012230 0x8008BF78 00000000 */ nop
/* 012231 0x8008BF7C 00000000 */ nop
/* 012232 0x8008BF80 00000000 */ nop
/* 012233 0x8008BF84 42000008 */ tlbp
/* 012234 0x8008BF88 00000000 */ nop
/* 012235 0x8008BF8C 00000000 */ nop
/* 012236 0x8008BF90 400B0000 */ mfc0	$t3, $0
/* 012237 0x8008BF94 3C018000 */ lui	$at, 0x8000
/* 012238 0x8008BF98 01615824 */ and	$t3, $t3, $at
/* 012239 0x8008BF9C 1560001A */ bnez	$t3, .L8008C008
/* 012240 0x8008BFA0 00000000 */ nop
/* 012241 0x8008BFA4 42000001 */ tlbr
/* 012242 0x8008BFA8 00000000 */ nop
/* 012243 0x8008BFAC 00000000 */ nop
/* 012244 0x8008BFB0 00000000 */ nop
/* 012245 0x8008BFB4 400B2800 */ mfc0	$t3, $5
/* 012246 0x8008BFB8 216B2000 */ addi	$t3, $t3, 0X2000
/* 012247 0x8008BFBC 000B5842 */ srl	$t3, $t3, 1
/* 012248 0x8008BFC0 01646024 */ and	$t4, $t3, $a0
/* 012249 0x8008BFC4 15800004 */ bnez	$t4, .L8008BFD8
/* 012250 0x8008BFC8 216BFFFF */ addi	$t3, $t3, -0X1
/* 012251 0x8008BFCC 40021000 */ mfc0	$v0, $2
/* 012252 0x8008BFD0 10000002 */ b	.L8008BFDC
/* 012253 0x8008BFD4 00000000 */ nop
.L8008BFD8:
/* 012254 0x8008BFD8 40021800 */ mfc0	$v0, $3
.L8008BFDC:
/* 012255 0x8008BFDC 304D0002 */ andi	$t5, $v0, 0X2
/* 012256 0x8008BFE0 11A00009 */ beqz	$t5, .L8008C008
/* 012257 0x8008BFE4 00000000 */ nop
/* 012258 0x8008BFE8 3C013FFF */ lui	$at, 0x3FFF
/* 012259 0x8008BFEC 3421FFC0 */ ori	$at, $at, 0XFFC0
/* 012260 0x8008BFF0 00411024 */ and	$v0, $v0, $at
/* 012261 0x8008BFF4 00021180 */ sll	$v0, $v0, 6
/* 012262 0x8008BFF8 008B6824 */ and	$t5, $a0, $t3
/* 012263 0x8008BFFC 004D1020 */ add	$v0, $v0, $t5
/* 012264 0x8008C000 10000002 */ b	.L8008C00C
/* 012265 0x8008C004 00000000 */ nop
.L8008C008:
/* 012266 0x8008C008 2402FFFF */ li	$v0, -0X1
.L8008C00C:
/* 012267 0x8008C00C 40885000 */ mtc0	$t0, $10
/* 012268 0x8008C010 03E00008 */ jr	$ra
/* 012269 0x8008C014 00000000 */ nop
/* 012270 0x8008C018 00000000 */ nop
/* 012271 0x8008C01C 00000000 */ nop
