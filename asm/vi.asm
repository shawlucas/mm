.set noat # allow use of $at
.set noreorder # don't insert nops after branches
.set gp=64 # allow use of 64bit registers
.macro glabel label
    .global \label
    \label:
.endm


glabel __osViInit
/* 018084 0x80091AF0 27BDFFE8 */ addiu	$sp, $sp, -0X18
/* 018085 0x80091AF4 AFBF0014 */ sw	$ra, 0X14($sp)
/* 018086 0x80091AF8 3C04800A */ lui	$a0, %hi(D_80098060)
/* 018087 0x80091AFC 24848060 */ addiu	$a0, $a0, %lo(D_80098060)
/* 018088 0x80091B00 0C02258C */ jal	bzero
/* 018089 0x80091B04 24050060 */ li	$a1, 0X60
/* 018090 0x80091B08 3C02800A */ lui	$v0, %hi(__osViCurr)
/* 018091 0x80091B0C 3C04800A */ lui	$a0, %hi(__osViNext)
/* 018092 0x80091B10 3C0E800A */ lui	$t6, %hi(D_80098060)
/* 018093 0x80091B14 3C0F800A */ lui	$t7, %hi(D_80098060 + 0x30)
/* 018094 0x80091B18 248480C4 */ addiu	$a0, $a0, %lo(__osViNext)
/* 018095 0x80091B1C 244280C0 */ addiu	$v0, $v0, %lo(__osViCurr)
/* 018096 0x80091B20 25CE8060 */ addiu	$t6, $t6, %lo(D_80098060)
/* 018097 0x80091B24 25EF8090 */ addiu	$t7, $t7, %lo(D_80098060 + 0x30)
/* 018098 0x80091B28 24050001 */ li	$a1, 0X1
/* 018099 0x80091B2C AC4E0000 */ sw	$t6, 0X0($v0)
/* 018100 0x80091B30 AC8F0000 */ sw	$t7, 0X0($a0)
/* 018101 0x80091B34 A5E50002 */ sh	$a1, 0X2($t7)
/* 018102 0x80091B38 8C590000 */ lw	$t9, 0X0($v0)
/* 018103 0x80091B3C 3C068000 */ lui	$a2, 0x8000
/* 018104 0x80091B40 3C038000 */ lui	$v1, %hi(osTvType)
/* 018105 0x80091B44 A7250002 */ sh	$a1, 0X2($t9)
/* 018106 0x80091B48 8C880000 */ lw	$t0, 0X0($a0)
/* 018107 0x80091B4C 3C0A8009 */ lui	$t2, %hi(osViModePalLan1)
/* 018108 0x80091B50 24010002 */ li	$at, 0X2
/* 018109 0x80091B54 AD060004 */ sw	$a2, 0X4($t0)
/* 018110 0x80091B58 8C490000 */ lw	$t1, 0X0($v0)
/* 018111 0x80091B5C AD260004 */ sw	$a2, 0X4($t1)
/* 018112 0x80091B60 8C630300 */ lw	$v1, %lo(osTvType)($v1)
/* 018113 0x80091B64 14600005 */ bnez	$v1, .L80091B7C
/* 018114 0x80091B68 00000000 */ nop
/* 018115 0x80091B6C 8C8B0000 */ lw	$t3, 0X0($a0)
/* 018116 0x80091B70 254A7590 */ addiu	$t2, $t2, %lo(osViModePalLan1)
/* 018117 0x80091B74 1000000B */ b	.L80091BA4
/* 018118 0x80091B78 AD6A0008 */ sw	$t2, 0X8($t3)
.L80091B7C:
/* 018119 0x80091B7C 14610005 */ bne	$v1, $at, .L80091B94
/* 018120 0x80091B80 3C0C800A */ lui	$t4, %hi(osViModeMpalLan1)
/* 018121 0x80091B84 8C8D0000 */ lw	$t5, 0X0($a0)
/* 018122 0x80091B88 258C8010 */ addiu	$t4, $t4, %lo(osViModeMpalLan1)
/* 018123 0x80091B8C 10000005 */ b	.L80091BA4
/* 018124 0x80091B90 ADAC0008 */ sw	$t4, 0X8($t5)
.L80091B94:
/* 018125 0x80091B94 8C8F0000 */ lw	$t7, 0X0($a0)
/* 018126 0x80091B98 3C0E8009 */ lui	$t6, %hi(osViModeNtscLan1)
/* 018127 0x80091B9C 25CE7FC0 */ addiu	$t6, $t6, %lo(osViModeNtscLan1)
/* 018128 0x80091BA0 ADEE0008 */ sw	$t6, 0X8($t7)
.L80091BA4:
/* 018129 0x80091BA4 8C990000 */ lw	$t9, 0X0($a0)
/* 018130 0x80091BA8 24180020 */ li	$t8, 0X20
/* 018131 0x80091BAC 3C02A440 */ lui	$v0, 0xA440
/* 018132 0x80091BB0 A7380000 */ sh	$t8, 0X0($t9)
/* 018133 0x80091BB4 8C830000 */ lw	$v1, 0X0($a0)
/* 018134 0x80091BB8 34420010 */ ori	$v0, $v0, 0X10
/* 018135 0x80091BBC 3C0CA440 */ lui	$t4, 0xA440
/* 018136 0x80091BC0 8C680008 */ lw	$t0, 0X8($v1)
/* 018137 0x80091BC4 8D090004 */ lw	$t1, 0X4($t0)
/* 018138 0x80091BC8 AC69000C */ sw	$t1, 0XC($v1)
/* 018139 0x80091BCC 8C4A0000 */ lw	$t2, 0X0($v0)
/* 018140 0x80091BD0 2D41000B */ sltiu	$at, $t2, 0XB
/* 018141 0x80091BD4 14200005 */ bnez	$at, .L80091BEC
/* 018142 0x80091BD8 00000000 */ nop
/* 018143 0x80091BDC 8C4B0000 */ lw	$t3, 0X0($v0)
.L80091BE0:
/* 018144 0x80091BE0 2D61000B */ sltiu	$at, $t3, 0XB
/* 018145 0x80091BE4 5020FFFE */ beqzl	$at, .L80091BE0
/* 018146 0x80091BE8 8C4B0000 */ lw	$t3, 0X0($v0)
.L80091BEC:
/* 018147 0x80091BEC 0C024704 */ jal	__osViSwapContext
/* 018148 0x80091BF0 AD800000 */ sw	$zero, 0X0($t4)
/* 018149 0x80091BF4 8FBF0014 */ lw	$ra, 0X14($sp)
/* 018150 0x80091BF8 27BD0018 */ addiu	$sp, $sp, 0X18
/* 018151 0x80091BFC 03E00008 */ jr	$ra
/* 018152 0x80091C00 00000000 */ nop
/* 018153 0x80091C04 00000000 */ nop
/* 018154 0x80091C08 00000000 */ nop
/* 018155 0x80091C0C 00000000 */ nop
