.set noat # allow use of $at
.set noreorder # don't insert nops after branches
.set gp=64 # allow use of 64bit registers
.macro glabel label
    .global \label
    \label:
.endm


glabel __osViSwapContext
/* 018156 0x80091C10 27BDFFB8 */ addiu	$sp, $sp, -0X48
/* 018157 0x80091C14 AFB00018 */ sw	$s0, 0X18($sp)
/* 018158 0x80091C18 AFBF001C */ sw	$ra, 0X1C($sp)
/* 018159 0x80091C1C 3C10800A */ lui	$s0, %hi(__osViNext)
/* 018160 0x80091C20 3C0EA440 */ lui	$t6, 0xA440
/* 018161 0x80091C24 8E1080C4 */ lw	$s0, %lo(__osViNext)($s0)
/* 018162 0x80091C28 8DCF0010 */ lw	$t7, 0X10($t6)
/* 018163 0x80091C2C 8E050008 */ lw	$a1, 0X8($s0)
/* 018164 0x80091C30 31F80001 */ andi	$t8, $t7, 0X1
/* 018165 0x80091C34 AFB8002C */ sw	$t8, 0X2C($sp)
/* 018166 0x80091C38 8E040004 */ lw	$a0, 0X4($s0)
/* 018167 0x80091C3C 0C022950 */ jal	osVirtualToPhysical
/* 018168 0x80091C40 AFA50044 */ sw	$a1, 0X44($sp)
/* 018169 0x80091C44 8FB9002C */ lw	$t9, 0X2C($sp)
/* 018170 0x80091C48 8FA50044 */ lw	$a1, 0X44($sp)
/* 018171 0x80091C4C 960A0000 */ lhu	$t2, 0X0($s0)
/* 018172 0x80091C50 00194080 */ sll	$t0, $t9, 2
/* 018173 0x80091C54 01194021 */ addu	$t0, $t0, $t9
/* 018174 0x80091C58 00084080 */ sll	$t0, $t0, 2
/* 018175 0x80091C5C 00A83021 */ addu	$a2, $a1, $t0
/* 018176 0x80091C60 8CC90028 */ lw	$t1, 0X28($a2)
/* 018177 0x80091C64 314B0002 */ andi	$t3, $t2, 0X2
/* 018178 0x80091C68 11600008 */ beqz	$t3, .L80091C8C
/* 018179 0x80091C6C 01222021 */ addu	$a0, $t1, $v0
/* 018180 0x80091C70 8CAD0020 */ lw	$t5, 0X20($a1)
/* 018181 0x80091C74 8E0C0020 */ lw	$t4, 0X20($s0)
/* 018182 0x80091C78 2401F000 */ li	$at, -0X1000
/* 018183 0x80091C7C 01A17024 */ and	$t6, $t5, $at
/* 018184 0x80091C80 018E7825 */ or	$t7, $t4, $t6
/* 018185 0x80091C84 10000003 */ b	.L80091C94
/* 018186 0x80091C88 AE0F0020 */ sw	$t7, 0X20($s0)
.L80091C8C:
/* 018187 0x80091C8C 8CB80020 */ lw	$t8, 0X20($a1)
/* 018188 0x80091C90 AE180020 */ sw	$t8, 0X20($s0)
.L80091C94:
/* 018189 0x80091C94 96190000 */ lhu	$t9, 0X0($s0)
/* 018190 0x80091C98 33280004 */ andi	$t0, $t9, 0X4
/* 018191 0x80091C9C 51000035 */ beqzl	$t0, .L80091D74
/* 018192 0x80091CA0 8CCE002C */ lw	$t6, 0X2C($a2)
/* 018193 0x80091CA4 8CC3002C */ lw	$v1, 0X2C($a2)
/* 018194 0x80091CA8 C6040024 */ lwc1	$f4, 0X24($s0)
/* 018195 0x80091CAC 3C014F80 */ lui	$at, 0x4F80
/* 018196 0x80091CB0 30690FFF */ andi	$t1, $v1, 0XFFF
/* 018197 0x80091CB4 44893000 */ mtc1	$t1, $f6
/* 018198 0x80091CB8 05210004 */ bgez	$t1, .L80091CCC
/* 018199 0x80091CBC 46803220 */ cvt.s.w	$f8, $f6
/* 018200 0x80091CC0 44815000 */ mtc1	$at, $f10
/* 018201 0x80091CC4 00000000 */ nop
/* 018202 0x80091CC8 460A4200 */ add.s	$f8, $f8, $f10
.L80091CCC:
/* 018203 0x80091CCC 46082402 */ mul.s	$f16, $f4, $f8
/* 018204 0x80091CD0 24020001 */ li	$v0, 0X1
/* 018205 0x80091CD4 3C014F00 */ lui	$at, 0x4F00
/* 018206 0x80091CD8 444AF800 */ cfc1	$t2, $31
/* 018207 0x80091CDC 44C2F800 */ ctc1	$v0, $31
/* 018208 0x80091CE0 00000000 */ nop
/* 018209 0x80091CE4 460084A4 */ cvt.w.s	$f18, $f16
/* 018210 0x80091CE8 4442F800 */ cfc1	$v0, $31
/* 018211 0x80091CEC 00000000 */ nop
/* 018212 0x80091CF0 30420078 */ andi	$v0, $v0, 0X78
/* 018213 0x80091CF4 50400013 */ beqzl	$v0, .L80091D44
/* 018214 0x80091CF8 44029000 */ mfc1	$v0, $f18
/* 018215 0x80091CFC 44819000 */ mtc1	$at, $f18
/* 018216 0x80091D00 24020001 */ li	$v0, 0X1
/* 018217 0x80091D04 46128481 */ sub.s	$f18, $f16, $f18
/* 018218 0x80091D08 44C2F800 */ ctc1	$v0, $31
/* 018219 0x80091D0C 00000000 */ nop
/* 018220 0x80091D10 460094A4 */ cvt.w.s	$f18, $f18
/* 018221 0x80091D14 4442F800 */ cfc1	$v0, $31
/* 018222 0x80091D18 00000000 */ nop
/* 018223 0x80091D1C 30420078 */ andi	$v0, $v0, 0X78
/* 018224 0x80091D20 14400005 */ bnez	$v0, .L80091D38
/* 018225 0x80091D24 00000000 */ nop
/* 018226 0x80091D28 44029000 */ mfc1	$v0, $f18
/* 018227 0x80091D2C 3C018000 */ lui	$at, 0x8000
/* 018228 0x80091D30 10000007 */ b	.L80091D50
/* 018229 0x80091D34 00411025 */ or	$v0, $v0, $at
.L80091D38:
/* 018230 0x80091D38 10000005 */ b	.L80091D50
/* 018231 0x80091D3C 2402FFFF */ li	$v0, -0X1
/* 018232 0x80091D40 44029000 */ mfc1	$v0, $f18
.L80091D44:
/* 018233 0x80091D44 00000000 */ nop
/* 018234 0x80091D48 0440FFFB */ bltz	$v0, .L80091D38
/* 018235 0x80091D4C 00000000 */ nop
.L80091D50:
/* 018236 0x80091D50 AE02002C */ sw	$v0, 0X2C($s0)
/* 018237 0x80091D54 8CCB002C */ lw	$t3, 0X2C($a2)
/* 018238 0x80091D58 2401F000 */ li	$at, -0X1000
/* 018239 0x80091D5C 44CAF800 */ ctc1	$t2, $31
/* 018240 0x80091D60 01616824 */ and	$t5, $t3, $at
/* 018241 0x80091D64 004D6025 */ or	$t4, $v0, $t5
/* 018242 0x80091D68 10000003 */ b	.L80091D78
/* 018243 0x80091D6C AE0C002C */ sw	$t4, 0X2C($s0)
/* 018244 0x80091D70 8CCE002C */ lw	$t6, 0X2C($a2)
.L80091D74:
/* 018245 0x80091D74 AE0E002C */ sw	$t6, 0X2C($s0)
.L80091D78:
/* 018246 0x80091D78 3C02800A */ lui	$v0, %hi(D_8009817C)
/* 018247 0x80091D7C 8C42817C */ lw	$v0, %lo(D_8009817C)($v0)
/* 018248 0x80091D80 8CCF0030 */ lw	$t7, 0X30($a2)
/* 018249 0x80091D84 0002C400 */ sll	$t8, $v0, 16
/* 018250 0x80091D88 01F8C823 */ subu	$t9, $t7, $t8
/* 018251 0x80091D8C 03224021 */ addu	$t0, $t9, $v0
/* 018252 0x80091D90 AFA80034 */ sw	$t0, 0X34($sp)
/* 018253 0x80091D94 96030000 */ lhu	$v1, 0X0($s0)
/* 018254 0x80091D98 8CA7001C */ lw	$a3, 0X1C($a1)
/* 018255 0x80091D9C 30690020 */ andi	$t1, $v1, 0X20
/* 018256 0x80091DA0 11200002 */ beqz	$t1, .L80091DAC
/* 018257 0x80091DA4 306A0040 */ andi	$t2, $v1, 0X40
/* 018258 0x80091DA8 00003825 */ move	$a3, $zero
.L80091DAC:
/* 018259 0x80091DAC 5140000D */ beqzl	$t2, .L80091DE4
/* 018260 0x80091DB0 306B0080 */ andi	$t3, $v1, 0X80
/* 018261 0x80091DB4 AE00002C */ sw	$zero, 0X2C($s0)
/* 018262 0x80091DB8 8E040004 */ lw	$a0, 0X4($s0)
/* 018263 0x80091DBC AFA70038 */ sw	$a3, 0X38($sp)
/* 018264 0x80091DC0 AFA60024 */ sw	$a2, 0X24($sp)
/* 018265 0x80091DC4 0C022950 */ jal	osVirtualToPhysical
/* 018266 0x80091DC8 AFA50044 */ sw	$a1, 0X44($sp)
/* 018267 0x80091DCC 8FA50044 */ lw	$a1, 0X44($sp)
/* 018268 0x80091DD0 8FA60024 */ lw	$a2, 0X24($sp)
/* 018269 0x80091DD4 8FA70038 */ lw	$a3, 0X38($sp)
/* 018270 0x80091DD8 00402025 */ move	$a0, $v0
/* 018271 0x80091DDC 96030000 */ lhu	$v1, 0X0($s0)
/* 018272 0x80091DE0 306B0080 */ andi	$t3, $v1, 0X80
.L80091DE4:
/* 018273 0x80091DE4 51600010 */ beqzl	$t3, .L80091E28
/* 018274 0x80091DE8 3C0FA440 */ lui	$t7, 0xA440
/* 018275 0x80091DEC 960D0028 */ lhu	$t5, 0X28($s0)
/* 018276 0x80091DF0 3C0103FF */ lui	$at, 0x03FF
/* 018277 0x80091DF4 8E040004 */ lw	$a0, 0X4($s0)
/* 018278 0x80091DF8 000D6400 */ sll	$t4, $t5, 16
/* 018279 0x80091DFC 01817024 */ and	$t6, $t4, $at
/* 018280 0x80091E00 AE0E002C */ sw	$t6, 0X2C($s0)
/* 018281 0x80091E04 AFA70038 */ sw	$a3, 0X38($sp)
/* 018282 0x80091E08 AFA60024 */ sw	$a2, 0X24($sp)
/* 018283 0x80091E0C 0C022950 */ jal	osVirtualToPhysical
/* 018284 0x80091E10 AFA50044 */ sw	$a1, 0X44($sp)
/* 018285 0x80091E14 8FA50044 */ lw	$a1, 0X44($sp)
/* 018286 0x80091E18 8FA60024 */ lw	$a2, 0X24($sp)
/* 018287 0x80091E1C 8FA70038 */ lw	$a3, 0X38($sp)
/* 018288 0x80091E20 00402025 */ move	$a0, $v0
/* 018289 0x80091E24 3C0FA440 */ lui	$t7, 0xA440
.L80091E28:
/* 018290 0x80091E28 ADE40004 */ sw	$a0, 0X4($t7)
/* 018291 0x80091E2C 8CB80008 */ lw	$t8, 0X8($a1)
/* 018292 0x80091E30 3C19A440 */ lui	$t9, 0xA440
/* 018293 0x80091E34 3C09A440 */ lui	$t1, 0xA440
/* 018294 0x80091E38 AF380008 */ sw	$t8, 0X8($t9)
/* 018295 0x80091E3C 8CA8000C */ lw	$t0, 0XC($a1)
/* 018296 0x80091E40 3C0BA440 */ lui	$t3, 0xA440
/* 018297 0x80091E44 3C0CA440 */ lui	$t4, 0xA440
/* 018298 0x80091E48 AD280014 */ sw	$t0, 0X14($t1)
/* 018299 0x80091E4C 8CAA0010 */ lw	$t2, 0X10($a1)
/* 018300 0x80091E50 3C18A440 */ lui	$t8, 0xA440
/* 018301 0x80091E54 3C08A440 */ lui	$t0, 0xA440
/* 018302 0x80091E58 AD6A0018 */ sw	$t2, 0X18($t3)
/* 018303 0x80091E5C 8CAD0014 */ lw	$t5, 0X14($a1)
/* 018304 0x80091E60 3C0AA440 */ lui	$t2, 0xA440
/* 018305 0x80091E64 3C02800A */ lui	$v0, %hi(__osViCurr)
/* 018306 0x80091E68 AD8D001C */ sw	$t5, 0X1C($t4)
/* 018307 0x80091E6C 8CAE0018 */ lw	$t6, 0X18($a1)
/* 018308 0x80091E70 3C0DA440 */ lui	$t5, 0xA440
/* 018309 0x80091E74 244280C0 */ addiu	$v0, $v0, %lo(__osViCurr)
/* 018310 0x80091E78 ADEE0020 */ sw	$t6, 0X20($t7)
/* 018311 0x80091E7C AF070024 */ sw	$a3, 0X24($t8)
/* 018312 0x80091E80 8FB90034 */ lw	$t9, 0X34($sp)
/* 018313 0x80091E84 3C0EA440 */ lui	$t6, 0xA440
/* 018314 0x80091E88 3C03800A */ lui	$v1, %hi(__osViNext)
/* 018315 0x80091E8C AD190028 */ sw	$t9, 0X28($t0)
/* 018316 0x80091E90 8CC90034 */ lw	$t1, 0X34($a2)
/* 018317 0x80091E94 246380C4 */ addiu	$v1, $v1, %lo(__osViNext)
/* 018318 0x80091E98 AD49002C */ sw	$t1, 0X2C($t2)
/* 018319 0x80091E9C 8CCB0038 */ lw	$t3, 0X38($a2)
/* 018320 0x80091EA0 ADAB000C */ sw	$t3, 0XC($t5)
/* 018321 0x80091EA4 8E0C0020 */ lw	$t4, 0X20($s0)
/* 018322 0x80091EA8 02005825 */ move	$t3, $s0
/* 018323 0x80091EAC ADCC0030 */ sw	$t4, 0X30($t6)
/* 018324 0x80091EB0 8E0F002C */ lw	$t7, 0X2C($s0)
/* 018325 0x80091EB4 260C0030 */ addiu	$t4, $s0, 0X30
/* 018326 0x80091EB8 AF0F0034 */ sw	$t7, 0X34($t8)
/* 018327 0x80091EBC 8E19000C */ lw	$t9, 0XC($s0)
/* 018328 0x80091EC0 AD190000 */ sw	$t9, 0X0($t0)
/* 018329 0x80091EC4 8C4A0000 */ lw	$t2, 0X0($v0)
/* 018330 0x80091EC8 AC500000 */ sw	$s0, 0X0($v0)
/* 018331 0x80091ECC AC6A0000 */ sw	$t2, 0X0($v1)
.L80091ED0:
/* 018332 0x80091ED0 8D610000 */ lw	$at, 0X0($t3)
/* 018333 0x80091ED4 256B000C */ addiu	$t3, $t3, 0XC
/* 018334 0x80091ED8 254A000C */ addiu	$t2, $t2, 0XC
/* 018335 0x80091EDC AD41FFF4 */ sw	$at, -0XC($t2)
/* 018336 0x80091EE0 8D61FFF8 */ lw	$at, -0X8($t3)
/* 018337 0x80091EE4 AD41FFF8 */ sw	$at, -0X8($t2)
/* 018338 0x80091EE8 8D61FFFC */ lw	$at, -0X4($t3)
/* 018339 0x80091EEC 156CFFF8 */ bne	$t3, $t4, .L80091ED0
/* 018340 0x80091EF0 AD41FFFC */ sw	$at, -0X4($t2)
/* 018341 0x80091EF4 8FBF001C */ lw	$ra, 0X1C($sp)
/* 018342 0x80091EF8 8FB00018 */ lw	$s0, 0X18($sp)
/* 018343 0x80091EFC 27BD0048 */ addiu	$sp, $sp, 0X48
/* 018344 0x80091F00 03E00008 */ jr	$ra
/* 018345 0x80091F04 00000000 */ nop
/* 018346 0x80091F08 00000000 */ nop
/* 018347 0x80091F0C 00000000 */ nop
