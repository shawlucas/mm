.set noat # allow use of $at
.set noreorder # don't insert nops after branches
.set gp=64 # allow use of 64bit registers
.macro glabel label
    .global \label
    \label:
.endm


glabel PreNMI_Stop
/* 135436 0x80129EF0 A080009B */ sb	$zero, 0X9B($a0)
/* 135437 0x80129EF4 AC80000C */ sw	$zero, 0XC($a0)
/* 135438 0x80129EF8 AC800010 */ sw	$zero, 0X10($a0)
/* 135439 0x80129EFC 03E00008 */ jr	$ra
/* 135440 0x80129F00 00000000 */ nop

glabel PreNMI_Update
/* 135441 0x80129F04 27BDFFE8 */ addiu	$sp, $sp, -0X18
/* 135442 0x80129F08 AFBF0014 */ sw	$ra, 0X14($sp)
/* 135443 0x80129F0C 00802825 */ move	$a1, $a0
/* 135444 0x80129F10 8CA200A4 */ lw	$v0, 0XA4($a1)
/* 135445 0x80129F14 24040001 */ li	$a0, 0X1
/* 135446 0x80129F18 14400007 */ bnez	$v0, .L80129F38
/* 135447 0x80129F1C 244EFFFF */ addiu	$t6, $v0, -0X1
/* 135448 0x80129F20 0C020178 */ jal	ViConfig_UpdateVi
/* 135449 0x80129F24 AFA50018 */ sw	$a1, 0X18($sp)
/* 135450 0x80129F28 0C04A7BC */ jal	PreNMI_Stop
/* 135451 0x80129F2C 8FA40018 */ lw	$a0, 0X18($sp)
/* 135452 0x80129F30 10000003 */ b	.L80129F40
/* 135453 0x80129F34 8FBF0014 */ lw	$ra, 0X14($sp)
.L80129F38:
/* 135454 0x80129F38 ACAE00A4 */ sw	$t6, 0XA4($a1)
/* 135455 0x80129F3C 8FBF0014 */ lw	$ra, 0X14($sp)
.L80129F40:
/* 135456 0x80129F40 27BD0018 */ addiu	$sp, $sp, 0X18
/* 135457 0x80129F44 03E00008 */ jr	$ra
/* 135458 0x80129F48 00000000 */ nop

glabel PreNMI_Draw
/* 135459 0x80129F4C 27BDFFD8 */ addiu	$sp, $sp, -0X28
/* 135460 0x80129F50 AFBF001C */ sw	$ra, 0X1C($sp)
/* 135461 0x80129F54 AFA40028 */ sw	$a0, 0X28($sp)
/* 135462 0x80129F58 8FAE0028 */ lw	$t6, 0X28($sp)
/* 135463 0x80129F5C 24050001 */ li	$a1, 0X1
/* 135464 0x80129F60 24060001 */ li	$a2, 0X1
/* 135465 0x80129F64 8DC40000 */ lw	$a0, 0X0($t6)
/* 135466 0x80129F68 AFA00014 */ sw	$zero, 0X14($sp)
/* 135467 0x80129F6C AFA00010 */ sw	$zero, 0X10($sp)
/* 135468 0x80129F70 00003825 */ move	$a3, $zero
/* 135469 0x80129F74 0C04B3C3 */ jal	func_8012CF0C
/* 135470 0x80129F78 AFA40024 */ sw	$a0, 0X24($sp)
/* 135471 0x80129F7C 8FA40024 */ lw	$a0, 0X24($sp)
/* 135472 0x80129F80 0C04B11C */ jal	func_8012C470
/* 135473 0x80129F84 00000000 */ nop
/* 135474 0x80129F88 8FA40024 */ lw	$a0, 0X24($sp)
/* 135475 0x80129F8C 8C8302B0 */ lw	$v1, 0X2B0($a0)
/* 135476 0x80129F90 3C18F700 */ lui	$t8, 0xF700
/* 135477 0x80129F94 2419FFFF */ li	$t9, -0X1
/* 135478 0x80129F98 246F0008 */ addiu	$t7, $v1, 0X8
/* 135479 0x80129F9C AC8F02B0 */ sw	$t7, 0X2B0($a0)
/* 135480 0x80129FA0 AC790004 */ sw	$t9, 0X4($v1)
/* 135481 0x80129FA4 AC780000 */ sw	$t8, 0X0($v1)
/* 135482 0x80129FA8 8FA50028 */ lw	$a1, 0X28($sp)
/* 135483 0x80129FAC 8C8302B0 */ lw	$v1, 0X2B0($a0)
/* 135484 0x80129FB0 3C01F64F */ lui	$at, 0xF64F
/* 135485 0x80129FB4 3421C000 */ ori	$at, $at, 0XC000
/* 135486 0x80129FB8 24680008 */ addiu	$t0, $v1, 0X8
/* 135487 0x80129FBC AC8802B0 */ sw	$t0, 0X2B0($a0)
/* 135488 0x80129FC0 8CA900A4 */ lw	$t1, 0XA4($a1)
/* 135489 0x80129FC4 252A0064 */ addiu	$t2, $t1, 0X64
/* 135490 0x80129FC8 314B03FF */ andi	$t3, $t2, 0X3FF
/* 135491 0x80129FCC 000B6080 */ sll	$t4, $t3, 2
/* 135492 0x80129FD0 01816825 */ or	$t5, $t4, $at
/* 135493 0x80129FD4 AC6D0000 */ sw	$t5, 0X0($v1)
/* 135494 0x80129FD8 8CAE00A4 */ lw	$t6, 0XA4($a1)
/* 135495 0x80129FDC 25CF0064 */ addiu	$t7, $t6, 0X64
/* 135496 0x80129FE0 31F803FF */ andi	$t8, $t7, 0X3FF
/* 135497 0x80129FE4 0018C880 */ sll	$t9, $t8, 2
/* 135498 0x80129FE8 AC790004 */ sw	$t9, 0X4($v1)
/* 135499 0x80129FEC 8FBF001C */ lw	$ra, 0X1C($sp)
/* 135500 0x80129FF0 03E00008 */ jr	$ra
/* 135501 0x80129FF4 27BD0028 */ addiu	$sp, $sp, 0X28

glabel PreNMI_Main
/* 135502 0x80129FF8 27BDFFE8 */ addiu	$sp, $sp, -0X18
/* 135503 0x80129FFC AFBF0014 */ sw	$ra, 0X14($sp)
/* 135504 0x8012A000 AFA40018 */ sw	$a0, 0X18($sp)
/* 135505 0x8012A004 0C04A7C1 */ jal	PreNMI_Update
/* 135506 0x8012A008 8FA40018 */ lw	$a0, 0X18($sp)
/* 135507 0x8012A00C 0C04A7D3 */ jal	PreNMI_Draw
/* 135508 0x8012A010 8FA40018 */ lw	$a0, 0X18($sp)
/* 135509 0x8012A014 8FAF0018 */ lw	$t7, 0X18($sp)
/* 135510 0x8012A018 240E0001 */ li	$t6, 0X1
/* 135511 0x8012A01C A1EE00A3 */ sb	$t6, 0XA3($t7)
/* 135512 0x8012A020 8FBF0014 */ lw	$ra, 0X14($sp)
/* 135513 0x8012A024 03E00008 */ jr	$ra
/* 135514 0x8012A028 27BD0018 */ addiu	$sp, $sp, 0X18

glabel PreNMI_Destroy
/* 135515 0x8012A02C AFA40000 */ sw	$a0, 0X0($sp)
/* 135516 0x8012A030 03E00008 */ jr	$ra
/* 135517 0x8012A034 00000000 */ nop

glabel PreNMI_Init
/* 135518 0x8012A038 27BDFFE8 */ addiu	$sp, $sp, -0X18
/* 135519 0x8012A03C AFBF0014 */ sw	$ra, 0X14($sp)
/* 135520 0x8012A040 3C0E8013 */ lui	$t6, %hi(PreNMI_Main)
/* 135521 0x8012A044 3C0F8013 */ lui	$t7, %hi(PreNMI_Destroy)
/* 135522 0x8012A048 25CE9FF8 */ addiu	$t6, $t6, %lo(PreNMI_Main)
/* 135523 0x8012A04C 25EFA02C */ addiu	$t7, $t7, %lo(PreNMI_Destroy)
/* 135524 0x8012A050 2418001E */ li	$t8, 0X1E
/* 135525 0x8012A054 2419000A */ li	$t9, 0XA
/* 135526 0x8012A058 AC8E0004 */ sw	$t6, 0X4($a0)
/* 135527 0x8012A05C AC8F0008 */ sw	$t7, 0X8($a0)
/* 135528 0x8012A060 AC9800A4 */ sw	$t8, 0XA4($a0)
/* 135529 0x8012A064 AC9900A8 */ sw	$t9, 0XA8($a0)
/* 135530 0x8012A068 0C05CCEA */ jal	Game_SetFramerateDivisor
/* 135531 0x8012A06C 24050001 */ li	$a1, 0X1
/* 135532 0x8012A070 8FBF0014 */ lw	$ra, 0X14($sp)
/* 135533 0x8012A074 27BD0018 */ addiu	$sp, $sp, 0X18
/* 135534 0x8012A078 03E00008 */ jr	$ra
/* 135535 0x8012A07C 00000000 */ nop
